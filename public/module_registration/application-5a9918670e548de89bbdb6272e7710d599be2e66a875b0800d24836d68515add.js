(function(){function t(t){function e(e,n,i,r,o,a){for(;o>=0&&o<a;o+=t){var s=r?r[o]:o;i=n(i,e[s],s,e)}return i}return function(n,i,r,o){i=b(i,o,4);var a=!k(n)&&y.keys(n),s=(a||n).length,l=t>0?0:s-1;return arguments.length<3&&(r=n[a?a[l]:l],l+=t),e(n,i,r,a,l,s)}}function e(t){return function(e,n,i){n=w(n,i);for(var r=D(e),o=t>0?0:r-1;o>=0&&o<r;o+=t)if(n(e[o],o,e))return o;return-1}}function n(t,e,n){return function(i,r,o){var a=0,s=D(i);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(i,r),i[o]===r?o:-1;if(r!==r)return o=e(d.call(i,a,s),y.isNaN),o>=0?o+a:-1;for(o=t>0?a:s-1;o>=0&&o<s;o+=t)if(i[o]===r)return o;return-1}}function i(t,e){var n=P.length,i=t.constructor,r=y.isFunction(i)&&i.prototype||s,o="constructor";for(y.has(t,o)&&!y.contains(e,o)&&e.push(o);n--;)(o=P[n])in t&&t[o]!==r[o]&&!y.contains(e,o)&&e.push(o)}var r=this,o=r._,a=Array.prototype,s=Object.prototype,l=Function.prototype,u=a.push,d=a.slice,c=s.toString,h=s.hasOwnProperty,p=Array.isArray,f=Object.keys,g=l.bind,m=Object.create,v=function(){},y=function(t){return t instanceof y?t:this instanceof y?void(this._wrapped=t):new y(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):r._=y,y.VERSION="1.8.3";var b=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}},w=function(t,e,n){return null==t?y.identity:y.isFunction(t)?b(t,e,n):y.isObject(t)?y.matcher(t):y.property(t)};y.iteratee=function(t,e){return w(t,e,Infinity)};var _=function(t,e){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],a=t(o),s=a.length,l=0;l<s;l++){var u=a[l];e&&void 0!==n[u]||(n[u]=o[u])}return n}},$=function(t){if(!y.isObject(t))return{};if(m)return m(t);v.prototype=t;var e=new v;return v.prototype=null,e},C=function(t){return function(e){return null==e?void 0:e[t]}},x=Math.pow(2,53)-1,D=C("length"),k=function(t){var e=D(t);return"number"==typeof e&&e>=0&&e<=x};y.each=y.forEach=function(t,e,n){e=b(e,n);var i,r;if(k(t))for(i=0,r=t.length;i<r;i++)e(t[i],i,t);else{var o=y.keys(t);for(i=0,r=o.length;i<r;i++)e(t[o[i]],o[i],t)}return t},y.map=y.collect=function(t,e,n){e=w(e,n);for(var i=!k(t)&&y.keys(t),r=(i||t).length,o=Array(r),a=0;a<r;a++){var s=i?i[a]:a;o[a]=e(t[s],s,t)}return o},y.reduce=y.foldl=y.inject=t(1),y.reduceRight=y.foldr=t(-1),y.find=y.detect=function(t,e,n){var i;if(void 0!==(i=k(t)?y.findIndex(t,e,n):y.findKey(t,e,n))&&-1!==i)return t[i]},y.filter=y.select=function(t,e,n){var i=[];return e=w(e,n),y.each(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i},y.reject=function(t,e,n){return y.filter(t,y.negate(w(e)),n)},y.every=y.all=function(t,e,n){e=w(e,n);for(var i=!k(t)&&y.keys(t),r=(i||t).length,o=0;o<r;o++){var a=i?i[o]:o;if(!e(t[a],a,t))return!1}return!0},y.some=y.any=function(t,e,n){e=w(e,n);for(var i=!k(t)&&y.keys(t),r=(i||t).length,o=0;o<r;o++){var a=i?i[o]:o;if(e(t[a],a,t))return!0}return!1},y.contains=y.includes=y.include=function(t,e,n,i){return k(t)||(t=y.values(t)),("number"!=typeof n||i)&&(n=0),y.indexOf(t,e,n)>=0},y.invoke=function(t,e){var n=d.call(arguments,2),i=y.isFunction(e);return y.map(t,function(t){var r=i?e:t[e];return null==r?r:r.apply(t,n)})},y.pluck=function(t,e){return y.map(t,y.property(e))},y.where=function(t,e){return y.filter(t,y.matcher(e))},y.findWhere=function(t,e){return y.find(t,y.matcher(e))},y.max=function(t,e,n){var i,r,o=-Infinity,a=-Infinity;if(null==e&&null!=t){t=k(t)?t:y.values(t);for(var s=0,l=t.length;s<l;s++)(i=t[s])>o&&(o=i)}else e=w(e,n),y.each(t,function(t,n,i){((r=e(t,n,i))>a||r===-Infinity&&o===-Infinity)&&(o=t,a=r)});return o},y.min=function(t,e,n){var i,r,o=Infinity,a=Infinity;if(null==e&&null!=t){t=k(t)?t:y.values(t);for(var s=0,l=t.length;s<l;s++)(i=t[s])<o&&(o=i)}else e=w(e,n),y.each(t,function(t,n,i){((r=e(t,n,i))<a||r===Infinity&&o===Infinity)&&(o=t,a=r)});return o},y.shuffle=function(t){for(var e,n=k(t)?t:y.values(t),i=n.length,r=Array(i),o=0;o<i;o++)e=y.random(0,o),e!==o&&(r[o]=r[e]),r[e]=n[o];return r},y.sample=function(t,e,n){return null==e||n?(k(t)||(t=y.values(t)),t[y.random(t.length-1)]):y.shuffle(t).slice(0,Math.max(0,e))},y.sortBy=function(t,e,n){return e=w(e,n),y.pluck(y.map(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")};var S=function(t){return function(e,n,i){var r={};return n=w(n,i),y.each(e,function(i,o){var a=n(i,o,e);t(r,i,a)}),r}};y.groupBy=S(function(t,e,n){y.has(t,n)?t[n].push(e):t[n]=[e]}),y.indexBy=S(function(t,e,n){t[n]=e}),y.countBy=S(function(t,e,n){y.has(t,n)?t[n]++:t[n]=1}),y.toArray=function(t){return t?y.isArray(t)?d.call(t):k(t)?y.map(t,y.identity):y.values(t):[]},y.size=function(t){return null==t?0:k(t)?t.length:y.keys(t).length},y.partition=function(t,e,n){e=w(e,n);var i=[],r=[];return y.each(t,function(t,n,o){(e(t,n,o)?i:r).push(t)}),[i,r]},y.first=y.head=y.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:y.initial(t,t.length-e)},y.initial=function(t,e,n){return d.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},y.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:y.rest(t,Math.max(0,t.length-e))},y.rest=y.tail=y.drop=function(t,e,n){return d.call(t,null==e||n?1:e)},y.compact=function(t){return y.filter(t,y.identity)};var T=function(t,e,n,i){for(var r=[],o=0,a=i||0,s=D(t);a<s;a++){var l=t[a];if(k(l)&&(y.isArray(l)||y.isArguments(l))){e||(l=T(l,e,n));var u=0,d=l.length;for(r.length+=d;u<d;)r[o++]=l[u++]}else n||(r[o++]=l)}return r};y.flatten=function(t,e){return T(t,e,!1)},y.without=function(t){return y.difference(t,d.call(arguments,1))},y.uniq=y.unique=function(t,e,n,i){y.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=w(n,i));for(var r=[],o=[],a=0,s=D(t);a<s;a++){var l=t[a],u=n?n(l,a,t):l;e?(a&&o===u||r.push(l),o=u):n?y.contains(o,u)||(o.push(u),r.push(l)):y.contains(r,l)||r.push(l)}return r},y.union=function(){return y.uniq(T(arguments,!0,!0))},y.intersection=function(t){for(var e=[],n=arguments.length,i=0,r=D(t);i<r;i++){var o=t[i];if(!y.contains(e,o)){for(var a=1;a<n&&y.contains(arguments[a],o);a++);a===n&&e.push(o)}}return e},y.difference=function(t){var e=T(arguments,!0,!0,1);return y.filter(t,function(t){return!y.contains(e,t)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(t){for(var e=t&&y.max(t,D).length||0,n=Array(e),i=0;i<e;i++)n[i]=y.pluck(t,i);return n},y.object=function(t,e){for(var n={},i=0,r=D(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},y.findIndex=e(1),y.findLastIndex=e(-1),y.sortedIndex=function(t,e,n,i){n=w(n,i,1);for(var r=n(e),o=0,a=D(t);o<a;){var s=Math.floor((o+a)/2);n(t[s])<r?o=s+1:a=s}return o},y.indexOf=n(1,y.findIndex,y.sortedIndex),y.lastIndexOf=n(-1,y.findLastIndex),y.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;o<i;o++,t+=n)r[o]=t;return r};var A=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=$(t.prototype),a=t.apply(o,r);return y.isObject(a)?a:o};y.bind=function(t,e){if(g&&t.bind===g)return g.apply(t,d.call(arguments,1));if(!y.isFunction(t))throw new TypeError("Bind must be called on a function");var n=d.call(arguments,2),i=function(){return A(t,i,e,this,n.concat(d.call(arguments)))};return i},y.partial=function(t){var e=d.call(arguments,1),n=function(){for(var i=0,r=e.length,o=Array(r),a=0;a<r;a++)o[a]=e[a]===y?arguments[i++]:e[a];for(;i<arguments.length;)o.push(arguments[i++]);return A(t,n,this,this,o)};return n},y.bindAll=function(t){var e,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(e=1;e<i;e++)n=arguments[e],t[n]=y.bind(t[n],t);return t},y.memoize=function(t,e){var n=function(i){var r=n.cache,o=""+(e?e.apply(this,arguments):i);return y.has(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return n.cache={},n},y.delay=function(t,e){var n=d.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},y.defer=y.partial(y.delay,y,1),y.throttle=function(t,e,n){var i,r,o,a=null,s=0;n||(n={});var l=function(){s=!1===n.leading?0:y.now(),a=null,o=t.apply(i,r),a||(i=r=null)};return function(){var u=y.now();s||!1!==n.leading||(s=u);var d=e-(u-s);return i=this,r=arguments,d<=0||d>e?(a&&(clearTimeout(a),a=null),s=u,o=t.apply(i,r),a||(i=r=null)):a||!1===n.trailing||(a=setTimeout(l,d)),o}},y.debounce=function(t,e,n){var i,r,o,a,s,l=function(){var u=y.now()-a;u<e&&u>=0?i=setTimeout(l,e-u):(i=null,n||(s=t.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,a=y.now();var u=n&&!i;return i||(i=setTimeout(l,e)),u&&(s=t.apply(o,r),o=r=null),s}},y.wrap=function(t,e){return y.partial(e,t)},y.negate=function(t){return function(){return!t.apply(this,arguments)}},y.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},y.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},y.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},y.once=y.partial(y.before,2);var E=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(t){if(!y.isObject(t))return[];if(f)return f(t);var e=[];for(var n in t)y.has(t,n)&&e.push(n);return E&&i(t,e),e},y.allKeys=function(t){if(!y.isObject(t))return[];var e=[];for(var n in t)e.push(n);return E&&i(t,e),e},y.values=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i},y.mapObject=function(t,e,n){e=w(e,n);for(var i,r=y.keys(t),o=r.length,a={},s=0;s<o;s++)i=r[s],a[i]=e(t[i],i,t);return a},y.pairs=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i},y.invert=function(t){for(var e={},n=y.keys(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e},y.functions=y.methods=function(t){var e=[];for(var n in t)y.isFunction(t[n])&&e.push(n);return e.sort()},y.extend=_(y.allKeys),y.extendOwn=y.assign=_(y.keys),y.findKey=function(t,e,n){e=w(e,n);for(var i,r=y.keys(t),o=0,a=r.length;o<a;o++)if(i=r[o],e(t[i],i,t))return i},y.pick=function(t,e,n){var i,r,o={},a=t;if(null==a)return o;y.isFunction(e)?(r=y.allKeys(a),i=b(e,n)):(r=T(arguments,!1,!1,1),i=function(t,e,n){return e in n},a=Object(a));for(var s=0,l=r.length;s<l;s++){var u=r[s],d=a[u];i(d,u,a)&&(o[u]=d)}return o},y.omit=function(t,e,n){if(y.isFunction(e))e=y.negate(e);else{var i=y.map(T(arguments,!1,!1,1),String);e=function(t,e){return!y.contains(i,e)}}return y.pick(t,e,n)},y.defaults=_(y.allKeys,!0),y.create=function(t,e){var n=$(t);return e&&y.extendOwn(n,e),n},y.clone=function(t){return y.isObject(t)?y.isArray(t)?t.slice():y.extend({},t):t},y.tap=function(t,e){return e(t),t},y.isMatch=function(t,e){var n=y.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;o<i;o++){var a=n[o];if(e[a]!==r[a]||!(a in r))return!1}return!0};var M=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof y&&(t=t._wrapped),e instanceof y&&(e=e._wrapped);var r=c.call(t);if(r!==c.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var o="[object Array]"===r;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,s=e.constructor;if(a!==s&&!(y.isFunction(a)&&a instanceof a&&y.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],i=i||[];for(var l=n.length;l--;)if(n[l]===t)return i[l]===e;if(n.push(t),i.push(e),o){if((l=t.length)!==e.length)return!1;for(;l--;)if(!M(t[l],e[l],n,i))return!1}else{var u,d=y.keys(t);if(l=d.length,y.keys(e).length!==l)return!1;for(;l--;)if(u=d[l],!y.has(e,u)||!M(t[u],e[u],n,i))return!1}return n.pop(),i.pop(),!0};y.isEqual=function(t,e){return M(t,e)},y.isEmpty=function(t){return null==t||(k(t)&&(y.isArray(t)||y.isString(t)||y.isArguments(t))?0===t.length:0===y.keys(t).length)},y.isElement=function(t){return!(!t||1!==t.nodeType)},y.isArray=p||function(t){return"[object Array]"===c.call(t)},y.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){y["is"+t]=function(e){return c.call(e)==="[object "+t+"]"}}),y.isArguments(arguments)||(y.isArguments=function(t){return y.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(t){return"function"==typeof t||!1}),y.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},y.isNaN=function(t){return y.isNumber(t)&&t!==+t},y.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===c.call(t)},y.isNull=function(t){return null===t},y.isUndefined=function(t){return void 0===t},y.has=function(t,e){return null!=t&&h.call(t,e)},y.noConflict=function(){return r._=o,this},y.identity=function(t){return t},y.constant=function(t){return function(){return t}},y.noop=function(){},y.property=C,y.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},y.matcher=y.matches=function(t){return t=y.extendOwn({},t),function(e){return y.isMatch(e,t)}},y.times=function(t,e,n){var i=Array(Math.max(0,t));e=b(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i},y.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},y.now=Date.now||function(){return(new Date).getTime()};var O={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},I=y.invert(O),F=function(t){var e=function(e){return t[e]},n="(?:"+y.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}};y.escape=F(O),y.unescape=F(I),y.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),y.isFunction(i)?i.call(t):i};var G=0;y.uniqueId=function(t){var e=++G+"";return t?t+e:e},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,R={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},N=/\\|'|\r|\n|\u2028|\u2029/g,j=function(t){return"\\"+R[t]};y.template=function(t,e,n){!e&&n&&(e=n),e=y.defaults({},e,y.templateSettings);var i=RegExp([(e.escape||L).source,(e.interpolate||L).source,(e.evaluate||L).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(i,function(e,n,i,a,s){return o+=t.slice(r,s).replace(N,j),r=s+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var s=function(t){return a.call(this,t,y)},l=e.variable||"obj";return s.source="function("+l+"){\n"+o+"}",s},y.chain=function(t){var e=y(t);return e._chain=!0,e};var q=function(t,e){return t._chain?y(e).chain():e};y.mixin=function(t){y.each(y.functions(t),function(e){var n=y[e]=t[e];y.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),q(this,n.apply(y,t))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=a[t];y.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],q(this,n)}}),y.each(["concat","join","slice"],function(t){var e=a[t];y.prototype[t]=function(){return q(this,e.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}).call(this),window.Modernizr=function(t,e,n){function i(t){b.cssText=t}function r(t,e){return i(C.join(t+";")+(e||""))}function o(t,e){return typeof t===e}function a(t,e){return!!~(""+t).indexOf(e)}function s(t,e){for(var i in t){var r=t[i];if(!a(r,"-")&&b[r]!==n)return"pfx"!=e||r}return!1}function l(t,e,i){for(var r in t){var a=e[t[r]];if(a!==n)return!1===i?t[r]:o(a,"function")?a.bind(i||e):a}return!1}function u(t,e,n){var i=t.charAt(0).toUpperCase()+t.slice(1),r=(t+" "+D.join(i+" ")+i).split(" ");return o(e,"string")||o(e,"undefined")?s(r,e):(r=(t+" "+k.join(i+" ")+i).split(" "),l(r,e,n))}function d(){f.input=function(n){for(var i=0,r=n.length;i<r;i++)E[n[i]]=!!(n[i]in w);return E.list&&(E.list=!(!e.createElement("datalist")||!t.HTMLDataListElement)),E}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),f.inputtypes=function(t){for(var i,r,o,a=0,s=t.length;a<s;a++)w.setAttribute("type",r=t[a]),i="text"!==w.type,i&&(w.value=_,w.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(r)&&w.style.WebkitAppearance!==n?(m.appendChild(w),o=e.defaultView,i=o.getComputedStyle&&"textfield"!==o.getComputedStyle(w,null).WebkitAppearance&&0!==w.offsetHeight,m.removeChild(w)):/^(search|tel)$/.test(r)||(i=/^(url|email)$/.test(r)?w.checkValidity&&!1===w.checkValidity():w.value!=_)),A[t[a]]=!!i;return A}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var c,h,p="2.8.3",f={},g=!0,m=e.documentElement,v="modernizr",y=e.createElement(v),b=y.style,w=e.createElement("input"),_=":)",$={}.toString,C=" -webkit- -moz- -o- -ms- ".split(" "),x="Webkit Moz O ms",D=x.split(" "),k=x.toLowerCase().split(" "),S={svg:"http://www.w3.org/2000/svg"},T={},A={},E={},P=[],M=P.slice,O=function(t,n,i,r){var o,a,s,l,u=e.createElement("div"),d=e.body,c=d||e.createElement("body");if(parseInt(i,10))for(;i--;)s=e.createElement("div"),s.id=r?r[i]:v+(i+1),u.appendChild(s);return o=["&#173;",'<style id="s',v,'">',t,"</style>"].join(""),u.id=v,(d?u:c).innerHTML+=o,c.appendChild(u),d||(c.style.background="",c.style.overflow="hidden",l=m.style.overflow,m.style.overflow="hidden",m.appendChild(c)),a=n(u,t),d?u.parentNode.removeChild(u):(c.parentNode.removeChild(c),m.style.overflow=l),!!a},I=function(e){var n=t.matchMedia||t.msMatchMedia;if(n)return n(e)&&n(e).matches||!1;var i;return O("@media "+e+" { #"+v+" { position: absolute; } }",function(e){i="absolute"==(t.getComputedStyle?getComputedStyle(e,null):e.currentStyle).position}),i},F=function(){function t(t,r){r=r||e.createElement(i[t]||"div"),t="on"+t;var a=t in r;return a||(r.setAttribute||(r=e.createElement("div")),r.setAttribute&&r.removeAttribute&&(r.setAttribute(t,""),a=o(r[t],"function"),o(r[t],"undefined")||(r[t]=n),r.removeAttribute(t))),r=null,a}var i={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return t}(),G={}.hasOwnProperty;h=o(G,"undefined")||o(G.call,"undefined")?function(t,e){return e in t&&o(t.constructor.prototype[e],"undefined")}:function(t,e){return G.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=M.call(arguments,1),i=function(){if(this instanceof i){var r=function(){};r.prototype=e.prototype;var o=new r,a=e.apply(o,n.concat(M.call(arguments)));return Object(a)===a?a:o}return e.apply(t,n.concat(M.call(arguments)))};return i}),T.flexbox=function(){return u("flexWrap")},T.flexboxlegacy=function(){return u("boxDirection")},T.canvas=function(){var t=e.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},T.canvastext=function(){return!(!f.canvas||!o(e.createElement("canvas").getContext("2d").fillText,"function"))},T.webgl=function(){return!!t.WebGLRenderingContext},T.touch=function(){var n;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?n=!0:O(["@media (",C.join("touch-enabled),("),v,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(t){n=9===t.offsetTop}),n},T.geolocation=function(){return"geolocation"in navigator},T.postmessage=function(){return!!t.postMessage},T.websqldatabase=function(){return!!t.openDatabase},T.indexedDB=function(){return!!u("indexedDB",t)},T.hashchange=function(){return F("hashchange",t)&&(e.documentMode===n||e.documentMode>7)},T.history=function(){return!(!t.history||!history.pushState)},T.draganddrop=function(){var t=e.createElement("div");return"draggable"in t||"ondragstart"in t&&"ondrop"in t},T.websockets=function(){return"WebSocket"in t||"MozWebSocket"in t},T.rgba=function(){return i("background-color:rgba(150,255,150,.5)"),a(b.backgroundColor,"rgba")},T.hsla=function(){return i("background-color:hsla(120,40%,100%,.5)"),a(b.backgroundColor,"rgba")||a(b.backgroundColor,"hsla")},T.multiplebgs=function(){return i("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(b.background)},T.backgroundsize=function(){return u("backgroundSize")},T.borderimage=function(){return u("borderImage")},T.borderradius=function(){return u("borderRadius")},T.boxshadow=function(){return u("boxShadow")},T.textshadow=function(){return""===e.createElement("div").style.textShadow},T.opacity=function(){return r("opacity:.55"),/^0.55$/.test(b.opacity)},T.cssanimations=function(){return u("animationName")},T.csscolumns=function(){return u("columnCount")},T.cssgradients=function(){var t="background-image:";return i((t+"-webkit- ".split(" ").join("gradient(linear,left top,right bottom,from(#9f9),to(white));"+t)+C.join("linear-gradient(left top,#9f9, white);"+t)).slice(0,-t.length)),a(b.backgroundImage,"gradient")},T.cssreflections=function(){return u("boxReflect")},T.csstransforms=function(){return!!u("transform")},T.csstransforms3d=function(){var t=!!u("perspective");return t&&"webkitPerspective"in m.style&&O("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(e){t=9===e.offsetLeft&&3===e.offsetHeight}),t},T.csstransitions=function(){return u("transition")},T.fontface=function(){var t;return O('@font-face {font-family:"font";src:url("https://")}',function(n,i){var r=e.getElementById("smodernizr"),o=r.sheet||r.styleSheet,a=o?o.cssRules&&o.cssRules[0]?o.cssRules[0].cssText:o.cssText||"":"";t=/src/i.test(a)&&0===a.indexOf(i.split(" ")[0])}),t},T.generatedcontent=function(){var t;return O(["#",v,"{font:0/0 a}#",v,':after{content:"',_,'";visibility:hidden;font:3px/1 a}'].join(""),function(e){t=e.offsetHeight>=3}),t},T.video=function(){var t=e.createElement("video"),n=!1;try{(n=!!t.canPlayType)&&(n=new Boolean(n),n.ogg=t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(t){}return n},T.audio=function(){var t=e.createElement("audio"),n=!1;try{(n=!!t.canPlayType)&&(n=new Boolean(n),n.ogg=t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=t.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(t){}return n},T.localstorage=function(){try{return localStorage.setItem(v,v),localStorage.removeItem(v),!0}catch(t){return!1}},T.sessionstorage=function(){try{return sessionStorage.setItem(v,v),sessionStorage.removeItem(v),!0}catch(t){return!1}},T.webworkers=function(){return!!t.Worker},T.applicationcache=function(){return!!t.applicationCache},T.svg=function(){return!!e.createElementNS&&!!e.createElementNS(S.svg,"svg").createSVGRect},T.inlinesvg=function(){var t=e.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==S.svg},T.smil=function(){return!!e.createElementNS&&/SVGAnimate/.test($.call(e.createElementNS(S.svg,"animate")))},T.svgclippaths=function(){return!!e.createElementNS&&/SVGClipPath/.test($.call(e.createElementNS(S.svg,"clipPath")))};for(var L in T)h(T,L)&&(c=L.toLowerCase(),f[c]=T[L](),P.push((f[c]?"":"no-")+c));return f.input||d(),f.addTest=function(t,e){if("object"==typeof t)for(var i in t)h(t,i)&&f.addTest(i,t[i]);else{if(t=t.toLowerCase(),f[t]!==n)return f;e="function"==typeof e?e():e,void 0!==g&&g&&(m.className+=" "+(e?"":"no-")+t),f[t]=e}return f},i(""),y=w=null,function(t,e){function n(t,e){var n=t.createElement("p"),i=t.getElementsByTagName("head")[0]||t.documentElement;return n.innerHTML="x<style>"+e+"</style>",i.insertBefore(n.lastChild,i.firstChild)}function i(){var t=y.elements;return"string"==typeof t?t.split(" "):t}function r(t){var e=v[t[g]];return e||(e={},m++,t[g]=m,v[m]=e),e}function o(t,n,i){if(n||(n=e),d)return n.createElement(t);i||(i=r(n));var o;return o=i.cache[t]?i.cache[t].cloneNode():f.test(t)?(i.cache[t]=i.createElem(t)).cloneNode():i.createElem(t),!o.canHaveChildren||p.test(t)||o.tagUrn?o:i.frag.appendChild(o)}function a(t,n){if(t||(t=e),d)return t.createDocumentFragment();n=n||r(t);for(var o=n.frag.cloneNode(),a=0,s=i(),l=s.length;a<l;a++)o.createElement(s[a]);return o}function s(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(n){return y.shivMethods?o(n,t,e):e.createElem(n)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/[\w\-]+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(y,e.frag)}function l(t){t||(t=e);var i=r(t);return!y.shivCSS||u||i.hasCSS||(i.hasCSS=!!n(t,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),d||s(t,i),t}var u,d,c="3.7.0",h=t.html5||{},p=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,g="_html5shiv",m=0,v={};!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",u="hidden"in t,d=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return"undefined"==typeof t.cloneNode||"undefined"==typeof t.createDocumentFragment||"undefined"==typeof t.createElement}()}catch(t){u=!0,d=!0}}();var y={elements:h.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:c,shivCSS:!1!==h.shivCSS,supportsUnknownElements:d,shivMethods:!1!==h.shivMethods,type:"default",shivDocument:l,createElement:o,createDocumentFragment:a};t.html5=y,l(e)}(this,e),f._version=p,f._prefixes=C,f._domPrefixes=k,f._cssomPrefixes=D,f.mq=I,f.hasEvent=F,f.testProp=function(t){return s([t])},f.testAllProps=u,f.testStyles=O,f.prefixed=function(t,e,n){return e?u(t,e,n):u(t,"pfx")},m.className=m.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(g?" js "+P.join(" "):""),f}(this,this.document),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return t<10?"0"+t:t}function this_value(){return this.valueOf()}function quote(t){return rx_escapable.lastIndex=0,rx_escapable.test(t)?'"'+t.replace(rx_escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,i,r,o,a,s=gap,l=e[t];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(t)),"function"==typeof rep&&(l=rep.call(e,t,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(l)){for(o=l.length,n=0;n<o;n+=1)a[n]=str(n,l)||"null";return r=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,r}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;n<o;n+=1)"string"==typeof rep[n]&&(i=rep[n],(r=str(i,l))&&a.push(quote(i)+(gap?": ":":")+r));else for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(r=str(i,l))&&a.push(quote(i)+(gap?": ":":")+r);return r=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,r}}var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value);var gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(t,e,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;i<n;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var n,i,r=t[e];if(r&&"object"==typeof r)for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i=walk(r,n),i!==undefined?r[n]=i:delete r[n]);return reviver.call(t,e,r)}var j;if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),window.url=function(){function t(){}function e(t){return decodeURIComponent(t.replace(/\+/g," "))}function n(t,e){var n=t.charAt(0),i=e.split(n);return n===t?i:(t=parseInt(t.substring(1),10),i[0>t?i.length+t:t-1])}function i(t,n){for(var i=t.charAt(0),r=n.split("&"),o=[],a={},s=[],l=t.substring(1),u=0,d=r.length;d>u;u++)if(o=r[u].match(/(.*?)=(.*)/),o||(o=[r[u],r[u],""]),""!==o[1].replace(/\s/g,"")){if(o[2]=e(o[2]||""),l===o[1])return o[2];s=o[1].match(/(.*)\[([0-9]+)\]/),s?(a[s[1]]=a[s[1]]||[],a[s[1]][s[2]]=o[2]):a[o[1]]=o[2]}return i===t?a:a[l]}return function(e,r){var o,a={};if("tld?"===e)return t();if(r=r||window.location.toString(),!e)return r;if(e=e.toString(),o=r.match(/^mailto:([^\/].+)/))a.protocol="mailto",a.email=o[1];else{if((o=r.match(/(.*?)\/#\!(.*)/))&&(r=o[1]+o[2]),(o=r.match(/(.*?)#(.*)/))&&(a.hash=o[2],r=o[1]),a.hash&&e.match(/^#/))return i(e,a.hash);if((o=r.match(/(.*?)\?(.*)/))&&(a.query=o[2],r=o[1]),a.query&&e.match(/^\?/))return i(e,a.query);if((o=r.match(/(.*?)\:?\/\/(.*)/))&&(a.protocol=o[1].toLowerCase(),r=o[2]),(o=r.match(/(.*?)(\/.*)/))&&(a.path=o[2],r=o[1]),a.path=(a.path||"").replace(/^([^\/])/,"/$1").replace(/\/$/,""),e.match(/^[\-0-9]+$/)&&(e=e.replace(/^([^\/])/,"/$1")),e.match(/^\//))return n(e,a.path.substring(1));if(o=n("/-1",a.path.substring(1)),o&&(o=o.match(/(.*?)\.(.*)/))&&(a.file=o[0],a.filename=o[1],a.fileext=o[2]),(o=r.match(/(.*)\:([0-9]+)$/))&&(a.port=o[2],r=o[1]),(o=r.match(/(.*?)@(.*)/))&&(a.auth=o[1],r=o[2]),a.auth&&(o=a.auth.match(/(.*)\:(.*)/),a.user=o?o[1]:a.auth,a.pass=o?o[2]:void 0),a.hostname=r.toLowerCase(),"."===e.charAt(0))return n(e,a.hostname);t()&&(o=a.hostname.match(t()))&&(a.tld=o[3],a.domain=o[2]?o[2]+"."+o[3]:void 0,a.sub=o[1]||void 0),a.port=a.port||("https"===a.protocol?"443":"80"),a.protocol=a.protocol||("443"===a.port?"https":"http")}return e in a?a[e]:"{}"===e?a:void 0}}(),"undefined"!=typeof jQuery&&jQuery.extend({url:function(t,e){return window.url(t,e)}}),function(){(function(){(function(){this.Turbolinks={supported:function(){return null!=window.history.pushState&&null!=window.requestAnimationFrame&&null!=window.addEventListener}(),visit:function(e,n){return t.controller.visit(e,n)},clearCache:function(){return t.controller.clearCache()}}}).call(this)}).call(this);var t=this.Turbolinks;(function(){(function(){var e,n,i=[].slice
;t.copyObject=function(t){var e,n,i;n={};for(e in t)i=t[e],n[e]=i;return n},t.closest=function(t,n){return e.call(t,n)},e=function(){var t,e;return t=document.documentElement,null!=(e=t.closest)?e:function(t){var e;for(e=this;e;){if(e.nodeType===Node.ELEMENT_NODE&&n.call(e,t))return e;e=e.parentNode}}}(),t.defer=function(t){return setTimeout(t,1)},t.throttle=function(t){var e;return e=null,function(){var n;return n=1<=arguments.length?i.call(arguments,0):[],null!=e?e:e=requestAnimationFrame(function(i){return function(){return e=null,t.apply(i,n)}}(this))}},t.dispatch=function(t,e){var n,i,r,o,a;return o=null!=e?e:{},a=o.target,n=o.cancelable,i=o.data,r=document.createEvent("Events"),r.initEvent(t,!0,!0===n),r.data=null!=i?i:{},(null!=a?a:document).dispatchEvent(r),r},t.match=function(t,e){return n.call(t,e)},n=function(){var t,e,n,i;return t=document.documentElement,null!=(e=null!=(n=null!=(i=t.matchesSelector)?i:t.webkitMatchesSelector)?n:t.msMatchesSelector)?e:t.mozMatchesSelector}(),t.uuid=function(){var t,e,n;for(n="",t=e=1;36>=e;t=++e)n+=9===t||14===t||19===t||24===t?"-":15===t?"4":20===t?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return n}}).call(this),function(){t.Location=function(){function t(t){var e,n;null==t&&(t=""),n=document.createElement("a"),n.href=t.toString(),this.absoluteURL=n.href,e=n.hash.length,2>e?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-e),this.anchor=n.hash.slice(1))}var e,n,i,r;return t.wrap=function(t){return t instanceof this?t:new this(t)},t.prototype.getOrigin=function(){return this.absoluteURL.split("/",3).join("/")},t.prototype.getPath=function(){var t,e;return null!=(t=null!=(e=this.absoluteURL.match(/\/\/[^\/]*(\/[^?;]*)/))?e[1]:void 0)?t:"/"},t.prototype.getPathComponents=function(){return this.getPath().split("/").slice(1)},t.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},t.prototype.getExtension=function(){var t,e;return null!=(t=null!=(e=this.getLastPathComponent().match(/\.[^.]*$/))?e[0]:void 0)?t:""},t.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\.(?:htm|html|xhtml))$/)},t.prototype.isPrefixedBy=function(t){var e;return e=n(t),this.isEqualTo(t)||r(this.absoluteURL,e)},t.prototype.isEqualTo=function(t){return this.absoluteURL===(null!=t?t.absoluteURL:void 0)},t.prototype.toCacheKey=function(){return this.requestURL},t.prototype.toJSON=function(){return this.absoluteURL},t.prototype.toString=function(){return this.absoluteURL},t.prototype.valueOf=function(){return this.absoluteURL},n=function(t){return e(t.getOrigin()+t.getPath())},e=function(t){return i(t,"/")?t:t+"/"},r=function(t,e){return t.slice(0,e.length)===e},i=function(t,e){return t.slice(-e.length)===e},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.HttpRequest=function(){function n(n,i,r){this.delegate=n,this.requestCanceled=e(this.requestCanceled,this),this.requestTimedOut=e(this.requestTimedOut,this),this.requestFailed=e(this.requestFailed,this),this.requestLoaded=e(this.requestLoaded,this),this.requestProgressed=e(this.requestProgressed,this),this.url=t.Location.wrap(i).requestURL,this.referrer=t.Location.wrap(r).absoluteURL,this.createXHR()}return n.NETWORK_FAILURE=0,n.TIMEOUT_FAILURE=-1,n.timeout=60,n.prototype.send=function(){var t;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,"function"==typeof(t=this.delegate).requestStarted?t.requestStarted():void 0):void 0},n.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},n.prototype.requestProgressed=function(t){return t.lengthComputable?this.setProgress(t.loaded/t.total):void 0},n.prototype.requestLoaded=function(){return this.endRequest(function(t){return function(){var e;return 200<=(e=t.xhr.status)&&300>e?t.delegate.requestCompletedWithResponse(t.xhr.responseText,t.xhr.getResponseHeader("Turbolinks-Location")):(t.failed=!0,t.delegate.requestFailedWithStatusCode(t.xhr.status,t.xhr.responseText))}}(this))},n.prototype.requestFailed=function(){return this.endRequest(function(t){return function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.NETWORK_FAILURE)}}(this))},n.prototype.requestTimedOut=function(){return this.endRequest(function(t){return function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.TIMEOUT_FAILURE)}}(this))},n.prototype.requestCanceled=function(){return this.endRequest()},n.prototype.notifyApplicationBeforeRequestStart=function(){return t.dispatch("turbolinks:request-start",{data:{url:this.url,xhr:this.xhr}})},n.prototype.notifyApplicationAfterRequestEnd=function(){return t.dispatch("turbolinks:request-end",{data:{url:this.url,xhr:this.xhr}})},n.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader("Accept","text/html, application/xhtml+xml"),this.xhr.setRequestHeader("Turbolinks-Referrer",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},n.prototype.endRequest=function(t){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=t&&t.call(this),this.destroy()):void 0},n.prototype.setProgress=function(t){var e;return this.progress=t,"function"==typeof(e=this.delegate).requestProgressed?e.requestProgressed(this.progress):void 0},n.prototype.destroy=function(){var t;return this.setProgress(1),"function"==typeof(t=this.delegate).requestFinished&&t.requestFinished(),this.delegate=null,this.xhr=null},n}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.ProgressBar=function(){function t(){this.trickle=e(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var n;return n=300,t.defaultCSS=".turbolinks-progress-bar {\n  position: fixed;\n  display: block;\n  top: 0;\n  left: 0;\n  height: 3px;\n  background: #0076ff;\n  z-index: 9999;\n  transition: width "+n+"ms ease-out, opacity "+n/2+"ms "+n/2+"ms ease-in;\n  transform: translate3d(0, 0, 0);\n}",t.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},t.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement(function(t){return function(){return t.uninstallProgressElement(),t.stopTrickling(),t.visible=!1,t.hiding=!1}}(this))):void 0},t.prototype.setValue=function(t){return this.value=t,this.refresh()},t.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},t.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},t.prototype.fadeProgressElement=function(t){return this.progressElement.style.opacity=0,setTimeout(t,1.5*n)},t.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},t.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,n)},t.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},t.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},t.prototype.refresh=function(){return requestAnimationFrame(function(t){return function(){return t.progressElement.style.width=10+90*t.value+"%"}}(this))},t.prototype.createStylesheetElement=function(){var t;return t=document.createElement("style"),t.type="text/css",t.textContent=this.constructor.defaultCSS,t},t.prototype.createProgressElement=function(){var t;return t=document.createElement("div"),t.className="turbolinks-progress-bar",t},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.BrowserAdapter=function(){function n(n){this.controller=n,this.showProgressBar=e(this.showProgressBar,this),this.progressBar=new t.ProgressBar}var i,r,o,a;return a=t.HttpRequest,i=a.NETWORK_FAILURE,o=a.TIMEOUT_FAILURE,r=500,n.prototype.visitProposedToLocationWithAction=function(t,e){return this.controller.startVisitToLocationWithAction(t,e)},n.prototype.visitStarted=function(t){return t.issueRequest(),t.changeHistory(),t.loadCachedSnapshot()},n.prototype.visitRequestStarted=function(t){return this.progressBar.setValue(0),t.hasCachedSnapshot()||"restore"!==t.action?this.showProgressBarAfterDelay():this.showProgressBar()},n.prototype.visitRequestProgressed=function(t){return this.progressBar.setValue(t.progress)},n.prototype.visitRequestCompleted=function(t){return t.loadResponse()},n.prototype.visitRequestFailedWithStatusCode=function(t,e){switch(e){case i:case o:return this.reload();default:return t.loadResponse()}},n.prototype.visitRequestFinished=function(){return this.hideProgressBar()},n.prototype.visitCompleted=function(t){return t.followRedirect()},n.prototype.pageInvalidated=function(){return this.reload()},n.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,r)},n.prototype.showProgressBar=function(){return this.progressBar.show()},n.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},n.prototype.reload=function(){return window.location.reload()},n}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.History=function(){function n(t){this.delegate=t,this.onPageLoad=e(this.onPageLoad,this),this.onPopState=e(this.onPopState,this)}return n.prototype.start=function(){return this.started?void 0:(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0)},n.prototype.stop=function(){return this.started?(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1):void 0},n.prototype.push=function(e,n){return e=t.Location.wrap(e),this.update("push",e,n)},n.prototype.replace=function(e,n){return e=t.Location.wrap(e),this.update("replace",e,n)},n.prototype.onPopState=function(e){var n,i,r,o;return this.shouldHandlePopState()&&(o=null!=(i=e.state)?i.turbolinks:void 0)?(n=t.Location.wrap(window.location),r=o.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(n,r)):void 0},n.prototype.onPageLoad=function(){return t.defer(function(t){return function(){return t.pageLoaded=!0}}(this))},n.prototype.shouldHandlePopState=function(){return this.pageIsLoaded()},n.prototype.pageIsLoaded=function(){return this.pageLoaded||"complete"===document.readyState},n.prototype.update=function(t,e,n){var i;return i={turbolinks:{restorationIdentifier:n}},history[t+"State"](i,null,e)},n}()}.call(this),function(){t.Snapshot=function(){function e(t){var e,n;n=t.head,e=t.body,this.head=null!=n?n:document.createElement("head"),this.body=null!=e?e:document.createElement("body")}return e.wrap=function(t){return t instanceof this?t:this.fromHTML(t)},e.fromHTML=function(t){var e;return e=document.createElement("html"),e.innerHTML=t,this.fromElement(e)},e.fromElement=function(t){return new this({head:t.querySelector("head"),body:t.querySelector("body")})},e.prototype.clone=function(){return new e({head:this.head.cloneNode(!0),body:this.body.cloneNode(!0)})},e.prototype.getRootLocation=function(){var e,n;return n=null!=(e=this.getSetting("root"))?e:"/",new t.Location(n)},e.prototype.getCacheControlValue=function(){return this.getSetting("cache-control")},e.prototype.hasAnchor=function(t){try{return null!=this.body.querySelector("[id='"+t+"']")}catch(t){}},e.prototype.isPreviewable=function(){return"no-preview"!==this.getCacheControlValue()},e.prototype.isCacheable=function(){return"no-cache"!==this.getCacheControlValue()},e.prototype.getSetting=function(t){var e,n;return n=this.head.querySelectorAll("meta[name='turbolinks-"+t+"']"),e=n[n.length-1],null!=e?e.getAttribute("content"):void 0},e}()}.call(this),function(){var e=[].slice;t.Renderer=function(){function t(){}var n;return t.render=function(){var t,n,i,r;return i=arguments[0],n=arguments[1],t=3<=arguments.length?e.call(arguments,2):[],r=function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(this,t,function(){}),r.delegate=i,r.render(n),r},t.prototype.renderView=function(t){return this.delegate.viewWillRender(this.newBody),t(),this.delegate.viewRendered(this.newBody)},t.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},t.prototype.createScriptElement=function(t){var e;return"false"===t.getAttribute("data-turbolinks-eval")?t:(e=document.createElement("script"),e.textContent=t.textContent,n(e,t),e)},n=function(t,e){var n,i,r,o,a,s,l;for(o=e.attributes,s=[],n=0,i=o.length;i>n;n++)a=o[n],r=a.name,l=a.value,s.push(t.setAttribute(r,l));return s},t}()}.call(this),function(){t.HeadDetails=function(){function t(t){var e,n,o,a,s,l,u;for(this.element=t,this.elements={},u=this.element.childNodes,a=0,l=u.length;l>a;a++)o=u[a],o.nodeType===Node.ELEMENT_NODE&&(s=o.outerHTML,n=null!=(e=this.elements)[s]?e[s]:e[s]={type:r(o),tracked:i(o),elements:[]},n.elements.push(o))}var e,n,i,r;return t.prototype.hasElementWithKey=function(t){return t in this.elements},t.prototype.getTrackedElementSignature=function(){var t,e;return function(){var n,i;n=this.elements,i=[];for(t in n)(e=n[t].tracked)&&i.push(t);return i}.call(this).join("")},t.prototype.getScriptElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("script",t)},t.prototype.getStylesheetElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("stylesheet",t)},t.prototype.getElementsMatchingTypeNotInDetails=function(t,e){var n,i,r,o,a,s;r=this.elements,a=[];for(i in r)o=r[i],s=o.type,n=o.elements,s!==t||e.hasElementWithKey(i)||a.push(n[0]);return a},t.prototype.getProvisionalElements=function(){var t,e,n,i,r,o,a;n=[],i=this.elements;for(e in i)r=i[e],a=r.type,o=r.tracked,t=r.elements,null!=a||o?t.length>1&&n.push.apply(n,t.slice(1)):n.push.apply(n,t);return n},r=function(t){return e(t)?"script":n(t)?"stylesheet":void 0},i=function(t){return"reload"===t.getAttribute("data-turbolinks-track")},e=function(t){return"script"===t.tagName.toLowerCase()},n=function(t){var e;return"style"===(e=t.tagName.toLowerCase())||"link"===e&&"stylesheet"===t.getAttribute("rel")},t}()}.call(this),function(){var e=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;t.SnapshotRenderer=function(n){function i(e,n){this.currentSnapshot=e,this.newSnapshot=n,this.currentHeadDetails=new t.HeadDetails(this.currentSnapshot.head),this.newHeadDetails=new t.HeadDetails(this.newSnapshot.head),this.newBody=this.newSnapshot.body}return e(i,n),i.prototype.render=function(t){return this.trackedElementsAreIdentical()?(this.mergeHead(),this.renderView(function(e){return function(){return e.replaceBody(),e.focusFirstAutofocusableElement(),t()}}(this))):this.invalidateView()},i.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},i.prototype.replaceBody=function(){return this.activateBodyScriptElements(),this.importBodyPermanentElements(),this.assignNewBody()},i.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},i.prototype.copyNewHeadStylesheetElements=function(){var t,e,n,i,r;for(i=this.getNewHeadStylesheetElements(),r=[],e=0,n=i.length;n>e;e++)t=i[e],r.push(document.head.appendChild(t));return r},i.prototype.copyNewHeadScriptElements=function(){var t,e,n,i,r;for(i=this.getNewHeadScriptElements(),r=[],e=0,n=i.length;n>e;e++)t=i[e],r.push(document.head.appendChild(this.createScriptElement(t)));return r},i.prototype.removeCurrentHeadProvisionalElements=function(){var t,e,n,i,r;for(i=this.getCurrentHeadProvisionalElements(),r=[],e=0,n=i.length;n>e;e++)t=i[e],r.push(document.head.removeChild(t));return r},i.prototype.copyNewHeadProvisionalElements=function(){var t,e,n,i,r;for(i=this.getNewHeadProvisionalElements(),r=[],e=0,n=i.length;n>e;e++)t=i[e],r.push(document.head.appendChild(t));return r},i.prototype.importBodyPermanentElements=function(){var t,e,n,i,r,o;for(i=this.getNewBodyPermanentElements(),o=[],e=0,n=i.length;n>e;e++)r=i[e],(t=this.findCurrentBodyPermanentElement(r))?o.push(r.parentNode.replaceChild(t,r)):o.push(void 0);return o},i.prototype.activateBodyScriptElements=function(){var t,e,n,i,r,o;for(i=this.getNewBodyScriptElements(),o=[],e=0,n=i.length;n>e;e++)r=i[e],t=this.createScriptElement(r),o.push(r.parentNode.replaceChild(t,r));return o},i.prototype.assignNewBody=function(){return document.body=this.newBody},i.prototype.focusFirstAutofocusableElement=function(){var t;return null!=(t=this.findFirstAutofocusableElement())?t.focus():void 0},i.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},i.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},i.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},i.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},i.prototype.getNewBodyPermanentElements=function(){return this.newBody.querySelectorAll("[id][data-turbolinks-permanent]")},i.prototype.findCurrentBodyPermanentElement=function(t){return document.body.querySelector("#"+t.id+"[data-turbolinks-permanent]")},i.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll("script")},i.prototype.findFirstAutofocusableElement=function(){return document.body.querySelector("[autofocus]")},i}(t.Renderer)}.call(this),function(){var e=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;t.ErrorRenderer=function(t){function n(t){this.html=t}return e(n,t),n.prototype.render=function(t){return this.renderView(function(e){return function(){return e.replaceDocumentHTML(),e.activateBodyScriptElements(),t()}}(this))},n.prototype.replaceDocumentHTML=function(){return document.documentElement.innerHTML=this.html},n.prototype.activateBodyScriptElements=function(){var t,e,n,i,r,o;for(i=this.getScriptElements(),o=[],e=0,n=i.length;n>e;e++)r=i[e],t=this.createScriptElement(r),o.push(r.parentNode.replaceChild(t,r));return o},n.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll("script")},n}(t.Renderer)}.call(this),function(){t.View=function(){function e(t){this.delegate=t,this.element=document.documentElement}return e.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},e.prototype.getSnapshot=function(){return t.Snapshot.fromElement(this.element)},e.prototype.render=function(t,e){var n,i,r;return r=t.snapshot,n=t.error,i=t.isPreview,this.markAsPreview(i),null!=r?this.renderSnapshot(r,e):this.renderError(n,e)},e.prototype.markAsPreview=function(t){return t?this.element.setAttribute("data-turbolinks-preview",""):this.element.removeAttribute("data-turbolinks-preview")},e.prototype.renderSnapshot=function(e,n){return t.SnapshotRenderer.render(this.delegate,n,this.getSnapshot(),t.Snapshot.wrap(e))},e.prototype.renderError=function(e,n){return t.ErrorRenderer.render(this.delegate,n,e)},e}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.ScrollManager=function(){function n(n){this.delegate=n,this.onScroll=e(this.onScroll,this),this.onScroll=t.throttle(this.onScroll)}return n.prototype.start=function(){return this.started?void 0:(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},n.prototype.stop=function(){return this.started?(removeEventListener("scroll",this.onScroll,!1),this.started=!1):void 0},n.prototype.scrollToElement=function(t){return t.scrollIntoView()},n.prototype.scrollToPosition=function(t){var e,n;return e=t.x,n=t.y,window.scrollTo(e,n)},n.prototype.onScroll=function(){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},n.prototype.updatePosition=function(t){var e;return this.position=t,null!=(e=this.delegate)?e.scrollPositionChanged(this.position):void 0},n}()}.call(this),function(){t.SnapshotCache=function(){function e(t){this.size=t,this.keys=[],this.snapshots={}}var n;return e.prototype.has=function(t){return n(t)in this.snapshots},e.prototype.get=function(t){var e;if(this.has(t))return e=this.read(t),this.touch(t),e},e.prototype.put=function(t,e){return this.write(t,e),this.touch(t),e},e.prototype.read=function(t){var e;return e=n(t),this.snapshots[e]},e.prototype.write=function(t,e){var i;return i=n(t),this.snapshots[i]=e},e.prototype.touch=function(t){var e,i;return i=n(t),e=this.keys.indexOf(i),e>-1&&this.keys.splice(e,1),this.keys.unshift(i),this.trim()},e.prototype.trim=function(){var t,e,n,i,r;for(i=this.keys.splice(this.size),r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(delete this.snapshots[e]);return r},n=function(e){return t.Location.wrap(e).toCacheKey()},e}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.Visit=function(){function n(n,i,r){this.controller=n,this.action=r,this.performScroll=e(this.performScroll,this),this.identifier=t.uuid(),this.location=t.Location.wrap(i),this.adapter=this.controller.adapter,this.state="initialized",this.timingMetrics={}}var i;return n.prototype.start=function(){return"initialized"===this.state?(this.recordTimingMetric("visitStart"),this.state="started",this.adapter.visitStarted(this)):void 0},n.prototype.cancel=function(){var t;return"started"===this.state?(null!=(t=this.request)&&t.cancel(),this.cancelRender(),this.state="canceled"):void 0},n.prototype.complete=function(){var t;return"started"===this.state?(this.recordTimingMetric("visitEnd"),this.state="completed","function"==typeof(t=this.adapter).visitCompleted&&t.visitCompleted(this),this.controller.visitCompleted(this)):void 0},n.prototype.fail=function(){var t;return"started"===this.state?(this.state="failed","function"==typeof(t=this.adapter).visitFailed?t.visitFailed(this):void 0):void 0},n.prototype.changeHistory=function(){var t,e;return this.historyChanged?void 0:(t=this.location.isEqualTo(this.referrer)?"replace":this.action,e=i(t),this.controller[e](this.location,this.restorationIdentifier),this.historyChanged=!0)},n.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new t.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},n.prototype.getCachedSnapshot=function(){var t;return!(t=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!t.hasAnchor(this.location.anchor)||"restore"!==this.action&&!t.isPreviewable()?void 0:t},n.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},n.prototype.loadCachedSnapshot=function(){var t,e;return(e=this.getCachedSnapshot())?(t=this.shouldIssueRequest(),this.render(function(){var n;return this.cacheSnapshot(),this.controller.render({snapshot:e,isPreview:t},this.performScroll),"function"==typeof(n=this.adapter).visitRendered&&n.visitRendered(this),t?void 0:this.complete()})):void 0},n.prototype.loadResponse=function(){return null!=this.response?this.render(function(){var t,e;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),"function"==typeof(e=this.adapter).visitRendered&&e.visitRendered(this),this.complete())}):void 0},n.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},n.prototype.requestStarted=function(){var t;return this.recordTimingMetric("requestStart"),"function"==typeof(t=this.adapter).visitRequestStarted?t.visitRequestStarted(this):void 0},n.prototype.requestProgressed=function(t){var e;return this.progress=t,"function"==typeof(e=this.adapter).visitRequestProgressed?e.visitRequestProgressed(this):void 0},n.prototype.requestCompletedWithResponse=function(e,n){return this.response=e,null!=n&&(this.redirectedToLocation=t.Location.wrap(n)),this.adapter.visitRequestCompleted(this)},n.prototype.requestFailedWithStatusCode=function(t,e){return this.response=e,this.adapter.visitRequestFailedWithStatusCode(this,t)},n.prototype.requestFinished=function(){var t;return this.recordTimingMetric("requestEnd"),"function"==typeof(t=this.adapter).visitRequestFinished?t.visitRequestFinished(this):void 0},n.prototype.performScroll=function(){return this.scrolled?void 0:("restore"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},n.prototype.scrollToRestoredPosition=function(){var t,e;return t=null!=(e=this.restorationData)?e.scrollPosition:void 0,null!=t?(this.controller.scrollToPosition(t),!0):void 0},n.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},n.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},n.prototype.recordTimingMetric=function(t){var e;return null!=(e=this.timingMetrics)[t]?e[t]:e[t]=(new Date).getTime()},n.prototype.getTimingMetrics=function(){return t.copyObject(this.timingMetrics)},i=function(t){switch(t){case"replace":return"replaceHistoryWithLocationAndRestorationIdentifier";case"advance":case"restore":return"pushHistoryWithLocationAndRestorationIdentifier"}},n.prototype.shouldIssueRequest=function(){return"restore"!==this.action||!this.hasCachedSnapshot()},n.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},n.prototype.render=function(t){return this.cancelRender(),this.frame=requestAnimationFrame(function(e){return function(){return e.frame=null,t.call(e)}}(this))},n.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},n}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.Controller=function(){function n(){this.clickBubbled=e(this.clickBubbled,this),this.clickCaptured=e(this.clickCaptured,this),this.pageLoaded=e(this.pageLoaded,this),this.history=new t.History(this),this.view=new t.View(this),this.scrollManager=new t.ScrollManager(this),this.restorationData={},this.clearCache()}return n.prototype.start=function(){return t.supported&&!this.started?(addEventListener("click",this.clickCaptured,!0),addEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},n.prototype.disable=function(){return this.enabled=!1},n.prototype.stop=function(){return this.started?(removeEventListener("click",this.clickCaptured,!0),removeEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},n.prototype.clearCache=function(){return this.cache=new t.SnapshotCache(10)},n.prototype.visit=function(e,n){var i,r;return null==n&&(n={}),e=t.Location.wrap(e),this.applicationAllowsVisitingLocation(e)?this.locationIsVisitable(e)?(i=null!=(r=n.action)?r:"advance",this.adapter.visitProposedToLocationWithAction(e,i)):window.location=e:void 0},n.prototype.startVisitToLocationWithAction=function(e,n,i){var r;return t.supported?(r=this.getRestorationDataForIdentifier(i),this.startVisit(e,n,{restorationData:r})):window.location=e},n.prototype.startHistory=function(){return this.location=t.Location.wrap(window.location),this.restorationIdentifier=t.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},n.prototype.stopHistory=function(){return this.history.stop()},n.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(e,n){return this.restorationIdentifier=n,this.location=t.Location.wrap(e),this.history.push(this.location,this.restorationIdentifier)},n.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(e,n){return this.restorationIdentifier=n,this.location=t.Location.wrap(e),this.history.replace(this.location,this.restorationIdentifier)},n.prototype.historyPoppedToLocationWithRestorationIdentifier=function(e,n){var i;return this.restorationIdentifier=n,this.enabled?(i=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(e,"restore",{restorationIdentifier:this.restorationIdentifier,restorationData:i,historyChanged:!0}),this.location=t.Location.wrap(e)):this.adapter.pageInvalidated()},n.prototype.getCachedSnapshotForLocation=function(t){var e;return e=this.cache.get(t),e?e.clone():void 0},n.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable()},n.prototype.cacheSnapshot=function(){var t;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),t=this.view.getSnapshot(),this.cache.put(this.lastRenderedLocation,t.clone())):void 0},n.prototype.scrollToAnchor=function(t){var e;return(e=document.getElementById(t))?this.scrollToElement(e):this.scrollToPosition({x:0,y:0})},n.prototype.scrollToElement=function(t){return this.scrollManager.scrollToElement(t)},n.prototype.scrollToPosition=function(t){return this.scrollManager.scrollToPosition(t)},n.prototype.scrollPositionChanged=function(t){var e;return e=this.getCurrentRestorationData(),e.scrollPosition=t},n.prototype.render=function(t,e){return this.view.render(t,e)},n.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},n.prototype.viewWillRender=function(t){return this.notifyApplicationBeforeRender(t)},n.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},n.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},n.prototype.clickCaptured=function(){return removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},n.prototype.clickBubbled=function(t){var e,n,i;return this.enabled&&this.clickEventIsSignificant(t)&&(n=this.getVisitableLinkForNode(t.target))&&(i=this.getVisitableLocationForLink(n))&&this.applicationAllowsFollowingLinkToLocation(n,i)?(t.preventDefault(),e=this.getActionForLink(n),this.visit(i,{action:e})):void 0},n.prototype.applicationAllowsFollowingLinkToLocation=function(t,e){var n;return n=this.notifyApplicationAfterClickingLinkToLocation(t,e),!n.defaultPrevented},n.prototype.applicationAllowsVisitingLocation=function(t){var e;return e=this.notifyApplicationBeforeVisitingLocation(t),!e.defaultPrevented},n.prototype.notifyApplicationAfterClickingLinkToLocation=function(e,n){return t.dispatch("turbolinks:click",{target:e,data:{url:n.absoluteURL},cancelable:!0})},n.prototype.notifyApplicationBeforeVisitingLocation=function(e){return t.dispatch("turbolinks:before-visit",{data:{url:e.absoluteURL},cancelable:!0})},n.prototype.notifyApplicationAfterVisitingLocation=function(e){return t.dispatch("turbolinks:visit",{data:{url:e.absoluteURL}})},n.prototype.notifyApplicationBeforeCachingSnapshot=function(){return t.dispatch("turbolinks:before-cache")},n.prototype.notifyApplicationBeforeRender=function(e){return t.dispatch("turbolinks:before-render",{data:{newBody:e}})},n.prototype.notifyApplicationAfterRender=function(){return t.dispatch("turbolinks:render")},n.prototype.notifyApplicationAfterPageLoad=function(e){return null==e&&(e={}),t.dispatch("turbolinks:load",{data:{url:this.location.absoluteURL,timing:e}})},n.prototype.startVisit=function(t,e,n){var i
;return null!=(i=this.currentVisit)&&i.cancel(),this.currentVisit=this.createVisit(t,e,n),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(t)},n.prototype.createVisit=function(e,n,i){var r,o,a,s,l;return o=null!=i?i:{},s=o.restorationIdentifier,a=o.restorationData,r=o.historyChanged,l=new t.Visit(this,e,n),l.restorationIdentifier=null!=s?s:t.uuid(),l.restorationData=t.copyObject(a),l.historyChanged=r,l.referrer=this.location,l},n.prototype.visitCompleted=function(t){return this.notifyApplicationAfterPageLoad(t.getTimingMetrics())},n.prototype.clickEventIsSignificant=function(t){return!(t.defaultPrevented||t.target.isContentEditable||t.which>1||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)},n.prototype.getVisitableLinkForNode=function(e){return this.nodeIsVisitable(e)?t.closest(e,"a[href]:not([target]):not([download])"):void 0},n.prototype.getVisitableLocationForLink=function(e){var n;return n=new t.Location(e.getAttribute("href")),this.locationIsVisitable(n)?n:void 0},n.prototype.getActionForLink=function(t){var e;return null!=(e=t.getAttribute("data-turbolinks-action"))?e:"advance"},n.prototype.nodeIsVisitable=function(e){var n;return!(n=t.closest(e,"[data-turbolinks]"))||"false"!==n.getAttribute("data-turbolinks")},n.prototype.locationIsVisitable=function(t){return t.isPrefixedBy(this.view.getRootLocation())&&t.isHTML()},n.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},n.prototype.getRestorationDataForIdentifier=function(t){var e;return null!=(e=this.restorationData)[t]?e[t]:e[t]={}},n}()}.call(this),function(){var e,n,i;t.start=function(){return n()?(null==t.controller&&(t.controller=e()),t.controller.start()):void 0},n=function(){return null==window.Turbolinks&&(window.Turbolinks=t),i()},e=function(){var e;return e=new t.Controller,e.adapter=new t.BrowserAdapter(e),e},(i=function(){return window.Turbolinks===t})()&&t.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=t:"function"==typeof define&&define.amd&&define(t)}.call(this),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.store=t()}}(function(){return function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var d=n[a]={exports:{}};e[a][0].call(d.exports,function(t){var n=e[a][1][t];return r(n||t)},d,d.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e){"use strict";var n=t("../src/store-engine"),i=[t("../storages/localStorage"),t("../storages/sessionStorage"),t("../storages/cookieStorage"),t("../storages/memoryStorage")],r=[];e.exports=n.createStore(i,r)},{"../src/store-engine":2,"../storages/cookieStorage":4,"../storages/localStorage":5,"../storages/memoryStorage":6,"../storages/sessionStorage":7}],2:[function(t,e){"use strict";function n(){var t="undefined"==typeof console?null:console;if(t){(t.warn?t.warn:t.log).apply(t,arguments)}}function i(t,e,i){i||(i=""),t&&!d(t)&&(t=[t]),e&&!d(e)&&(e=[e]);var r=i?"__storejs_"+i+"_":"",f=i?new RegExp("^"+r):null;if(!/^[a-zA-Z0-9_\-]*$/.test(i))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var g={_namespacePrefix:r,_namespaceRegexp:f,_testStorage:function(t){try{var e="__storejs__test__";t.write(e,e);var n=t.read(e)===e;return t.remove(e),n}catch(t){return!1}},_assignPluginFnProp:function(t,e){var n=this[e];this[e]=function(){function e(){if(n)return s(arguments,function(t,e){i[e]=t}),n.apply(r,i)}var i=o(arguments,0),r=this,a=[e].concat(i);return t.apply(r,a)}},_serialize:function(t){return JSON.stringify(t)},_deserialize:function(t,e){if(!t)return e;var n="";try{n=JSON.parse(t)}catch(e){n=t}return void 0!==n?n:e},_addStorage:function(t){this.enabled||this._testStorage(t)&&(this.storage=t,this.enabled=!0)},_addPlugin:function(t){var e=this;if(d(t))return void s(t,function(t){e._addPlugin(t)});if(!a(this.plugins,function(e){return t===e})){if(this.plugins.push(t),!c(t))throw new Error("Plugins must be function values that return objects");var n=t.call(this);if(!h(n))throw new Error("Plugins must return an object of function properties");s(n,function(n,i){if(!c(n))throw new Error("Bad plugin property: "+i+" from plugin "+t.name+". Plugins should only return functions.");e._assignPluginFnProp(n,i)})}},addStorage:function(t){n("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(t)}},m=u(g,p,{plugins:[]});return m.raw={},s(m,function(t,e){c(t)&&(m.raw[e]=l(m,t))}),s(t,function(t){m._addStorage(t)}),s(e,function(t){m._addPlugin(t)}),m}var r=t("./util"),o=r.slice,a=r.pluck,s=r.each,l=r.bind,u=r.create,d=r.isList,c=r.isFunction,h=r.isObject;e.exports={createStore:i};var p={version:"2.0.12",enabled:!1,get:function(t,e){var n=this.storage.read(this._namespacePrefix+t);return this._deserialize(n,e)},set:function(t,e){return void 0===e?this.remove(t):(this.storage.write(this._namespacePrefix+t,this._serialize(e)),e)},remove:function(t){this.storage.remove(this._namespacePrefix+t)},each:function(t){var e=this;this.storage.each(function(n,i){t.call(e,e._deserialize(n),(i||"").replace(e._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(t){return this._namespacePrefix=="__storejs_"+t+"_"},createStore:function(){return i.apply(this,arguments)},addPlugin:function(t){this._addPlugin(t)},namespace:function(t){return i(this.storage,this.plugins,t)}}},{"./util":3}],3:[function(t,e){(function(t){"use strict";function n(){return Object.assign?Object.assign:function(t){for(var e=1;e<arguments.length;e++)s(Object(arguments[e]),function(e,n){t[n]=e});return t}}function i(){if(Object.create)return function(t){var e=a(arguments,1);return p.apply(this,[Object.create(t)].concat(e))};var t=function(){};return function(e){var n=a(arguments,1);return t.prototype=e,p.apply(this,[new t].concat(n))}}function r(){return String.prototype.trim?function(t){return String.prototype.trim.call(t)}:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}function o(t,e){return function(){return e.apply(t,Array.prototype.slice.call(arguments,0))}}function a(t,e){return Array.prototype.slice.call(t,e||0)}function s(t,e){u(t,function(t,n){return e(t,n),!1})}function l(t,e){var n=d(t)?[]:{};return u(t,function(t,i){return n[i]=e(t,i),!1}),n}function u(t,e){if(d(t)){for(var n=0;n<t.length;n++)if(e(t[n],n))return t[n]}else for(var i in t)if(t.hasOwnProperty(i)&&e(t[i],i))return t[i]}function d(t){return null!=t&&"function"!=typeof t&&"number"==typeof t.length}function c(t){return t&&"[object Function]"==={}.toString.call(t)}function h(t){return t&&"[object Object]"==={}.toString.call(t)}var p=n(),f=i(),g=r(),m="undefined"!=typeof window?window:t;e.exports={assign:p,create:f,trim:g,bind:o,slice:a,each:s,map:l,pluck:u,isList:d,isFunction:c,isObject:h,Global:m}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(t,e){"use strict";function n(t){if(!t||!s(t))return null;var e="(?:^|.*;\\s*)"+escape(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(c.cookie.replace(new RegExp(e),"$1"))}function i(t){for(var e=c.cookie.split(/; ?/g),n=e.length-1;n>=0;n--)if(d(e[n])){var i=e[n].split("="),r=unescape(i[0]),o=unescape(i[1]);t(o,r)}}function r(t,e){t&&(c.cookie=escape(t)+"="+escape(e)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function o(t){t&&s(t)&&(c.cookie=escape(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function a(){i(function(t,e){o(e)})}function s(t){return new RegExp("(?:^|;\\s*)"+escape(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(c.cookie)}var l=t("../src/util"),u=l.Global,d=l.trim;e.exports={name:"cookieStorage",read:n,write:r,each:i,remove:o,clearAll:a};var c=u.document},{"../src/util":3}],5:[function(t,e){"use strict";function n(){return u.localStorage}function i(t){return n().getItem(t)}function r(t,e){return n().setItem(t,e)}function o(t){for(var e=n().length-1;e>=0;e--){var r=n().key(e);t(i(r),r)}}function a(t){return n().removeItem(t)}function s(){return n().clear()}var l=t("../src/util"),u=l.Global;e.exports={name:"localStorage",read:i,write:r,each:o,remove:a,clearAll:s}},{"../src/util":3}],6:[function(t,e){"use strict";function n(t){return s[t]}function i(t,e){s[t]=e}function r(t){for(var e in s)s.hasOwnProperty(e)&&t(s[e],e)}function o(t){delete s[t]}function a(){s={}}e.exports={name:"memoryStorage",read:n,write:i,each:r,remove:o,clearAll:a};var s={}},{}],7:[function(t,e){"use strict";function n(){return u.sessionStorage}function i(t){return n().getItem(t)}function r(t,e){return n().setItem(t,e)}function o(t){for(var e=n().length-1;e>=0;e--){var r=n().key(e);t(i(r),r)}}function a(t){return n().removeItem(t)}function s(){return n().clear()}var l=t("../src/util"),u=l.Global;e.exports={name:"sessionStorage",read:i,write:r,each:o,remove:a,clearAll:s}},{"../src/util":3}]},{},[1])(1)}),function(){store.storeWithExpiration={set:function(t,e,n){return store.set(t,{val:e,exp:n,time:(new Date).getTime()})},get:function(t){var e;return e=store.get(t),e?(new Date).getTime()-e.time>e.exp?(store.remove(t),null):e.val:null}}}.call(this),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.SignaturePad=e()}(this,function(){"use strict";function t(t,e){void 0===e&&(e=250);var n,i,r,o=0,a=null,s=function(){o=Date.now(),a=null,n=t.apply(i,r),a||(i=null,r=[])};return function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];var d=Date.now(),c=e-(d-o);return i=this,r=l,c<=0||c>e?(a&&(clearTimeout(a),a=null),o=d,n=t.apply(i,r),a||(i=null,r=[])):a||(a=setTimeout(s,c)),n}}var e=function(){function t(t,e,n){this.x=t,this.y=e,this.time=n||Date.now()}return t.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))},t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.time===t.time},t.prototype.velocityFrom=function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):0},t}(),n=function(){function t(t,e,n,i,r,o){this.startPoint=t,this.control2=e,this.control1=n,this.endPoint=i,this.startWidth=r,this.endWidth=o}return t.fromPoints=function(e,n){var i=this.calculateControlPoints(e[0],e[1],e[2]).c2,r=this.calculateControlPoints(e[1],e[2],e[3]).c1;return new t(e[1],i,r,e[2],n.start,n.end)},t.calculateControlPoints=function(t,n,i){var r=t.x-n.x,o=t.y-n.y,a=n.x-i.x,s=n.y-i.y,l={x:(t.x+n.x)/2,y:(t.y+n.y)/2},u={x:(n.x+i.x)/2,y:(n.y+i.y)/2},d=Math.sqrt(r*r+o*o),c=Math.sqrt(a*a+s*s),h=l.x-u.x,p=l.y-u.y,f=c/(d+c),g={x:u.x+h*f,y:u.y+p*f},m=n.x-g.x,v=n.y-g.y;return{c1:new e(l.x+m,l.y+v),c2:new e(u.x+m,u.y+v)}},t.prototype.length=function(){for(var t,e,n=10,i=0,r=0;r<=n;r+=1){var o=r/n,a=this.point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),s=this.point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(r>0){var l=a-t,u=s-e;i+=Math.sqrt(l*l+u*u)}t=a,e=s}return i},t.prototype.point=function(t,e,n,i,r){return e*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*i*(1-t)*t*t+r*t*t*t},t}();return function(){function i(e,n){void 0===n&&(n={});var r=this;this.canvas=e,this.options=n,this._handleMouseDown=function(t){1===t.which&&(r._mouseButtonDown=!0,r._strokeBegin(t))},this._handleMouseMove=function(t){r._mouseButtonDown&&r._strokeMoveUpdate(t)},this._handleMouseUp=function(t){1===t.which&&r._mouseButtonDown&&(r._mouseButtonDown=!1,r._strokeEnd(t))},this._handleTouchStart=function(t){if(t.preventDefault(),1===t.targetTouches.length){var e=t.changedTouches[0];r._strokeBegin(e)}},this._handleTouchMove=function(t){t.preventDefault();var e=t.targetTouches[0];r._strokeMoveUpdate(e)},this._handleTouchEnd=function(t){if(t.target===r.canvas){t.preventDefault();var e=t.changedTouches[0];r._strokeEnd(e)}},this.velocityFilterWeight=n.velocityFilterWeight||.7,this.minWidth=n.minWidth||.5,this.maxWidth=n.maxWidth||2.5,this.throttle="throttle"in n?n.throttle:16,this.minDistance="minDistance"in n?n.minDistance:5,this.throttle?this._strokeMoveUpdate=t(i.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=i.prototype._strokeUpdate,this.dotSize=n.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=n.penColor||"black",this.backgroundColor=n.backgroundColor||"rgba(0,0,0,0)",this.onBegin=n.onBegin,this.onEnd=n.onEnd,this._ctx=e.getContext("2d"),this.clear(),this.on()}return i.prototype.clear=function(){var t=this._ctx,e=this.canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._data=[],this._reset(),this._isEmpty=!0},i.prototype.fromDataURL=function(t,e,n){var i=this;void 0===e&&(e={});var r=new Image,o=e.ratio||window.devicePixelRatio||1,a=e.width||this.canvas.width/o,s=e.height||this.canvas.height/o;this._reset(),r.onload=function(){i._ctx.drawImage(r,0,0,a,s),n&&n()},r.onerror=function(t){n&&n(t)},r.src=t,this._isEmpty=!1},i.prototype.toDataURL=function(t,e){switch(void 0===t&&(t="image/png"),t){case"image/svg+xml":return this._toSVG();default:return this.canvas.toDataURL(t,e)}},i.prototype.on=function(){this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents()},i.prototype.off=function(){this.canvas.style.msTouchAction="auto",this.canvas.style.touchAction="auto",this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)},i.prototype.isEmpty=function(){return this._isEmpty},i.prototype.fromData=function(t){var e=this;this.clear(),this._fromData(t,function(t){var n=t.color,i=t.curve;return e._drawCurve({color:n,curve:i})},function(t){var n=t.color,i=t.point;return e._drawDot({color:n,point:i})}),this._data=t},i.prototype.toData=function(){return this._data},i.prototype._strokeBegin=function(t){var e={color:this.penColor,points:[]};this._data.push(e),this._reset(),this._strokeUpdate(t),"function"==typeof this.onBegin&&this.onBegin(t)},i.prototype._strokeUpdate=function(t){var e=t.clientX,n=t.clientY,i=this._createPoint(e,n),r=this._data[this._data.length-1],o=r.points,a=o.length>0&&o[o.length-1],s=!!a&&i.distanceTo(a)<=this.minDistance,l=r.color;if(!a||!a||!s){var u=this._addPoint(i);a?u&&this._drawCurve({color:l,curve:u}):this._drawDot({color:l,point:i}),o.push({time:i.time,x:i.x,y:i.y})}},i.prototype._strokeEnd=function(t){this._strokeUpdate(t),"function"==typeof this.onEnd&&this.onEnd(t)},i.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},i.prototype._handleTouchEvents=function(){this.canvas.style.msTouchAction="none",this.canvas.style.touchAction="none",this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)},i.prototype._reset=function(){this._points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},i.prototype._createPoint=function(t,n){var i=this.canvas.getBoundingClientRect();return new e(t-i.left,n-i.top,(new Date).getTime())},i.prototype._addPoint=function(t){var e=this._points;if(e.push(t),e.length>2){3===e.length&&e.unshift(e[0]);var i=this._calculateCurveWidths(e[1],e[2]),r=n.fromPoints(e,i);return e.shift(),r}return null},i.prototype._calculateCurveWidths=function(t,e){var n=this.velocityFilterWeight*e.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity,i=this._strokeWidth(n),r={end:i,start:this._lastWidth};return this._lastVelocity=n,this._lastWidth=i,r},i.prototype._strokeWidth=function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)},i.prototype._drawCurveSegment=function(t,e,n){var i=this._ctx;i.moveTo(t,e),i.arc(t,e,n,0,2*Math.PI,!1),this._isEmpty=!1},i.prototype._drawCurve=function(t){var e=t.color,n=t.curve,i=this._ctx,r=n.endWidth-n.startWidth,o=2*Math.floor(n.length());i.beginPath(),i.fillStyle=e;for(var a=0;a<o;a+=1){var s=a/o,l=s*s,u=l*s,d=1-s,c=d*d,h=c*d,p=h*n.startPoint.x;p+=3*c*s*n.control1.x,p+=3*d*l*n.control2.x,p+=u*n.endPoint.x;var f=h*n.startPoint.y;f+=3*c*s*n.control1.y,f+=3*d*l*n.control2.y,f+=u*n.endPoint.y;var g=n.startWidth+u*r;this._drawCurveSegment(p,f,g)}i.closePath(),i.fill()},i.prototype._drawDot=function(t){var e=t.color,n=t.point,i=this._ctx,r="function"==typeof this.dotSize?this.dotSize():this.dotSize;i.beginPath(),this._drawCurveSegment(n.x,n.y,r),i.closePath(),i.fillStyle=e,i.fill()},i.prototype._fromData=function(t,n,i){for(var r=0,o=t;r<o.length;r++){var a=o[r],s=a.color,l=a.points;if(l.length>1)for(var u=0;u<l.length;u+=1){var d=l[u],c=new e(d.x,d.y,d.time);this.penColor=s,0===u&&this._reset();var h=this._addPoint(c);h&&n({color:s,curve:h})}else this._reset(),i({color:s,point:l[0]})}},i.prototype._toSVG=function(){var t=this,e=this._data,n=Math.max(window.devicePixelRatio||1,1),i=0,r=0,o=this.canvas.width/n,a=this.canvas.height/n,s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.setAttribute("width",this.canvas.width.toString()),s.setAttribute("height",this.canvas.height.toString()),this._fromData(e,function(t){var e=t.color,n=t.curve,i=document.createElement("path");if(!(isNaN(n.control1.x)||isNaN(n.control1.y)||isNaN(n.control2.x)||isNaN(n.control2.y))){var r="M "+n.startPoint.x.toFixed(3)+","+n.startPoint.y.toFixed(3)+" C "+n.control1.x.toFixed(3)+","+n.control1.y.toFixed(3)+" "+n.control2.x.toFixed(3)+","+n.control2.y.toFixed(3)+" "+n.endPoint.x.toFixed(3)+","+n.endPoint.y.toFixed(3);i.setAttribute("d",r),i.setAttribute("stroke-width",(2.25*n.endWidth).toFixed(3)),i.setAttribute("stroke",e),i.setAttribute("fill","none"),i.setAttribute("stroke-linecap","round"),s.appendChild(i)}},function(e){var n=e.color,i=e.point,r=document.createElement("circle"),o="function"==typeof t.dotSize?t.dotSize():t.dotSize;r.setAttribute("r",o.toString()),r.setAttribute("cx",i.x.toString()),r.setAttribute("cy",i.y.toString()),r.setAttribute("fill",n),s.appendChild(r)});var l="data:image/svg+xml;base64,",u='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="'+i+" "+r+" "+o+" "+a+'" width="'+o+'" height="'+a+'">',d=s.innerHTML;if(d===undefined){var c=document.createElement("dummy"),h=s.childNodes;c.innerHTML="";for(var p=0;p<h.length;p+=1)c.appendChild(h[p].cloneNode(!0));d=c.innerHTML}var f="</svg>",g=u+d+f;return l+btoa(g)},i}()}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(e,i){var r,o,a,s=e.nodeName.toLowerCase();return"area"===s?(r=e.parentNode,o=r.name,!(!e.href||!o||"map"!==r.nodeName.toLowerCase())&&(!!(a=t("img[usemap='#"+o+"']")[0])&&n(a))):(/^(input|select|textarea|button|object)$/.test(s)?!e.disabled:"a"===s?e.href||i:i)&&n(e)}function n(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var n=this.css("position"),i="absolute"===n,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return(!i||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])},focusable:function(n){return e(n,!isNaN(t.attr(n,"tabindex")))},tabbable:function(n){var i=t.attr(n,"tabindex"),r=isNaN(i);return(r||i>=0)&&e(n,!r)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,n){function i(e,n,i,o){return t.each(r,function(){n-=parseFloat(t.css(e,"padding"+this))||0,i&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}var r="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(e){return e===undefined?a["inner"+n].call(this):this.each(function(){t(this).css(o,i(this,e)+"px")})},t.fn["outer"+n]=function(e,r){return"number"!=typeof e?a["outer"+n].call(this,e):this.each(function(){t(this).css(o,i(this,e,!0,r)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(n){return arguments.length?e.call(this,t.camelCase(n)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(n,i){return"number"==typeof n?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),i&&i.call(e)},n)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(e!==undefined)return this.css("zIndex",e);if(this.length)for(var n,i,r=t(this[0]);r.length&&r[0]!==document;){if(("absolute"===(n=r.css("position"))||"relative"===n||"fixed"===n)&&(i=parseInt(r.css("zIndex"),10),!isNaN(i)&&0!==i))return i;r=r.parent()}return 0}}),t.ui.plugin={add:function(e,n,i){var r,o=t.ui[e].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(t,e,n,i){var r,o=t.plugins[e];if(o&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,n)}}}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){var e=0,n=Array.prototype.slice;return t.cleanData=function(e){return function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{i=t._data(r,"events"),i&&i.remove&&t(r).triggerHandler("remove")}catch(t){}e(n)}}(t.cleanData),t.widget=function(e,n,i){var r,o,a,s,l={},u=e.split(".")[0];return e=e.split(".")[1],r=u+"-"+e,i||(i=n,n=t.Widget),t.expr[":"][r.toLowerCase()]=function(e){return!!t.data(e,r)},t[u]=t[u]||{},o=t[u][e],a=t[u][e]=function(t,e){if(!this._createWidget)return new a(t,e);arguments.length&&this._createWidget(t,e)},t.extend(a,o,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),s=new n,s.options=t.widget.extend({},s.options),t.each(i,function(e,i){if(!t.isFunction(i))return void(l[e]=i);l[e]=function(){var t=function(){return n.prototype[e].apply(this,arguments)},r=function(t){return n.prototype[e].apply(this,t)};return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=o,e}}()}),a.prototype=t.widget.extend(s,{widgetEventPrefix:o?s.widgetEventPrefix||e:e},l,{constructor:a,namespace:u,widgetName:e,widgetFullName:r}),o?(t.each(o._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,a,n._proto)}),delete o._childConstructors):n._childConstructors.push(a),t.widget.bridge(e,a),a},t.widget.extend=function(e){for(var i,r,o=n.call(arguments,1),a=0,s=o.length;a<s;a++)for(i in o[a])r=o[a][i],o[a].hasOwnProperty(i)&&r!==undefined&&(t.isPlainObject(r)?e[i]=t.isPlainObject(e[i])?t.widget.extend({},e[i],r):t.widget.extend({},r):e[i]=r);return e},t.widget.bridge=function(e,i){var r=i.prototype.widgetFullName||e;t.fn[e]=function(o){var a="string"==typeof o,s=n.call(arguments,1),l=this;return a?this.each(function(){var n,i=t.data(this,r);return"instance"===o?(l=i,!1):i?t.isFunction(i[o])&&"_"!==o.charAt(0)?(n=i[o].apply(i,s),n!==i&&n!==undefined?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0):t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):(s.length&&(o=t.widget.extend.apply(null,[o].concat(s))),this.each(function(){var e=t.data(this,r);e?(e.option(o||{}),e._init&&e._init()):t.data(this,r,new i(o,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(n,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},i=e.split("."),e=i.shift(),i.length){for(r=a[e]=t.widget.extend({},this.options[e]),o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(e=i.pop(),1===arguments.length)return r[e]===undefined?null:r[e];r[e]=n}else{if(1===arguments.length)return this.options[e]===undefined?null:this.options[e];a[e]=n}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,n,i){var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,a){function s(){if(e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof a?o[a]:a).apply(o,arguments)}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,d=l[2];d?r.delegate(d,u,s):n.bind(u,s)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(n).undelegate(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,i){var r,o,a=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(a)&&!1===a.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){"string"==typeof r&&(r={effect:r});var a,s=r?!0===r||"number"==typeof r?n:r.effect||n:e;r=r||{},"number"==typeof r&&(r={duration:r}),a=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),a&&t.effects&&t.effects.effect[s]?i[e](r):s!==e&&i[s]?i[s](r.duration,r.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}}),t.widget}),function(t,e){"use strict";t.rails!==e&&t.error("jquery-ujs has already been loaded!");var n,i=t(document);t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return t("meta[name=csrf-token]").attr("content")},csrfParam:function(){return t("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=n.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){t('form input[name="'+n.csrfParam()+'"]').val(n.csrfToken())},fire:function(e,n,i){var r=t.Event(n);return e.trigger(r,i),!1!==r.result},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==e&&!1!==t.data("remote")},handleRemote:function(i){var r,o,a,s,l,u;if(n.fire(i,"ajax:before")){if(s=i.data("with-credentials")||null,l=i.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,i.is("form")){r=i.data("ujs:submit-button-formmethod")||i.attr("method"),o=i.data("ujs:submit-button-formaction")||i.attr("action"),a=t(i[0]).serializeArray();var d=i.data("ujs:submit-button");d&&(a.push(d),i.data("ujs:submit-button",null)),i.data("ujs:submit-button-formmethod",null),i.data("ujs:submit-button-formaction",null)}else i.is(n.inputChangeSelector)?(r=i.data("method"),o=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(r=i.data("method")||"get",o=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):(r=i.data("method"),o=n.href(i),a=i.data("params")||null);return u={type:r||"GET",data:a,dataType:l,beforeSend:function(t,r){if(r.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),
!n.fire(i,"ajax:beforeSend",[t,r]))return!1;i.trigger("ajax:send",t)},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:n.isCrossDomain(o)},s&&(u.xhrFields={withCredentials:s}),o&&(u.url=o),n.ajax(u)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var n=document.createElement("a");try{return n.href=t,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(t){return!0}},handleMethod:function(i){var r=n.href(i),o=i.data("method"),a=i.attr("target"),s=n.csrfToken(),l=n.csrfParam(),u=t('<form method="post" action="'+r+'"></form>'),d='<input name="_method" value="'+o+'" type="hidden" />';l===e||s===e||n.isCrossDomain(r)||(d+='<input name="'+l+'" value="'+s+'" type="hidden" />'),a&&u.attr("target",a),u.hide().append(d).appendTo("body"),u.submit()},formElements:function(e,n){return e.is("form")?t(e[0].elements).filter(n):e.find(n)},disableFormElements:function(e){n.formElements(e,n.disableSelector).each(function(){n.disableFormElement(t(this))})},disableFormElement:function(t){var n,i;n=t.is("button")?"html":"val",i=t.data("disable-with"),i!==e&&(t.data("ujs:enable-with",t[n]()),t[n](i)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(e){n.formElements(e,n.enableSelector).each(function(){n.enableFormElement(t(this))})},enableFormElement:function(t){var n=t.is("button")?"html":"val";t.data("ujs:enable-with")!==e&&(t[n](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,i=t.data("confirm"),r=!1;if(!i)return!0;if(n.fire(t,"confirm")){try{r=n.confirm(i)}catch(t){(console.error||console.log).call(console,t.stack||t)}e=n.fire(t,"confirm:complete",[r])}return r&&e},blankInputs:function(e,n,i){var r,o,a,s,l=t(),u=n||"input,textarea",d=e.find(u),c={};return d.each(function(){r=t(this),r.is("input[type=radio]")?(s=r.attr("name"),c[s]||(0===e.find('input[type=radio]:checked[name="'+s+'"]').length&&(a=e.find('input[type=radio][name="'+s+'"]'),l=l.add(a)),c[s]=s)):(o=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):!!r.val())===i&&(l=l.add(r))}),!!l.length&&l},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var i=t.data("disable-with");i!==e&&(t.data("ujs:enable-with",t.html()),t.html(i)),t.bind("click.railsDisable",function(t){return n.stopEverything(t)}),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable"),t.removeData("ujs:disabled")}},n.fire(i,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,i){t.crossDomain||n.CSRFProtection(i)}),t(window).on("pageshow.rails",function(){t(t.rails.enableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableFormElement(e)}),t(t.rails.linkDisableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableElement(e)})}),i.on("ajax:complete",n.linkDisableSelector,function(){n.enableElement(t(this))}),i.on("ajax:complete",n.buttonDisableSelector,function(){n.enableFormElement(t(this))}),i.on("click.rails",n.linkClickSelector,function(e){var i=t(this),r=i.data("method"),o=i.data("params"),a=e.metaKey||e.ctrlKey;if(!n.allowAction(i))return n.stopEverything(e);if(!a&&i.is(n.linkDisableSelector)&&n.disableElement(i),n.isRemote(i)){if(a&&(!r||"GET"===r)&&!o)return!0;var s=n.handleRemote(i);return!1===s?n.enableElement(i):s.fail(function(){n.enableElement(i)}),!1}return r?(n.handleMethod(i),!1):void 0}),i.on("click.rails",n.buttonClickSelector,function(e){var i=t(this);if(!n.allowAction(i)||!n.isRemote(i))return n.stopEverything(e);i.is(n.buttonDisableSelector)&&n.disableFormElement(i);var r=n.handleRemote(i);return!1===r?n.enableFormElement(i):r.fail(function(){n.enableFormElement(i)}),!1}),i.on("change.rails",n.inputChangeSelector,function(e){var i=t(this);return n.allowAction(i)&&n.isRemote(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),i.on("submit.rails",n.formSubmitSelector,function(i){var r,o,a=t(this),s=n.isRemote(a);if(!n.allowAction(a))return n.stopEverything(i);if(a.attr("novalidate")===e)if(a.data("ujs:formnovalidate-button")===e){if((r=n.blankInputs(a,n.requiredInputSelector,!1))&&n.fire(a,"ajax:aborted:required",[r]))return n.stopEverything(i)}else a.data("ujs:formnovalidate-button",e);if(s){if(o=n.nonBlankInputs(a,n.fileInputSelector)){setTimeout(function(){n.disableFormElements(a)},13);var l=n.fire(a,"ajax:aborted:file",[o]);return l||setTimeout(function(){n.enableFormElements(a)},13),l}return n.handleRemote(a),!1}setTimeout(function(){n.disableFormElements(a)},13)}),i.on("click.rails",n.formInputClickSelector,function(e){var i=t(this);if(!n.allowAction(i))return n.stopEverything(e);var r=i.attr("name"),o=r?{name:r,value:i.val()}:null,a=i.closest("form");0===a.length&&(a=t("#"+i.attr("form"))),a.data("ujs:submit-button",o),a.data("ujs:formnovalidate-button",i.attr("formnovalidate")),a.data("ujs:submit-button-formaction",i.attr("formaction")),a.data("ujs:submit-button-formmethod",i.attr("formmethod"))}),i.on("ajax:send.rails",n.formSubmitSelector,function(e){this===e.target&&n.disableFormElements(t(this))}),i.on("ajax:complete.rails",n.formSubmitSelector,function(e){this===e.target&&n.enableFormElements(t(this))}),t(function(){n.refreshCSRFTokens()}))}(jQuery),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):window.jQuery)}(function(t){"use strict";var e=0;t.ajaxTransport("iframe",function(n){if(n.async){var i,r,o,a=n.initialIframeSrc||"javascript:false;";return{send:function(s,l){i=t('<form style="display:none;"></form>'),i.attr("accept-charset",n.formAcceptCharset),o=/\?/.test(n.url)?"&":"?","DELETE"===n.type?(n.url=n.url+o+"_method=DELETE",n.type="POST"):"PUT"===n.type?(n.url=n.url+o+"_method=PUT",n.type="POST"):"PATCH"===n.type&&(n.url=n.url+o+"_method=PATCH",n.type="POST"),e+=1,r=t('<iframe src="'+a+'" name="iframe-transport-'+e+'"></iframe>').bind("load",function(){var e,o=t.isArray(n.paramName)?n.paramName:[n.paramName];r.unbind("load").bind("load",function(){var e;try{if(e=r.contents(),!e.length||!e[0].firstChild)throw new Error}catch(t){e=undefined}l(200,"success",{iframe:e}),t('<iframe src="'+a+'"></iframe>').appendTo(i),window.setTimeout(function(){i.remove()},0)}),i.prop("target",r.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&t.each(n.formData,function(e,n){t('<input type="hidden"/>').prop("name",n.name).val(n.value).appendTo(i)}),n.fileInput&&n.fileInput.length&&"POST"===n.type&&(e=n.fileInput.clone(),n.fileInput.after(function(t){return e[t]}),n.paramName&&n.fileInput.each(function(e){t(this).prop("name",o[e]||n.paramName)}),i.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),n.fileInput.removeAttr("form")),i.submit(),e&&e.length&&n.fileInput.each(function(n,i){var r=t(e[n]);t(i).prop("name",r.prop("name")).attr("form",r.attr("form")),r.replaceWith(i)})}),i.append(r).appendTo(document.body)},abort:function(){r&&r.unbind("load").prop("src",a),i&&i.remove()}}}}),t.ajaxSetup({converters:{"iframe text":function(e){return e&&t(e[0].body).text()},"iframe json":function(e){return e&&t.parseJSON(t(e[0].body).text())},"iframe html":function(e){return e&&t(e[0].body).html()},"iframe xml":function(e){var n=e&&e[0];return n&&t.isXMLDoc(n)?n:t.parseXML(n.XMLDocument&&n.XMLDocument.xml||t(n.body).html())},"iframe script":function(e){return e&&t.globalEval(t(e[0].body).text())}}})}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],t):"object"==typeof exports?t(require("jquery"),require("./vendor/jquery.ui.widget")):t(window.jQuery)}(function(t){"use strict";function e(e){var n="dragover"===e;return function(i){i.dataTransfer=i.originalEvent&&i.originalEvent.dataTransfer;var r=i.dataTransfer;r&&-1!==t.inArray("Files",r.types)&&!1!==this._trigger(e,t.Event(e,{delegatedEvent:i}))&&(i.preventDefault(),n&&(r.dropEffect="copy"))}}t.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||t('<input type="file">').prop("disabled")),t.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),t.support.xhrFormDataFileUpload=!!window.FormData,t.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),t.widget("blueimp.fileupload",{options:{dropZone:t(document),pasteZone:undefined,fileInput:undefined,replaceFileInput:!0,paramName:undefined,singleFileUploads:!0,limitMultiFileUploads:undefined,limitMultiFileUploadSize:undefined,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:undefined,forceIframeTransport:!1,redirect:undefined,redirectParamName:undefined,postMessage:undefined,multipart:!0,maxChunkSize:undefined,uploadedBytes:undefined,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(e,n){return e=this.messages[e]||e.toString(),n&&t.each(n,function(t,n){e=e.replace("{"+t+"}",n)}),e},formData:function(t){return t.serializeArray()},add:function(e,n){if(e.isDefaultPrevented())return!1;(n.autoUpload||!1!==n.autoUpload&&t(this).fileupload("option","autoUpload"))&&n.process().done(function(){n.submit()})},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:t.support.blobSlice&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(t,e,n){var i=t-this.timestamp;return(!this.bitrate||!n||i>n)&&(this.bitrate=(e-this.loaded)*(1e3/i)*8,this.loaded=e,this.timestamp=t),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&t.support.xhrFileUpload||t.support.xhrFormDataFileUpload)},_getFormData:function(e){var n;return"function"===t.type(e.formData)?e.formData(e.form):t.isArray(e.formData)?e.formData:"object"===t.type(e.formData)?(n=[],t.each(e.formData,function(t,e){n.push({name:t,value:e})}),n):[]},_getTotal:function(e){var n=0;return t.each(e,function(t,e){n+=e.size||1}),n},_initProgressObject:function(e){var n={loaded:0,total:0,bitrate:0};e._progress?t.extend(e._progress,n):e._progress=n},_initResponseObject:function(t){var e;if(t._response)for(e in t._response)t._response.hasOwnProperty(e)&&delete t._response[e];else t._response={}},_onProgress:function(e,n){if(e.lengthComputable){var i,r=Date.now?Date.now():(new Date).getTime();if(n._time&&n.progressInterval&&r-n._time<n.progressInterval&&e.loaded!==e.total)return;n._time=r,i=Math.floor(e.loaded/e.total*(n.chunkSize||n._progress.total))+(n.uploadedBytes||0),this._progress.loaded+=i-n._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(r,this._progress.loaded,n.bitrateInterval),n._progress.loaded=n.loaded=i,n._progress.bitrate=n.bitrate=n._bitrateTimer.getBitrate(r,i,n.bitrateInterval),this._trigger("progress",t.Event("progress",{delegatedEvent:e}),n),this._trigger("progressall",t.Event("progressall",{delegatedEvent:e}),this._progress)}},_initProgressListener:function(e){var n=this,i=e.xhr?e.xhr():t.ajaxSettings.xhr();i.upload&&(t(i.upload).bind("progress",function(t){var i=t.originalEvent;t.lengthComputable=i.lengthComputable,t.loaded=i.loaded,t.total=i.total,n._onProgress(t,e)}),e.xhr=function(){return i})},_isInstanceOf:function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"},_initXHRData:function(e){var n,i=this,r=e.files[0],o=e.multipart||!t.support.xhrFileUpload,a="array"===t.type(e.paramName)?e.paramName[0]:e.paramName;e.headers=t.extend({},e.headers),e.contentRange&&(e.headers["Content-Range"]=e.contentRange),o&&!e.blob&&this._isInstanceOf("File",r)||(e.headers["Content-Disposition"]='attachment; filename="'+encodeURI(r.name)+'"'),o?t.support.xhrFormDataFileUpload&&(e.postMessage?(n=this._getFormData(e),e.blob?n.push({name:a,value:e.blob}):t.each(e.files,function(i,r){n.push({name:"array"===t.type(e.paramName)&&e.paramName[i]||a,value:r})})):(i._isInstanceOf("FormData",e.formData)?n=e.formData:(n=new FormData,t.each(this._getFormData(e),function(t,e){n.append(e.name,e.value)})),e.blob?n.append(a,e.blob,r.name):t.each(e.files,function(r,o){(i._isInstanceOf("File",o)||i._isInstanceOf("Blob",o))&&n.append("array"===t.type(e.paramName)&&e.paramName[r]||a,o,o.uploadName||o.name)})),e.data=n):(e.contentType=r.type||"application/octet-stream",e.data=e.blob||r),e.blob=null},_initIframeSettings:function(e){var n=t("<a></a>").prop("href",e.url).prop("host");e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&n&&n!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(t){this._isXHRUpload(t)?(this._chunkedUpload(t,!0)||(t.data||this._initXHRData(t),this._initProgressListener(t)),t.postMessage&&(t.dataType="postmessage "+(t.dataType||""))):this._initIframeSettings(t)},_getParamName:function(e){var n=t(e.fileInput),i=e.paramName;return i?t.isArray(i)||(i=[i]):(i=[],n.each(function(){for(var e=t(this),n=e.prop("name")||"files[]",r=(e.prop("files")||[1]).length;r;)i.push(n),r-=1}),i.length||(i=[n.prop("name")||"files[]"])),i},_initFormSettings:function(e){e.form&&e.form.length||(e.form=t(e.fileInput.prop("form")),e.form.length||(e.form=t(this.options.fileInput.prop("form")))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||"string"===t.type(e.form.prop("method"))&&e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&"PATCH"!==e.type&&(e.type="POST"),e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){var n=t.extend({},this.options,e);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(t){return t.state?t.state():t.isResolved()?"resolved":t.isRejected()?"rejected":"pending"},_enhancePromise:function(t){return t.success=t.done,t.error=t.fail,t.complete=t.always,t},_getXHRPromise:function(e,n,i){var r=t.Deferred(),o=r.promise();return n=n||this.options.context||o,!0===e?r.resolveWith(n,i):!1===e&&r.rejectWith(n,i),o.abort=r.promise,this._enhancePromise(o)},_addConvenienceMethods:function(e,n){var i=this,r=function(e){return t.Deferred().resolveWith(i,e).promise()};n.process=function(e,o){return(e||o)&&(n._processQueue=this._processQueue=(this._processQueue||r([this])).pipe(function(){return n.errorThrown?t.Deferred().rejectWith(i,[n]).promise():r(arguments)}).pipe(e,o)),this._processQueue||r([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=!1!==i._trigger("submit",t.Event("submit",{delegatedEvent:e}),this)&&i._onSend(e,this)),this.jqXHR||i._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",i._trigger("fail",null,this),i._getXHRPromise(!1))},n.state=function(){return this.jqXHR?i._getDeferredState(this.jqXHR):this._processQueue?i._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===i._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(t){var e=t.getResponseHeader("Range"),n=e&&e.split("-"),i=n&&n.length>1&&parseInt(n[1],10);return i&&i+1},_chunkedUpload:function(e,n){e.uploadedBytes=e.uploadedBytes||0;var i,r,o=this,a=e.files[0],s=a.size,l=e.uploadedBytes,u=e.maxChunkSize||s,d=this._blobSlice,c=t.Deferred(),h=c.promise();return!(!(this._isXHRUpload(e)&&d&&(l||u<s))||e.data)&&(!!n||(l>=s?(a.error=e.i18n("uploadedBytes"),this._getXHRPromise(!1,e.context,[null,"error",a.error])):(r=function(){var n=t.extend({},e),h=n._progress.loaded;n.blob=d.call(a,l,l+u,a.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+l+"-"+(l+n.chunkSize-1)+"/"+s,o._initXHRData(n),o._initProgressListener(n),i=(!1!==o._trigger("chunksend",null,n)&&t.ajax(n)||o._getXHRPromise(!1,n.context)).done(function(i,a,u){l=o._getUploadedBytes(u)||l+n.chunkSize,h+n.chunkSize-n._progress.loaded&&o._onProgress(t.Event("progress",{lengthComputable:!0,loaded:l-n.uploadedBytes,total:l-n.uploadedBytes}),n),e.uploadedBytes=n.uploadedBytes=l,n.result=i,n.textStatus=a,n.jqXHR=u,o._trigger("chunkdone",null,n),o._trigger("chunkalways",null,n),l<s?r():c.resolveWith(n.context,[i,a,u])}).fail(function(t,e,i){n.jqXHR=t,n.textStatus=e,n.errorThrown=i,o._trigger("chunkfail",null,n),o._trigger("chunkalways",null,n),c.rejectWith(n.context,[t,e,i])})},this._enhancePromise(h),h.abort=function(){return i.abort()},r(),h)))},_beforeSend:function(t,e){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(e),this._initProgressObject(e),e._progress.loaded=e.loaded=e.uploadedBytes||0,e._progress.total=e.total=this._getTotal(e.files)||1,e._progress.bitrate=e.bitrate=0,this._active+=1,this._progress.loaded+=e.loaded,this._progress.total+=e.total},_onDone:function(e,n,i,r){var o=r._progress.total,a=r._response;r._progress.loaded<o&&this._onProgress(t.Event("progress",{lengthComputable:!0,loaded:o,total:o}),r),a.result=r.result=e,a.textStatus=r.textStatus=n,a.jqXHR=r.jqXHR=i,this._trigger("done",null,r)},_onFail:function(t,e,n,i){var r=i._response;i.recalculateProgress&&(this._progress.loaded-=i._progress.loaded,this._progress.total-=i._progress.total),r.jqXHR=i.jqXHR=t,r.textStatus=i.textStatus=e,r.errorThrown=i.errorThrown=n,this._trigger("fail",null,i)},_onAlways:function(t,e,n,i){this._trigger("always",null,i)},_onSend:function(e,n){n.submit||this._addConvenienceMethods(e,n);var i,r,o,a,s=this,l=s._getAJAXSettings(n),u=function(){return s._sending+=1,l._bitrateTimer=new s._BitrateTimer,i=i||((r||!1===s._trigger("send",t.Event("send",{delegatedEvent:e}),l))&&s._getXHRPromise(!1,l.context,r)||s._chunkedUpload(l)||t.ajax(l)).done(function(t,e,n){s._onDone(t,e,n,l)}).fail(function(t,e,n){s._onFail(t,e,n,l)}).always(function(t,e,n){if(s._onAlways(t,e,n,l),s._sending-=1,s._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>s._sending)for(var i=s._slots.shift();i;){if("pending"===s._getDeferredState(i)){i.resolve();break}i=s._slots.shift()}0===s._active&&s._trigger("stop")})};return this._beforeSend(e,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(o=t.Deferred(),this._slots.push(o),a=o.pipe(u)):(this._sequence=this._sequence.pipe(u,u),a=this._sequence),a.abort=function(){return r=[undefined,"abort","abort"],i?i.abort():(o&&o.rejectWith(l.context,r),u())},this._enhancePromise(a)):u()},_onAdd:function(e,n){var i,r,o,a,s=this,l=!0,u=t.extend({},this.options,n),d=n.files,c=d.length,h=u.limitMultiFileUploads,p=u.limitMultiFileUploadSize,f=u.limitMultiFileUploadSizeOverhead,g=0,m=this._getParamName(u),v=0;if(!c)return!1;if(p&&d[0].size===undefined&&(p=undefined),(u.singleFileUploads||h||p)&&this._isXHRUpload(u))if(u.singleFileUploads||p||!h)if(!u.singleFileUploads&&p)for(o=[],i=[],a=0;a<c;a+=1)g+=d[a].size+f,(a+1===c||g+d[a+1].size+f>p||h&&a+1-v>=h)&&(o.push(d.slice(v,a+1)),r=m.slice(v,a+1),r.length||(r=m),i.push(r),v=a+1,g=0);else i=m;else for(o=[],i=[],a=0;a<c;a+=h)o.push(d.slice(a,a+h)),r=m.slice(a,a+h),r.length||(r=m),i.push(r);else o=[d],i=[m];return n.originalFiles=d,t.each(o||d,function(r,a){var u=t.extend({},n);return u.files=o?a:[a],u.paramName=i[r],s._initResponseObject(u),s._initProgressObject(u),s._addConvenienceMethods(e,u),l=s._trigger("add",t.Event("add",{delegatedEvent:e}),u)}),l},_replaceFileInput:function(e){var n=e.fileInput,i=n.clone(!0);e.fileInputClone=i,t("<form></form>").append(i)[0].reset(),n.after(i).detach(),t.cleanData(n.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(t,e){return e===n[0]?i[0]:e}),n[0]===this.element[0]&&(this.element=i)},_handleFileTreeEntry:function(e,n){var i,r=this,o=t.Deferred(),a=function(t){t&&!t.entry&&(t.entry=e),o.resolve([t])},s=function(t){r._handleFileTreeEntries(t,n+e.name+"/").done(function(t){o.resolve(t)}).fail(a)},l=function(){i.readEntries(function(t){t.length?(u=u.concat(t),l()):s(u)},a)},u=[];return n=n||"",e.isFile?e._file?(e._file.relativePath=n,o.resolve(e._file)):e.file(function(t){t.relativePath=n,o.resolve(t)},a):e.isDirectory?(i=e.createReader(),l()):o.resolve([]),o.promise()},_handleFileTreeEntries:function(e,n){var i=this;return t.when.apply(t,t.map(e,function(t){return i._handleFileTreeEntry(t,n)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(e){e=e||{};var n=e.items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(t.map(n,function(t){var e;return t.webkitGetAsEntry?(e=t.webkitGetAsEntry(),e&&(e._file=t.getAsFile()),e):t.getAsEntry()})):t.Deferred().resolve(t.makeArray(e.files)).promise()},_getSingleFileInputFiles:function(e){e=t(e);var n,i,r=e.prop("webkitEntries")||e.prop("entries");if(r&&r.length)return this._handleFileTreeEntries(r);if(n=t.makeArray(e.prop("files")),n.length)n[0].name===undefined&&n[0].fileName&&t.each(n,function(t,e){e.name=e.fileName,e.size=e.fileSize});else{if(!(i=e.prop("value")))return t.Deferred().resolve([]).promise();n=[{name:i.replace(/^.*\\/,"")}]}return t.Deferred().resolve(n).promise()},_getFileInputFiles:function(e){return e instanceof t&&1!==e.length?t.when.apply(t,t.map(e,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(e)},_onChange:function(e){var n=this,i={fileInput:t(e.target),form:t(e.target.form)};this._getFileInputFiles(i.fileInput).always(function(r){i.files=r,n.options.replaceFileInput&&n._replaceFileInput(i),!1!==n._trigger("change",t.Event("change",{delegatedEvent:e}),i)&&n._onAdd(e,i)})},_onPaste:function(e){var n=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,i={files:[]};n&&n.length&&(t.each(n,function(t,e){var n=e.getAsFile&&e.getAsFile();n&&i.files.push(n)}),!1!==this._trigger("paste",t.Event("paste",{delegatedEvent:e}),i)&&this._onAdd(e,i))},_onDrop:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var n=this,i=e.dataTransfer,r={};i&&i.files&&i.files.length&&(e.preventDefault(),this._getDroppedFiles(i).always(function(i){r.files=i,!1!==n._trigger("drop",t.Event("drop",{delegatedEvent:e}),r)&&n._onAdd(e,r)}))},_onDragOver:e("dragover"),_onDragEnter:e("dragenter"),_onDragLeave:e("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),t.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(e,n){var i=-1!==t.inArray(e,this._specialOptions);i&&this._destroyEventHandlers(),this._super(e,n),i&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;e.fileInput===undefined?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof t||(e.fileInput=t(e.fileInput)),e.dropZone instanceof t||(e.dropZone=t(e.dropZone)),e.pasteZone instanceof t||(e.pasteZone=t(e.pasteZone))},_getRegExp:function(t){var e=t.split("/"),n=e.pop();return e.shift(),new RegExp(e.join("/"),n)},_isRegExpOption:function(e,n){return"url"!==e&&"string"===t.type(n)&&/^\/.*\/[igm]{0,3}$/.test(n)},_initDataAttributes:function(){var e=this,n=this.options,i=this.element.data();t.each(this.element[0].attributes,function(t,r){var o,a=r.name.toLowerCase();/^data-/.test(a)&&(a=a.slice(5).replace(/-[a-z]/g,function(t){return t.charAt(1).toUpperCase()}),o=i[a],e._isRegExpOption(a,o)&&(o=e._getRegExp(o)),n[a]=o)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(e){var n=this;e&&!this.options.disabled&&(e.fileInput&&!e.files?this._getFileInputFiles(e.fileInput).always(function(t){e.files=t,n._onAdd(null,e)}):(e.files=t.makeArray(e.files),this._onAdd(null,e)))},send:function(e){if(e&&!this.options.disabled){if(e.fileInput&&!e.files){var n,i,r=this,o=t.Deferred(),a=o.promise();return a.abort=function(){return i=!0,n?n.abort():(o.reject(null,"abort","abort"),a)},this._getFileInputFiles(e.fileInput).always(function(t){if(!i){if(!t.length)return void o.reject();e.files=t,n=r._onSend(null,e),n.then(function(t,e,n){o.resolve(t,e,n)},function(t,e,n){o.reject(t,e,n)})}}),this._enhancePromise(a)}if(e.files=t.makeArray(e.files),e.files.length)return this._onSend(null,e)}return this._getXHRPromise(!1,e&&e.context)}})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t,e){function n(t,e,n,i){return!(t.selector!=e.selector||t.context!=e.context||n&&n.$lqguid!=e.fn.$lqguid||i&&i.$lqguid!=e.fn2.$lqguid)}t.extend(t.fn,{livequery:function(e,r){var o,a=this;return t.each(i.queries,function(t,i){if(n(a,i,e,r))return(o=i)&&!1}),o=o||new i(a.selector,a.context,e,r),o.stopped=!1,o.run(),a},expire:function(e,r){var o=this;return t.each(i.queries,function(t,a){n(o,a,e,r)&&!o.stopped&&i.stop(a.id)}),o}});var i=t.livequery=function(e,n,r,o){var a=this;return a.selector=e,a.context=n,a.fn=r,a.fn2=o,a.elements=t([]),a.stopped=!1,a.id=i.queries.push(a)-1,r.$lqguid=r.$lqguid||i.guid++,o&&(o.$lqguid=o.$lqguid||i.guid++),a};i.prototype={stop:function(){var e=this;e.stopped||(e.fn2&&e.elements.each(e.fn2),e.elements=t([]),e.stopped=!0)},run:function(){var e=this;if(!e.stopped){var n=e.elements,i=t(e.selector,e.context),r=i.not(n),o=n.not(i);e.elements=i,r.each(e.fn),e.fn2&&o.each(e.fn2)}}},t.extend(i,{guid:0,queries:[],queue:[],running:!1,timeout:null,registered:[],checkQueue:function(){if(i.running&&i.queue.length)for(var t=i.queue.length;t--;)i.queries[i.queue.shift()].run()},pause:function(){i.running=!1},play:function(){i.running=!0,i.run()},registerPlugin:function(){t.each(arguments,function(e,n){if(t.fn[n]&&!(t.inArray(n,i.registered)>0)){var r=t.fn[n];t.fn[n]=function(){var t=r.apply(this,arguments);return i.run(),t},i.registered.push(n)}})},run:function(n){n!==e?t.inArray(n,i.queue)<0&&i.queue.push(n):t.each(i.queries,function(e){t.inArray(e,i.queue)<0&&i.queue.push(e)}),i.timeout&&clearTimeout(i.timeout),i.timeout=setTimeout(i.checkQueue,20)},stop:function(n){n!==e?i.queries[n].stop():t.each(i.queries,i.prototype.stop)}}),i.registerPlugin("append","prepend","after","before","wrap","attr","removeAttr","addClass","removeClass","toggleClass","empty","remove","html","prop","removeProp"),t(function(){i.play()})}),function(t){"use strict";function e(e,n,i,r){function o(t,e){return t-=r,e-=r,!(t<0||t>=s||e<0||e>=s)&&a.isDark(t,e)}var a=t(i,n);a.addData(e),a.make(),r=r||0;var s=a.getModuleCount(),l=a.getModuleCount()+2*r,u=function(t,e,n,i){var r=this.isDark,o=1/l;this.isDark=function(a,s){var l=s*o,u=a*o,d=l+o,c=u+o;return r(a,s)&&(t>d||l>n||e>c||u>i)}};this.text=e,this.level=n,this.version=i,this.moduleCount=l,this.isDark=o,this.addBlank=u}function n(t,n,i,r,o){i=Math.max(1,i||1),r=Math.min(40,r||40);for(var a=i;a<=r;a+=1)try{return new e(t,n,a,o)}catch(t){}}function i(t,e,n){var i=n.size,r="bold "+n.mSize*i+"px "+n.fontname,o=m("<canvas/>")[0].getContext("2d");o.font=r;var a=o.measureText(n.label).width,s=n.mSize,l=a/i,u=(1-l)*n.mPosX,d=(1-s)*n.mPosY,c=u+l,h=d+s,p=.01;1===n.mode?t.addBlank(0,d-p,i,h+p):t.addBlank(u-p,d-p,c+p,h+p),e.fillStyle=n.fontcolor,e.font=r,e.fillText(n.label,u*i,d*i+.75*n.mSize*i)}function r(t,e,n){var i=n.size,r=n.image.naturalWidth||1,o=n.image.naturalHeight||1,a=n.mSize,s=a*r/o,l=(1-s)*n.mPosX,u=(1-a)*n.mPosY,d=l+s,c=u+a,h=.01;3===n.mode?t.addBlank(0,u-h,i,c+h):t.addBlank(l-h,u-h,d+h,c+h),e.drawImage(n.image,l*i,u*i,s*i,a*i)}function o(t,e,n){m(n.background).is("img")?e.drawImage(n.background,0,0,n.size,n.size):n.background&&(e.fillStyle=n.background,e.fillRect(n.left,n.top,n.size,n.size));var o=n.mode;1===o||2===o?i(t,e,n):3!==o&&4!==o||r(t,e,n)}function a(t,e,n,i,r,o,a,s){t.isDark(a,s)&&e.rect(i,r,o,o)}function s(t,e,n,i,r,o,a,s,l,u){a?t.moveTo(e+o,n):t.moveTo(e,n),s?(t.lineTo(i-o,n),t.arcTo(i,n,i,r,o)):t.lineTo(i,n),l?(t.lineTo(i,r-o),t.arcTo(i,r,e,r,o)):t.lineTo(i,r),u?(t.lineTo(e+o,r),t.arcTo(e,r,e,n,o)):t.lineTo(e,r),a?(t.lineTo(e,n+o),t.arcTo(e,n,i,n,o)):t.lineTo(e,n)}function l(t,e,n,i,r,o,a,s,l,u){a&&(t.moveTo(e+o,n),t.lineTo(e,n),t.lineTo(e,n+o),t.arcTo(e,n,e+o,n,o)),s&&(t.moveTo(i-o,n),t.lineTo(i,n),t.lineTo(i,n+o),t.arcTo(i,n,i-o,n,o)),l&&(t.moveTo(i-o,r),t.lineTo(i,r),t.lineTo(i,r-o),t.arcTo(i,r,i-o,r,o)),u&&(t.moveTo(e+o,r),t.lineTo(e,r),t.lineTo(e,r-o),t.arcTo(e,r,e+o,r,o))}function u(t,e,n,i,r,o,a,u){var d=t.isDark,c=i+o,h=r+o,p=n.radius*o,f=a-1,g=a+1,m=u-1,v=u+1,y=d(a,u),b=d(f,m),w=d(f,u),_=d(f,v),$=d(a,v),C=d(g,v),x=d(g,u),D=d(g,m),k=d(a,m);y?s(e,i,r,c,h,p,!w&&!k,!w&&!$,!x&&!$,!x&&!k):l(e,i,r,c,h,p,w&&k&&b,w&&$&&_,x&&$&&C,x&&k&&D)}function d(t,e,n){var i,r,o=t.moduleCount,s=n.size/o,l=a;for(y&&n.radius>0&&n.radius<=.5&&(l=u),e.beginPath(),i=0;i<o;i+=1)for(r=0;r<o;r+=1){var d=n.left+r*s,c=n.top+i*s,h=s;l(t,e,n,d,c,h,i,r)}if(m(n.fill).is("img")){e.strokeStyle="rgba(0,0,0,0.5)",e.lineWidth=2,e.stroke();var p=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",e.fill(),e.globalCompositeOperation=p,e.clip(),e.drawImage(n.fill,0,0,n.size,n.size),e.restore()}else e.fillStyle=n.fill,e.fill()}function c(t,e){var i=n(e.text,e.ecLevel,e.minVersion,e.maxVersion,e.quiet);if(!i)return null;var r=m(t).data("qrcode",i),a=r[0].getContext("2d");return o(i,a,e),d(i,a,e),r}function h(t){return c(m("<canvas/>").attr("width",t.size).attr("height",t.size),t)}function p(t){return m("<img/>").attr("src",h(t)[0].toDataURL("image/png"))}function f(t){var e=n(t.text,t.ecLevel,t.minVersion,t.maxVersion,t.quiet);if(!e)return null;var i,r,o=t.size,a=t.background,s=Math.floor,l=e.moduleCount,u=s(o/l),d=s(.5*(o-u*l)),c={position:"relative",left:0,top:0,padding:0,margin:0,width:o,height:o},h={position:"absolute",padding:0,margin:0,width:u,height:u,"background-color":t.fill},p=m("<div/>").data("qrcode",e).css(c);for(a&&p.css("background-color",a),i=0;i<l;i+=1)for(r=0;r<l;r+=1)e.isDark(i,r)&&m("<div/>").css(h).css({left:d+r*u,top:d+i*u}).appendTo(p);return p}function g(t){return v&&"canvas"===t.render?h(t):v&&"image"===t.render?p(t):f(t)}var m=jQuery,v=function(){var t=document.createElement("canvas");return Boolean(t.getContext&&t.getContext("2d"))}(),y="[object Opera]"!==Object.prototype.toString.call(window.opera),b={render:"canvas",minVersion:1,maxVersion:40,ecLevel:"L",left:0,top:0,size:200,fill:"#000",background:null,text:"no text",radius:0,quiet:0,mode:0,mSize:.1,mPosX:.5,mPosY:.5,label:"no label",fontname:"sans",fontcolor:"#000",image:null};m.fn.qrcode=function(t){var e=m.extend({},b,t);return this.each(function(){"canvas"===this.nodeName.toLowerCase()?c(this,e):m(this).append(g(e))})}}(function(){var t=function(){function t(e,n){if("undefined"==typeof e.length)throw new Error(e.length+"/"+n);var i=function(){for(var t=0;t<e.length&&0==e[t];)t+=1;for(var i=new Array(e.length-t+n),r=0;r<e.length-t;r+=1)i[r]=e[r+t];return i}(),r={};return r.getAt=function(t){return i[t]},r.getLength=function(){return i.length},r.multiply=function(e){for(var n=new Array(r.getLength()+e.getLength()-1),i=0;i<r.getLength();i+=1)for(var o=0;o<e.getLength();o+=1)n[i+o]^=a.gexp(a.glog(r.getAt(i))+a.glog(e.getAt(o)));return t(n,0)},r.mod=function(e){
if(r.getLength()-e.getLength()<0)return r;for(var n=a.glog(r.getAt(0))-a.glog(e.getAt(0)),i=new Array(r.getLength()),o=0;o<r.getLength();o+=1)i[o]=r.getAt(o);for(var o=0;o<e.getLength();o+=1)i[o]^=a.gexp(a.glog(e.getAt(o))+n);return t(i,0).mod(e)},r}var e=function(e,n){var r=236,a=17,d=e,c=i[n],h=null,p=0,g=null,m=new Array,v={},y=function(t,e){p=4*d+17,h=function(t){for(var e=new Array(t),n=0;n<t;n+=1){e[n]=new Array(t);for(var i=0;i<t;i+=1)e[n][i]=null}return e}(p),b(0,0),b(p-7,0),b(0,p-7),$(),_(),x(t,e),d>=7&&C(t),null==g&&(g=S(d,c,m)),D(g,e)},b=function(t,e){for(var n=-1;n<=7;n+=1)if(!(t+n<=-1||p<=t+n))for(var i=-1;i<=7;i+=1)e+i<=-1||p<=e+i||(h[t+n][e+i]=0<=n&&n<=6&&(0==i||6==i)||0<=i&&i<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=i&&i<=4)},w=function(){for(var t=0,e=0,n=0;n<8;n+=1){y(!0,n);var i=o.getLostPoint(v);(0==n||t>i)&&(t=i,e=n)}return e},_=function(){for(var t=8;t<p-8;t+=1)null==h[t][6]&&(h[t][6]=t%2==0);for(var e=8;e<p-8;e+=1)null==h[6][e]&&(h[6][e]=e%2==0)},$=function(){for(var t=o.getPatternPosition(d),e=0;e<t.length;e+=1)for(var n=0;n<t.length;n+=1){var i=t[e],r=t[n];if(null==h[i][r])for(var a=-2;a<=2;a+=1)for(var s=-2;s<=2;s+=1)h[i+a][r+s]=-2==a||2==a||-2==s||2==s||0==a&&0==s}},C=function(t){for(var e=o.getBCHTypeNumber(d),n=0;n<18;n+=1){var i=!t&&1==(e>>n&1);h[Math.floor(n/3)][n%3+p-8-3]=i}for(var n=0;n<18;n+=1){var i=!t&&1==(e>>n&1);h[n%3+p-8-3][Math.floor(n/3)]=i}},x=function(t,e){for(var n=c<<3|e,i=o.getBCHTypeInfo(n),r=0;r<15;r+=1){var a=!t&&1==(i>>r&1);r<6?h[r][8]=a:r<8?h[r+1][8]=a:h[p-15+r][8]=a}for(var r=0;r<15;r+=1){var a=!t&&1==(i>>r&1);r<8?h[8][p-r-1]=a:r<9?h[8][15-r-1+1]=a:h[8][15-r-1]=a}h[p-8][8]=!t},D=function(t,e){for(var n=-1,i=p-1,r=7,a=0,s=o.getMaskFunction(e),l=p-1;l>0;l-=2)for(6==l&&(l-=1);;){for(var u=0;u<2;u+=1)if(null==h[i][l-u]){var d=!1;a<t.length&&(d=1==(t[a]>>>r&1));var c=s(i,l-u);c&&(d=!d),h[i][l-u]=d,r-=1,-1==r&&(a+=1,r=7)}if((i+=n)<0||p<=i){i-=n,n=-n;break}}},k=function(e,n){for(var i=0,r=0,a=0,s=new Array(n.length),l=new Array(n.length),u=0;u<n.length;u+=1){var d=n[u].dataCount,c=n[u].totalCount-d;r=Math.max(r,d),a=Math.max(a,c),s[u]=new Array(d);for(var h=0;h<s[u].length;h+=1)s[u][h]=255&e.getBuffer()[h+i];i+=d;var p=o.getErrorCorrectPolynomial(c),f=t(s[u],p.getLength()-1),g=f.mod(p);l[u]=new Array(p.getLength()-1);for(var h=0;h<l[u].length;h+=1){var m=h+g.getLength()-l[u].length;l[u][h]=m>=0?g.getAt(m):0}}for(var v=0,h=0;h<n.length;h+=1)v+=n[h].totalCount;for(var y=new Array(v),b=0,h=0;h<r;h+=1)for(var u=0;u<n.length;u+=1)h<s[u].length&&(y[b]=s[u][h],b+=1);for(var h=0;h<a;h+=1)for(var u=0;u<n.length;u+=1)h<l[u].length&&(y[b]=l[u][h],b+=1);return y},S=function(t,e,n){for(var i=s.getRSBlocks(t,e),u=l(),d=0;d<n.length;d+=1){var c=n[d];u.put(c.getMode(),4),u.put(c.getLength(),o.getLengthInBits(c.getMode(),t)),c.write(u)}for(var h=0,d=0;d<i.length;d+=1)h+=i[d].dataCount;if(u.getLengthInBits()>8*h)throw new Error("code length overflow. ("+u.getLengthInBits()+">"+8*h+")");for(u.getLengthInBits()+4<=8*h&&u.put(0,4);u.getLengthInBits()%8!=0;)u.putBit(!1);for(;;){if(u.getLengthInBits()>=8*h)break;if(u.put(r,8),u.getLengthInBits()>=8*h)break;u.put(a,8)}return k(u,i)};return v.addData=function(t){var e=u(t);m.push(e),g=null},v.isDark=function(t,e){if(t<0||p<=t||e<0||p<=e)throw new Error(t+","+e);return h[t][e]},v.getModuleCount=function(){return p},v.make=function(){y(!1,w())},v.createTableTag=function(t,e){t=t||2,e=void 0===e?4*t:e;var n="";n+='<table style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: "+e+"px;",n+='">',n+="<tbody>";for(var i=0;i<v.getModuleCount();i+=1){n+="<tr>";for(var r=0;r<v.getModuleCount();r+=1)n+='<td style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: 0px;",n+=" width: "+t+"px;",n+=" height: "+t+"px;",n+=" background-color: ",n+=v.isDark(i,r)?"#000000":"#ffffff",n+=";",n+='"/>';n+="</tr>"}return n+="</tbody>",n+="</table>"},v.createImgTag=function(t,e){t=t||2,e=void 0===e?4*t:e;var n=v.getModuleCount()*t+2*e,i=e,r=n-e;return f(n,n,function(e,n){if(i<=e&&e<r&&i<=n&&n<r){var o=Math.floor((e-i)/t),a=Math.floor((n-i)/t);return v.isDark(a,o)?0:1}return 1})},v};e.stringToBytes=function(t){for(var e=new Array,n=0;n<t.length;n+=1){var i=t.charCodeAt(n);e.push(255&i)}return e},e.createStringToBytes=function(t,e){var n=function(){for(var n=h(t),i=function(){var t=n.read();if(-1==t)throw new Error;return t},r=0,o={};;){var a=n.read();if(-1==a)break;var s=i(),l=i(),u=i(),d=String.fromCharCode(a<<8|s),c=l<<8|u;o[d]=c,r+=1}if(r!=e)throw new Error(r+" != "+e);return o}(),i="?".charCodeAt(0);return function(t){for(var e=new Array,r=0;r<t.length;r+=1){var o=t.charCodeAt(r);if(o<128)e.push(o);else{var a=n[t.charAt(r)];"number"==typeof a?(255&a)==a?e.push(a):(e.push(a>>>8),e.push(255&a)):e.push(i)}}return e}};var n={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},i={L:1,M:0,Q:3,H:2},r={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},o=function(){var e=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],i=1335,o=7973,s={},l=function(t){for(var e=0;0!=t;)e+=1,t>>>=1;return e};return s.getBCHTypeInfo=function(t){for(var e=t<<10;l(e)-l(i)>=0;)e^=i<<l(e)-l(i);return 21522^(t<<10|e)},s.getBCHTypeNumber=function(t){for(var e=t<<12;l(e)-l(o)>=0;)e^=o<<l(e)-l(o);return t<<12|e},s.getPatternPosition=function(t){return e[t-1]},s.getMaskFunction=function(t){switch(t){case r.PATTERN000:return function(t,e){return(t+e)%2==0};case r.PATTERN001:return function(t){return t%2==0};case r.PATTERN010:return function(t,e){return e%3==0};case r.PATTERN011:return function(t,e){return(t+e)%3==0};case r.PATTERN100:return function(t,e){return(Math.floor(t/2)+Math.floor(e/3))%2==0};case r.PATTERN101:return function(t,e){return t*e%2+t*e%3==0};case r.PATTERN110:return function(t,e){return(t*e%2+t*e%3)%2==0};case r.PATTERN111:return function(t,e){return(t*e%3+(t+e)%2)%2==0};default:throw new Error("bad maskPattern:"+t)}},s.getErrorCorrectPolynomial=function(e){for(var n=t([1],0),i=0;i<e;i+=1)n=n.multiply(t([1,a.gexp(i)],0));return n},s.getLengthInBits=function(t,e){if(1<=e&&e<10)switch(t){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:case n.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},s.getLostPoint=function(t){for(var e=t.getModuleCount(),n=0,i=0;i<e;i+=1)for(var r=0;r<e;r+=1){for(var o=0,a=t.isDark(i,r),s=-1;s<=1;s+=1)if(!(i+s<0||e<=i+s))for(var l=-1;l<=1;l+=1)r+l<0||e<=r+l||0==s&&0==l||a==t.isDark(i+s,r+l)&&(o+=1);o>5&&(n+=3+o-5)}for(var i=0;i<e-1;i+=1)for(var r=0;r<e-1;r+=1){var u=0;t.isDark(i,r)&&(u+=1),t.isDark(i+1,r)&&(u+=1),t.isDark(i,r+1)&&(u+=1),t.isDark(i+1,r+1)&&(u+=1),0!=u&&4!=u||(n+=3)}for(var i=0;i<e;i+=1)for(var r=0;r<e-6;r+=1)t.isDark(i,r)&&!t.isDark(i,r+1)&&t.isDark(i,r+2)&&t.isDark(i,r+3)&&t.isDark(i,r+4)&&!t.isDark(i,r+5)&&t.isDark(i,r+6)&&(n+=40);for(var r=0;r<e;r+=1)for(var i=0;i<e-6;i+=1)t.isDark(i,r)&&!t.isDark(i+1,r)&&t.isDark(i+2,r)&&t.isDark(i+3,r)&&t.isDark(i+4,r)&&!t.isDark(i+5,r)&&t.isDark(i+6,r)&&(n+=40);for(var d=0,r=0;r<e;r+=1)for(var i=0;i<e;i+=1)t.isDark(i,r)&&(d+=1);return n+=Math.abs(100*d/e/e-50)/5*10},s}(),a=function(){for(var t=new Array(256),e=new Array(256),n=0;n<8;n+=1)t[n]=1<<n;for(var n=8;n<256;n+=1)t[n]=t[n-4]^t[n-5]^t[n-6]^t[n-8];for(var n=0;n<255;n+=1)e[t[n]]=n;var i={};return i.glog=function(t){if(t<1)throw new Error("glog("+t+")");return e[t]},i.gexp=function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return t[e]},i}(),s=function(){var t=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e=function(t,e){var n={};return n.totalCount=t,n.dataCount=e,n},n={},r=function(e,n){switch(n){case i.L:return t[4*(e-1)+0];case i.M:return t[4*(e-1)+1];case i.Q:return t[4*(e-1)+2];case i.H:return t[4*(e-1)+3];default:return undefined}};return n.getRSBlocks=function(t,n){var i=r(t,n);if(void 0===i)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+n);for(var o=i.length/3,a=new Array,s=0;s<o;s+=1)for(var l=i[3*s+0],u=i[3*s+1],d=i[3*s+2],c=0;c<l;c+=1)a.push(e(u,d));return a},n}(),l=function(){var t=new Array,e=0,n={};return n.getBuffer=function(){return t},n.getAt=function(e){var n=Math.floor(e/8);return 1==(t[n]>>>7-e%8&1)},n.put=function(t,e){for(var i=0;i<e;i+=1)n.putBit(1==(t>>>e-i-1&1))},n.getLengthInBits=function(){return e},n.putBit=function(n){var i=Math.floor(e/8);t.length<=i&&t.push(0),n&&(t[i]|=128>>>e%8),e+=1},n},u=function(t){var i=n.MODE_8BIT_BYTE,r=e.stringToBytes(t),o={};return o.getMode=function(){return i},o.getLength=function(){return r.length},o.write=function(t){for(var e=0;e<r.length;e+=1)t.put(r[e],8)},o},d=function(){var t=new Array,e={};return e.writeByte=function(e){t.push(255&e)},e.writeShort=function(t){e.writeByte(t),e.writeByte(t>>>8)},e.writeBytes=function(t,n,i){n=n||0,i=i||t.length;for(var r=0;r<i;r+=1)e.writeByte(t[r+n])},e.writeString=function(t){for(var n=0;n<t.length;n+=1)e.writeByte(t.charCodeAt(n))},e.toByteArray=function(){return t},e.toString=function(){var e="";e+="[";for(var n=0;n<t.length;n+=1)n>0&&(e+=","),e+=t[n];return e+="]"},e},c=function(){var t=0,e=0,n=0,i="",r={},o=function(t){i+=String.fromCharCode(a(63&t))},a=function(t){if(t<0);else{if(t<26)return 65+t;if(t<52)return t-26+97;if(t<62)return t-52+48;if(62==t)return 43;if(63==t)return 47}throw new Error("n:"+t)};return r.writeByte=function(i){for(t=t<<8|255&i,e+=8,n+=1;e>=6;)o(t>>>e-6),e-=6},r.flush=function(){if(e>0&&(o(t<<6-e),t=0,e=0),n%3!=0)for(var r=3-n%3,a=0;a<r;a+=1)i+="="},r.toString=function(){return i},r},h=function(t){var e=t,n=0,i=0,r=0,o={};o.read=function(){for(;r<8;){if(n>=e.length){if(0==r)return-1;throw new Error("unexpected end of file./"+r)}var t=e.charAt(n);if(n+=1,"="==t)return r=0,-1;t.match(/^\s$/)||(i=i<<6|a(t.charCodeAt(0)),r+=6)}var o=i>>>r-8&255;return r-=8,o};var a=function(t){if(65<=t&&t<=90)return t-65;if(97<=t&&t<=122)return t-97+26;if(48<=t&&t<=57)return t-48+52;if(43==t)return 62;if(47==t)return 63;throw new Error("c:"+t)};return o},p=function(t,e){var n=t,i=e,r=new Array(t*e),o={};o.setPixel=function(t,e,i){r[e*n+t]=i},o.write=function(t){t.writeString("GIF87a"),t.writeShort(n),t.writeShort(i),t.writeByte(128),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(255),t.writeByte(255),t.writeByte(255),t.writeString(","),t.writeShort(0),t.writeShort(0),t.writeShort(n),t.writeShort(i),t.writeByte(0);var e=2,r=s(e);t.writeByte(e);for(var o=0;r.length-o>255;)t.writeByte(255),t.writeBytes(r,o,255),o+=255;t.writeByte(r.length-o),t.writeBytes(r,o,r.length-o),t.writeByte(0),t.writeString(";")};var a=function(t){var e=t,n=0,i=0,r={};return r.write=function(t,r){if(t>>>r!=0)throw new Error("length over");for(;n+r>=8;)e.writeByte(255&(t<<n|i)),r-=8-n,t>>>=8-n,i=0,n=0;i|=t<<n,n+=r},r.flush=function(){n>0&&e.writeByte(i)},r},s=function(t){for(var e=1<<t,n=1+(1<<t),i=t+1,o=l(),s=0;s<e;s+=1)o.add(String.fromCharCode(s));o.add(String.fromCharCode(e)),o.add(String.fromCharCode(n));var u=d(),c=a(u);c.write(e,i);var h=0,p=String.fromCharCode(r[h]);for(h+=1;h<r.length;){var f=String.fromCharCode(r[h]);h+=1,o.contains(p+f)?p+=f:(c.write(o.indexOf(p),i),o.size()<4095&&(o.size()==1<<i&&(i+=1),o.add(p+f)),p=f)}return c.write(o.indexOf(p),i),c.write(n,i),c.flush(),u.toByteArray()},l=function(){var t={},e=0,n={};return n.add=function(i){if(n.contains(i))throw new Error("dup key:"+i);t[i]=e,e+=1},n.size=function(){return e},n.indexOf=function(e){return t[e]},n.contains=function(e){return"undefined"!=typeof t[e]},n};return o},f=function(t,e,n,i){for(var r=p(t,e),o=0;o<e;o+=1)for(var a=0;a<t;a+=1)r.setPixel(a,o,n(a,o));var s=d();r.write(s);for(var l=c(),u=s.toByteArray(),h=0;h<u.length;h+=1)l.writeByte(u[h]);l.flush();var f="";return f+="<img",f+=' src="',f+="data:image/gif;base64,",f+=l,f+='"',f+=' width="',f+=t,f+='"',f+=' height="',f+=e,f+='"',i&&(f+=' alt="',f+=i,f+='"'),f+="/>"};return e}();return function(t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports&&(module.exports=t())}(function(){return t}),function(t){t.stringToBytes=function(t){function e(t){for(var e=[],n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e.push(i):i<2048?e.push(192|i>>6,128|63&i):i<55296||i>=57344?e.push(224|i>>12,128|i>>6&63,128|63&i):(n++,i=65536+((1023&i)<<10|1023&t.charCodeAt(n)),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i))}return e}return e(t)}}(t),t}()),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){function e(t){return s.raw?t:encodeURIComponent(t)}function n(t){return s.raw?t:decodeURIComponent(t)}function i(t){return e(s.json?JSON.stringify(t):String(t))}function r(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(a," ")),s.json?JSON.parse(t):t}catch(t){}}function o(e,n){var i=s.raw?e:r(e);return t.isFunction(n)?n(i):i}var a=/\+/g,s=t.cookie=function(r,a,l){if(a!==undefined&&!t.isFunction(a)){if(l=t.extend({},s.defaults,l),"number"==typeof l.expires){var u=l.expires,d=l.expires=new Date;d.setTime(+d+864e5*u)}return document.cookie=[e(r),"=",i(a),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var c=r?undefined:{},h=document.cookie?document.cookie.split("; "):[],p=0,f=h.length;p<f;p++){var g=h[p].split("="),m=n(g.shift()),v=g.join("=");if(r&&r===m){c=o(v,a);break}r||(v=o(v))===undefined||(c[m]=v)}return c};s.defaults={},t.removeCookie=function(e,n){return t.cookie(e)!==undefined&&(t.cookie(e,"",t.extend({},n,{expires:-1})),!t.cookie(e))}}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof module&&module.exports?require("jquery"):jQuery)}(function(t){function e(e){var n={},i=/^jQuery\d+$/;return t.each(e.attributes,function(t,e){e.specified&&!i.test(e.name)&&(n[e.name]=e.value)}),n}function n(e,n){var i=this,o=t(i);if(i.value==o.attr("placeholder")&&o.hasClass(h.customClass))if(o.data("placeholder-password")){if(o=o.hide().nextAll('input[type="password"]:first').show().attr("id",o.removeAttr("id").data("placeholder-id")),!0===e)return o[0].value=n;o.focus()}else i.value="",o.removeClass(h.customClass),i==r()&&i.select()}function i(){var i,r=this,o=t(r),a=this.id;if(""===r.value){if("password"===r.type){if(!o.data("placeholder-textinput")){try{i=o.clone().prop({type:"text"})}catch(n){i=t("<input>").attr(t.extend(e(this),{type:"text"}))}i.removeAttr("name").data({"placeholder-password":o,"placeholder-id":a}).bind("focus.placeholder",n),o.data({"placeholder-textinput":i,"placeholder-id":a}).before(i)}o=o.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",a).show()}o.addClass(h.customClass),o[0].value=o.attr("placeholder")}else o.removeClass(h.customClass)}function r(){try{return document.activeElement}catch(t){}}var o,a,s="[object OperaMini]"==Object.prototype.toString.call(window.operamini),l="placeholder"in document.createElement("input")&&!s,u="placeholder"in document.createElement("textarea")&&!s,d=t.valHooks,c=t.propHooks;if(l&&u)a=t.fn.placeholder=function(){return this},a.input=a.textarea=!0;else{var h={};a=t.fn.placeholder=function(e){var r={customClass:"placeholder"};h=t.extend({},r,e);var o=this;return o.filter((l?"textarea":":input")+"[placeholder]").not("."+h.customClass).bind({"focus.placeholder":n,"blur.placeholder":i}).data("placeholder-enabled",!0).trigger("blur.placeholder"),o},a.input=l,a.textarea=u,o={get:function(e){var n=t(e),i=n.data("placeholder-password");return i?i[0].value:n.data("placeholder-enabled")&&n.hasClass(h.customClass)?"":e.value},set:function(e,o){var a=t(e),s=a.data("placeholder-password");return s?s[0].value=o:a.data("placeholder-enabled")?(""===o?(e.value=o,e!=r()&&i.call(e)):a.hasClass(h.customClass)?n.call(e,!0,o)||(e.value=o):e.value=o,a):e.value=o}},l||(d.input=o,c.value=o),u||(d.textarea=o,c.value=o),t(function(){t(document).delegate("form","submit.placeholder",function(){var e=t("."+h.customClass,this).each(n);setTimeout(function(){e.each(i)},10)})}),t(window).bind("beforeunload.placeholder",function(){t("."+h.customClass).each(function(){this.value=""})})}}),function(t,e,n){function i(e,n){this.bodyOverflowX,this.callbacks={hide:[],show:[]},this.checkInterval=null,this.Content,this.$el=t(e),this.$elProxy,this.elProxyPosition,this.enabled=!0,this.options=t.extend({},s,n),this.mouseIsOverProxy=!1,this.namespace="tooltipster-"+Math.round(1e5*Math.random()),this.Status="hidden",this.timerHide=null,this.timerShow=null,this.$tooltip,this.options.iconTheme=this.options.iconTheme.replace(".",""),this.options.theme=this.options.theme.replace(".",""),this._init()}function r(e,n){var i=!0;return t.each(e,function(t){if("undefined"==typeof n[t]||e[t]!==n[t])return i=!1,!1}),i}function o(){return!u&&l}function a(){var t=n.body||n.documentElement,e=t.style,i="transition";if("string"==typeof e[i])return!0;v=["Moz","Webkit","Khtml","O","ms"],i=i.charAt(0).toUpperCase()+i.substr(1);for(var r=0;r<v.length;r++)if("string"==typeof e[v[r]+i])return!0;return!1}var s={animation:"fade",arrow:!0,arrowColor:"",autoClose:!0,content:null,contentAsHTML:!1,contentCloning:!0,debug:!0,delay:200,minWidth:0,maxWidth:null,functionInit:function(){},functionBefore:function(t,e){e()},functionReady:function(){},functionAfter:function(){},hideOnClick:!1,icon:"(?)",iconCloning:!0,iconDesktop:!1,iconTouch:!1,iconTheme:"tooltipster-icon",interactive:!1,interactiveTolerance:350,multiple:!1,offsetX:0,offsetY:0,onlyOne:!1,position:"top",positionTracker:!1,positionTrackerCallback:function(){"hover"==this.option("trigger")&&this.option("autoClose")&&this.hide()},restoration:"current",speed:350,timer:0,theme:"tooltipster-default",touchDevices:!0,trigger:"hover",updateAnimation:!0};i.prototype={_init:function(){var e=this;if(n.querySelector){var i=null;e.$el.data("tooltipster-initialTitle")===undefined&&(i=e.$el.attr("title"),i===undefined&&(i=null),e.$el.data("tooltipster-initialTitle",i)),null!==e.options.content?e._content_set(e.options.content):e._content_set(i);var r=e.options.functionInit.call(e.$el,e.$el,e.Content);void 0!==r&&e._content_set(r),e.$el.removeAttr("title").addClass("tooltipstered"),!l&&e.options.iconDesktop||l&&e.options.iconTouch?("string"==typeof e.options.icon?(e.$elProxy=t('<span class="'+e.options.iconTheme+'"></span>'),e.$elProxy.text(e.options.icon)):e.options.iconCloning?e.$elProxy=e.options.icon.clone(!0):e.$elProxy=e.options.icon,e.$elProxy.insertAfter(e.$el)):e.$elProxy=e.$el,"hover"==e.options.trigger?(e.$elProxy.on("mouseenter."+e.namespace,function(){o()&&!e.options.touchDevices||(e.mouseIsOverProxy=!0,e._show())}).on("mouseleave."+e.namespace,function(){o()&&!e.options.touchDevices||(e.mouseIsOverProxy=!1)}),l&&e.options.touchDevices&&e.$elProxy.on("touchstart."+e.namespace,function(){e._showNow()})):"click"==e.options.trigger&&e.$elProxy.on("click."+e.namespace,function(){o()&&!e.options.touchDevices||e._show()})}},_show:function(){var t=this;"shown"!=t.Status&&"appearing"!=t.Status&&(t.options.delay?t.timerShow=setTimeout(function(){("click"==t.options.trigger||"hover"==t.options.trigger&&t.mouseIsOverProxy)&&t._showNow()},t.options.delay):t._showNow())},_showNow:function(n){var i=this;i.options.functionBefore.call(i.$el,i.$el,function(){if(i.enabled&&null!==i.Content){n&&i.callbacks.show.push(n),i.callbacks.hide=[],clearTimeout(i.timerShow),i.timerShow=null,clearTimeout(i.timerHide),i.timerHide=null,i.options.onlyOne&&t(".tooltipstered").not(i.$el).each(function(e,n){var i=t(n),r=i.data("tooltipster-ns");t.each(r,function(t,e){var n=i.data(e),r=n.status(),o=n.option("autoClose");"hidden"!==r&&"disappearing"!==r&&o&&n.hide()})});var r=function(){i.Status="shown",t.each(i.callbacks.show,function(t,e){e.call(i.$el)}),i.callbacks.show=[]};if("hidden"!==i.Status){var o=0;"disappearing"===i.Status?(i.Status="appearing",a()?(i.$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-"+i.options.animation+"-show"),i.options.speed>0&&i.$tooltip.delay(i.options.speed),i.$tooltip.queue(r)):i.$tooltip.stop().fadeIn(r)):"shown"===i.Status&&r()}else{i.Status="appearing";var o=i.options.speed;i.bodyOverflowX=t("body").css("overflow-x"),t("body").css("overflow-x","hidden");var s="tooltipster-"+i.options.animation,u="-webkit-transition-duration: "+i.options.speed+"ms; -webkit-animation-duration: "+i.options.speed+"ms; -moz-transition-duration: "+i.options.speed+"ms; -moz-animation-duration: "+i.options.speed+"ms; -o-transition-duration: "+i.options.speed+"ms; -o-animation-duration: "+i.options.speed+"ms; -ms-transition-duration: "+i.options.speed+"ms; -ms-animation-duration: "+i.options.speed+"ms; transition-duration: "+i.options.speed+"ms; animation-duration: "+i.options.speed+"ms;",d=i.options.minWidth?"min-width:"+Math.round(i.options.minWidth)+"px;":"",c=i.options.maxWidth?"max-width:"+Math.round(i.options.maxWidth)+"px;":"",h=i.options.interactive?"pointer-events: auto;":"";if(i.$tooltip=t('<div class="tooltipster-base '+i.options.theme+'" style="'+d+" "+c+" "+h+" "+u+'"><div class="tooltipster-content"></div></div>'),a()&&i.$tooltip.addClass(s),i._content_insert(),i.$tooltip.appendTo("body"),i.reposition(),i.options.functionReady.call(i.$el,i.$el,i.$tooltip),a()?(i.$tooltip.addClass(s+"-show"),i.options.speed>0&&i.$tooltip.delay(i.options.speed),i.$tooltip.queue(r)):i.$tooltip.css("display","none").fadeIn(i.options.speed,r),i._interval_set(),t(e).on("scroll."+i.namespace+" resize."+i.namespace,function(){i.reposition()}),i.options.autoClose)if(t("body").off("."+i.namespace),"hover"==i.options.trigger){if(l&&setTimeout(function(){t("body").on("touchstart."+i.namespace,function(){i.hide()})},0),i.options.interactive){l&&i.$tooltip.on("touchstart."+i.namespace,function(t){t.stopPropagation()});var p=null;i.$elProxy.add(i.$tooltip).on("mouseleave."+i.namespace+"-autoClose",function(){clearTimeout(p),p=setTimeout(function(){i.hide()},i.options.interactiveTolerance)}).on("mouseenter."+i.namespace+"-autoClose",function(){clearTimeout(p)})}else i.$elProxy.on("mouseleave."+i.namespace+"-autoClose",function(){i.hide()});i.options.hideOnClick&&i.$elProxy.on("click."+i.namespace+"-autoClose",function(){i.hide()})}else"click"==i.options.trigger&&(setTimeout(function(){t("body").on("click."+i.namespace+" touchstart."+i.namespace,function(){i.hide()})},0),i.options.interactive&&i.$tooltip.on("click."+i.namespace+" touchstart."+i.namespace,function(t){t.stopPropagation()}))}i.options.timer>0&&(i.timerHide=setTimeout(function(){i.timerHide=null,i.hide()},i.options.timer+o))}})},_interval_set:function(){var e=this;e.checkInterval=setInterval(function(){if(0===t("body").find(e.$el).length||0===t("body").find(e.$elProxy).length||"hidden"==e.Status||0===t("body").find(e.$tooltip).length)"shown"!=e.Status&&"appearing"!=e.Status||e.hide(),e._interval_cancel();else if(e.options.positionTracker){var n=e._repositionInfo(e.$elProxy),i=!1;r(n.dimension,e.elProxyPosition.dimension)&&("fixed"===e.$elProxy.css("position")?r(n.position,e.elProxyPosition.position)&&(i=!0):r(n.offset,e.elProxyPosition.offset)&&(i=!0)),i||(e.reposition(),e.options.positionTrackerCallback.call(e,e.$el))}},200)},_interval_cancel:function(){clearInterval(this.checkInterval),this.checkInterval=null},_content_set:function(t){"object"==typeof t&&null!==t&&this.options.contentCloning&&(t=t.clone(!0)),this.Content=t},_content_insert:function(){var t=this,e=this.$tooltip.find(".tooltipster-content");"string"!=typeof t.Content||t.options.contentAsHTML?e.empty().append(t.Content):e.text(t.Content)},_update:function(t){var e=this;e._content_set(t),null!==e.Content?"hidden"!==e.Status&&(e._content_insert(),e.reposition(),e.options.updateAnimation&&(a()?(e.$tooltip.css({width:"","-webkit-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!=e.Status&&(e.$tooltip.removeClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!==e.Status&&e.$tooltip.css({"-webkit-transition":e.options.speed+"ms","-moz-transition":e.options.speed+"ms","-o-transition":e.options.speed+"ms","-ms-transition":e.options.speed+"ms",transition:e.options.speed+"ms"})},e.options.speed))},e.options.speed)):e.$tooltip.fadeTo(e.options.speed,.5,function(){"hidden"!=e.Status&&e.$tooltip.fadeTo(e.options.speed,1)}))):e.hide()},_repositionInfo:function(t){return{dimension:{height:t.outerHeight(!1),width:t.outerWidth(!1)},offset:t.offset(),position:{left:parseInt(t.css("left")),top:parseInt(t.css("top"))}}},hide:function(n){var i=this;n&&i.callbacks.hide.push(n),i.callbacks.show=[],clearTimeout(i.timerShow),i.timerShow=null,clearTimeout(i.timerHide),i.timerHide=null;var r=function(){t.each(i.callbacks.hide,function(t,e){e.call(i.$el)}),i.callbacks.hide=[]};if("shown"==i.Status||"appearing"==i.Status){i.Status="disappearing";var o=function(){i.Status="hidden","object"==typeof i.Content&&null!==i.Content&&i.Content.detach(),i.$tooltip.remove(),i.$tooltip=null,t(e).off("."+i.namespace),t("body").off("."+i.namespace).css("overflow-x",i.bodyOverflowX),t("body").off("."+i.namespace),i.$elProxy.off("."+i.namespace+"-autoClose"),i.options.functionAfter.call(i.$el,i.$el),r()};a()?(i.$tooltip.clearQueue().removeClass("tooltipster-"+i.options.animation+"-show").addClass("tooltipster-dying"),i.options.speed>0&&i.$tooltip.delay(i.options.speed),i.$tooltip.queue(o)):i.$tooltip.stop().fadeOut(i.options.speed,o)}else"hidden"==i.Status&&r();return i},show:function(t){return this._showNow(t),this},update:function(t){return this.content(t)},content:function(t){return void 0===t?this.Content:(this._update(t),this)},reposition:function(){function n(){var n=t(e).scrollLeft();T-n<0&&(o=T-n,T=n),T+l-n>a&&(o=T-(a+n-l),T=a+n-l)}function i(n,i){s.offset.top-t(e).scrollTop()-u-P-12<0&&i.indexOf("top")>-1&&(O=n),s.offset.top+s.dimension.height+u+12+P>t(e).scrollTop()+t(e).height()&&i.indexOf("bottom")>-1&&(O=n,E=s.offset.top-u-P-12)}var r=this;if(0!==t("body").find(r.$tooltip).length){r.$tooltip.css("width",""),r.elProxyPosition=r._repositionInfo(r.$elProxy);var o=null,a=t(e).width(),s=r.elProxyPosition,l=r.$tooltip.outerWidth(!1),u=(r.$tooltip.innerWidth(),r.$tooltip.outerHeight(!1));if(r.$elProxy.is("area")){var d=r.$elProxy.attr("shape"),c=r.$elProxy.parent().attr("name"),h=t('img[usemap="#'+c+'"]'),p=h.offset().left,f=h.offset().top,g=r.$elProxy.attr("coords")!==undefined?r.$elProxy.attr("coords").split(","):undefined;if("circle"==d){var m=parseInt(g[0]),v=parseInt(g[1]),y=parseInt(g[2]);s.dimension.height=2*y,s.dimension.width=2*y,s.offset.top=f+v-y,s.offset.left=p+m-y}else if("rect"==d){var m=parseInt(g[0]),v=parseInt(g[1]),b=parseInt(g[2]),w=parseInt(g[3]);s.dimension.height=w-v,s.dimension.width=b-m,s.offset.top=f+v,s.offset.left=p+m}else if("poly"==d){for(var _=0,$=0,C=0,x=0,D="even",k=0;k<g.length;k++){var S=parseInt(g[k]);"even"==D?(S>C&&(C=S,0===k&&(_=C)),S<_&&(_=S),D="odd"):(S>x&&(x=S,1==k&&($=x)),S<$&&($=S),D="even")}s.dimension.height=x-$,s.dimension.width=C-_,s.offset.top=f+$,s.offset.left=p+_}else s.dimension.height=h.outerHeight(!1),s.dimension.width=h.outerWidth(!1),s.offset.top=f,s.offset.left=p}var T=0,A=0,E=0,P=parseInt(r.options.offsetY),M=parseInt(r.options.offsetX),O=r.options.position;if("top"==O){var I=s.offset.left+l-(s.offset.left+s.dimension.width);T=s.offset.left+M-I/2,E=s.offset.top-u-P-12,n(),i("bottom","top")}if("top-left"==O&&(T=s.offset.left+M,E=s.offset.top-u-P-12,n(),i("bottom-left","top-left")),"top-right"==O&&(T=s.offset.left+s.dimension.width+M-l,E=s.offset.top-u-P-12,n(),i("bottom-right","top-right")),"bottom"==O){var I=s.offset.left+l-(s.offset.left+s.dimension.width);T=s.offset.left-I/2+M,E=s.offset.top+s.dimension.height+P+12,n(),i("top","bottom")}if("bottom-left"==O&&(T=s.offset.left+M,E=s.offset.top+s.dimension.height+P+12,n(),i("top-left","bottom-left")),"bottom-right"==O&&(T=s.offset.left+s.dimension.width+M-l,E=s.offset.top+s.dimension.height+P+12,n(),i("top-right","bottom-right")),"left"==O){T=s.offset.left-M-l-12,A=s.offset.left+M+s.dimension.width+12;var F=s.offset.top+u-(s.offset.top+s.dimension.height);if(E=s.offset.top-F/2-P,T<0&&A+l>a){var G=2*parseFloat(r.$tooltip.css("border-width")),L=l+T-G;r.$tooltip.css("width",L+"px"),u=r.$tooltip.outerHeight(!1),T=s.offset.left-M-L-12-G,F=s.offset.top+u-(s.offset.top+s.dimension.height),E=s.offset.top-F/2-P}else T<0&&(T=s.offset.left+M+s.dimension.width+12,o="left")}if("right"==O){T=s.offset.left+M+s.dimension.width+12,
A=s.offset.left-M-l-12;var F=s.offset.top+u-(s.offset.top+s.dimension.height);if(E=s.offset.top-F/2-P,T+l>a&&A<0){var G=2*parseFloat(r.$tooltip.css("border-width")),L=a-T-G;r.$tooltip.css("width",L+"px"),u=r.$tooltip.outerHeight(!1),F=s.offset.top+u-(s.offset.top+s.dimension.height),E=s.offset.top-F/2-P}else T+l>a&&(T=s.offset.left-M-l-12,o="right")}if(r.options.arrow){var R="tooltipster-arrow-"+O;if(r.options.arrowColor.length<1)var N=r.$tooltip.css("background-color");else var N=r.options.arrowColor;if(o?"left"==o?(R="tooltipster-arrow-right",o=""):"right"==o?(R="tooltipster-arrow-left",o=""):o="left:"+Math.round(o)+"px;":o="","top"==O||"top-left"==O||"top-right"==O)var j=parseFloat(r.$tooltip.css("border-bottom-width")),q=r.$tooltip.css("border-bottom-color");else if("bottom"==O||"bottom-left"==O||"bottom-right"==O)var j=parseFloat(r.$tooltip.css("border-top-width")),q=r.$tooltip.css("border-top-color");else if("left"==O)var j=parseFloat(r.$tooltip.css("border-right-width")),q=r.$tooltip.css("border-right-color");else if("right"==O)var j=parseFloat(r.$tooltip.css("border-left-width")),q=r.$tooltip.css("border-left-color");else var j=parseFloat(r.$tooltip.css("border-bottom-width")),q=r.$tooltip.css("border-bottom-color");j>1&&j++;var H="";if(0!==j){var z="",B="border-color: "+q+";";-1!==R.indexOf("bottom")?z="margin-top: -"+Math.round(j)+"px;":-1!==R.indexOf("top")?z="margin-bottom: -"+Math.round(j)+"px;":-1!==R.indexOf("left")?z="margin-right: -"+Math.round(j)+"px;":-1!==R.indexOf("right")&&(z="margin-left: -"+Math.round(j)+"px;"),H='<span class="tooltipster-arrow-border" style="'+z+" "+B+';"></span>'}r.$tooltip.find(".tooltipster-arrow").remove();var U='<div class="'+R+' tooltipster-arrow" style="'+o+'">'+H+'<span style="border-color:'+N+';"></span></div>';r.$tooltip.append(U)}r.$tooltip.css({top:Math.round(E)+"px",left:Math.round(T)+"px"})}return r},enable:function(){return this.enabled=!0,this},disable:function(){return this.hide(),this.enabled=!1,this},destroy:function(){var e=this;e.hide(),e.$el[0]!==e.$elProxy[0]&&e.$elProxy.remove(),e.$el.removeData(e.namespace).off("."+e.namespace);var n=e.$el.data("tooltipster-ns");if(1===n.length){var i=null;"previous"===e.options.restoration?i=e.$el.data("tooltipster-initialTitle"):"current"===e.options.restoration&&(i="string"==typeof e.Content?e.Content:t("<div></div>").append(e.Content).html()),i&&e.$el.attr("title",i),e.$el.removeClass("tooltipstered").removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else n=t.grep(n,function(t){return t!==e.namespace}),e.$el.data("tooltipster-ns",n);return e},elementIcon:function(){return this.$el[0]!==this.$elProxy[0]?this.$elProxy[0]:undefined},elementTooltip:function(){return this.$tooltip?this.$tooltip[0]:undefined},option:function(t,e){return void 0===e?this.options[t]:(this.options[t]=e,this)},status:function(){return this.Status}},t.fn.tooltipster=function(){var e=arguments;if(0===this.length){if("string"==typeof e[0]){var n=!0;switch(e[0]){case"setDefaults":t.extend(s,e[1]);break;default:n=!1}return!!n||this}return this}if("string"==typeof e[0]){var r="#*$~&";return this.each(function(){var n=t(this).data("tooltipster-ns"),i=n?t(this).data(n[0]):null;if(!i)throw new Error("You called Tooltipster's \""+e[0]+'" method on an uninitialized element');if("function"!=typeof i[e[0]])throw new Error('Unknown method .tooltipster("'+e[0]+'")');var o=i[e[0]](e[1],e[2]);if(o!==i)return r=o,!1}),"#*$~&"!==r?r:this}var o=[],a=e[0]&&"undefined"!=typeof e[0].multiple,l=a&&e[0].multiple||!a&&s.multiple,u=e[0]&&"undefined"!=typeof e[0].debug,d=u&&e[0].debug||!u&&s.debug;return this.each(function(){var n=!1,r=t(this).data("tooltipster-ns"),a=null;r?l?n=!0:d&&console.log('Tooltipster: one or more tooltips are already attached to this element: ignoring. Use the "multiple" option to attach more tooltips.'):n=!0,n&&(a=new i(this,e[0]),r||(r=[]),r.push(a.namespace),t(this).data("tooltipster-ns",r),t(this).data(a.namespace,a)),o.push(a)}),l?o:this};var l=!!("ontouchstart"in e),u=!1;t("body").one("mousemove",function(){u=!0})}(jQuery,window,document),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){t.extend(t.fn,{validate:function(e){if(!this.length)return void(e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var n=t.data(this[0],"validator");return n||(this.attr("novalidate","novalidate"),n=new t.validator(e,this[0]),t.data(this[0],"validator",n),n.settings.onsubmit&&(this.on("click.validate",":submit",function(e){n.settings.submitHandler&&(n.submitButton=e.target),t(this).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==t(this).attr("formnovalidate")&&(n.cancelSubmit=!0)}),this.on("submit.validate",function(e){function i(){var i,r;return!n.settings.submitHandler||(n.submitButton&&(i=t("<input type='hidden'/>").attr("name",n.submitButton.name).val(t(n.submitButton).val()).appendTo(n.currentForm)),r=n.settings.submitHandler.call(n,n.currentForm,e),n.submitButton&&i.remove(),void 0!==r&&r)}return n.settings.debug&&e.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,i()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):i():(n.focusInvalid(),!1)})),n)},valid:function(){var e,n,i;return t(this[0]).is("form")?e=this.validate().form():(i=[],e=!0,n=t(this[0].form).validate(),this.each(function(){(e=n.element(this)&&e)||(i=i.concat(n.errorList))}),n.errorList=i),e},rules:function(e,n){if(this.length){var i,r,o,a,s,l,u=this[0];if(e)switch(i=t.data(u.form,"validator").settings,r=i.rules,o=t.validator.staticRules(u),e){case"add":t.extend(o,t.validator.normalizeRule(n)),delete o.messages,r[u.name]=o,n.messages&&(i.messages[u.name]=t.extend(i.messages[u.name],n.messages));break;case"remove":return n?(l={},t.each(n.split(/\s/),function(e,n){l[n]=o[n],delete o[n],"required"===n&&t(u).removeAttr("aria-required")}),l):(delete r[u.name],o)}return a=t.validator.normalizeRules(t.extend({},t.validator.classRules(u),t.validator.attributeRules(u),t.validator.dataRules(u),t.validator.staticRules(u)),u),a.required&&(s=a.required,delete a.required,a=t.extend({required:s},a),t(u).attr("aria-required","true")),a.remote&&(s=a.remote,delete a.remote,a=t.extend(a,{remote:s})),a}}}),t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){var n=t(e).val();return null!==n&&!!t.trim(""+n)},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,n){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=n,this.init()},t.validator.format=function(e,n){return 1===arguments.length?function(){var n=t.makeArray(arguments);return n.unshift(e),t.validator.format.apply(this,n)}:void 0===n?e:(arguments.length>2&&n.constructor!==Array&&(n=t.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),t.each(n,function(t,n){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return n})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(e,n){var i=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===n.which&&""===this.elementValue(e)||-1!==t.inArray(n.keyCode,i)||(e.name in this.submitted||e.name in this.invalid)&&this.element(e)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,n,i){"radio"===e.type?this.findByName(e.name).addClass(n).removeClass(i):t(e).addClass(n).removeClass(i)},unhighlight:function(e,n,i){"radio"===e.type?this.findByName(e.name).removeClass(n).addClass(i):t(e).removeClass(n).addClass(i)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}."),step:t.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var n=t.data(this.form,"validator"),i="on"+e.type.replace(/^validate/,""),r=n.settings;r[i]&&!t(this).is(r.ignore)&&r[i].call(n,this,e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n,i=this.groups={};t.each(this.settings.groups,function(e,n){"string"==typeof n&&(n=n.split(/\s/)),t.each(n,function(t,n){i[n]=e})}),n=this.settings.rules,t.each(n,function(e,i){n[e]=t.validator.normalizeRule(i)}),t(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable]",e).on("click.validate","select, option, [type='radio'], [type='checkbox']",e),this.settings.invalidHandler&&t(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),t(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){var n,i,r=this.clean(e),o=this.validationTargetFor(r),a=this,s=!0;return void 0===o?delete this.invalid[r.name]:(this.prepareElement(o),this.currentElements=t(o),i=this.groups[o.name],i&&t.each(this.groups,function(t,e){e===i&&t!==o.name&&(r=a.validationTargetFor(a.clean(a.findByName(t))))&&r.name in a.invalid&&(a.currentElements.push(r),s=s&&a.check(r))}),n=!1!==this.check(o),s=s&&n,this.invalid[o.name]=!n,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),t(e).attr("aria-invalid",!n)),s},showErrors:function(e){if(e){var n=this;t.extend(this.errorMap,e),this.errorList=t.map(this.errorMap,function(t,e){return{message:t,element:n.findByName(e)[0]}}),this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var e=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(e)},resetElements:function(t){var e;if(this.settings.unhighlight)for(e=0;t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,""),this.findByName(t[e].name).removeClass(this.settings.validClass);else t.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,n=0;for(e in t)t[e]&&n++;return n},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,n={};return t(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var i=this.name||t(this).attr("name");return!i&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=t(this).closest("form")[0]),!(i in n||!e.objectLength(t(this).rules()))&&(n[i]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return t(this.settings.errorElement+"."+e,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([])},reset:function(){this.resetInternals(),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var n,i,r=t(e),o=e.type;return"radio"===o||"checkbox"===o?this.findByName(e.name).filter(":checked").val():"number"===o&&"undefined"!=typeof e.validity?e.validity.badInput?"NaN":r.val():(n=e.hasAttribute("contenteditable")?r.text():r.val(),"file"===o?"C:\\fakepath\\"===n.substr(0,12)?n.substr(12):(i=n.lastIndexOf("/"),i>=0?n.substr(i+1):(i=n.lastIndexOf("\\"),i>=0?n.substr(i+1):n)):"string"==typeof n?n.replace(/\r/g,""):n)},check:function(e){e=this.validationTargetFor(this.clean(e));var n,i,r,o=t(e).rules(),a=t.map(o,function(t,e){return e}).length,s=!1,l=this.elementValue(e);if("function"==typeof o.normalizer){if("string"!=typeof(l=o.normalizer.call(e,l)))throw new TypeError("The normalizer should return a string value.");delete o.normalizer}for(i in o){r={method:i,parameters:o[i]};try{if("dependency-mismatch"===(n=t.validator.methods[i].call(this,l,e,r.parameters))&&1===a){s=!0;continue}if(s=!1,"pending"===n)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!n)return this.formatAndAdd(e,r),!1}catch(t){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+r.method+"' method.",t),t instanceof TypeError&&(t.message+=".  Exception occurred when checking element "+e.id+", check the '"+r.method+"' method."),t}}if(!s)return this.objectLength(o)&&this.successList.push(e),!0},customDataMessage:function(e,n){return t(e).data("msg"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase())||t(e).data("msg")},customMessage:function(t,e){var n=this.settings.messages[t];return n&&(n.constructor===String?n:n[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(e,n){var i=this.findDefined(this.customMessage(e.name,n.method),this.customDataMessage(e,n.method),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[n.method],"<strong>Warning: No message defined for "+e.name+"</strong>"),r=/\$?\{(\d+)\}/g;return"function"==typeof i?i=i.call(this,n.parameters,e):r.test(i)&&(i=t.validator.format(i.replace(r,"{$1}"),n.parameters)),i},formatAndAdd:function(t,e){var n=this.defaultMessage(t,e);this.errorList.push({message:n,element:t,method:e.method}),this.errorMap[t.name]=n,this.submitted[t.name]=n},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,n;for(t=0;this.errorList[t];t++)n=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,n){var i,r,o,a,s=this.errorsFor(e),l=this.idOrName(e),u=t(e).attr("aria-describedby");s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(n)):(s=t("<"+this.settings.errorElement+">").attr("id",l+"-error").addClass(this.settings.errorClass).html(n||""),i=s,this.settings.wrapper&&(i=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(i):this.settings.errorPlacement?this.settings.errorPlacement(i,t(e)):i.insertAfter(e),s.is("label")?s.attr("for",l):0===s.parents("label[for='"+this.escapeCssMeta(l)+"']").length&&(o=s.attr("id"),u?u.match(new RegExp("\\b"+this.escapeCssMeta(o)+"\\b"))||(u+=" "+o):u=o,t(e).attr("aria-describedby",u),(r=this.groups[e.name])&&(a=this,t.each(a.groups,function(e,n){n===r&&t("[name='"+a.escapeCssMeta(e)+"']",a.currentForm).attr("aria-describedby",s.attr("id"))})))),!n&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,e)),this.toShow=this.toShow.add(s)},errorsFor:function(e){var n=this.escapeCssMeta(this.idOrName(e)),i=t(e).attr("aria-describedby"),r="label[for='"+n+"'], label[for='"+n+"'] *";return i&&(r=r+", #"+this.escapeCssMeta(i).replace(/\s+/g,", #")),this.errors().filter(r)},escapeCssMeta:function(t){return t.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),t(e).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+this.escapeCssMeta(e)+"']")},getLength:function(e,n){switch(n.nodeName.toLowerCase()){case"select":return t("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return e.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{"boolean":function(t){return t},string:function(e,n){return!!t(e,n.form).length},"function":function(t,e){return t(e)}},optional:function(e){var n=this.elementValue(e);return!t.validator.methods.required.call(this,n,e)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,t(e).addClass(this.settings.pendingClass),this.pending[e.name]=!0)},stopRequest:function(e,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],t(e).removeClass(this.settings.pendingClass),n&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!n&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e,n){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,{method:n})})},destroy:function(){this.resetForm(),t(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,n){e.constructor===String?this.classRuleSettings[e]=n:t.extend(this.classRuleSettings,e)},classRules:function(e){var n={},i=t(e).attr("class");return i&&t.each(i.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(n,t.validator.classRuleSettings[this])}),n},normalizeAttributeRule:function(t,e,n,i){/min|max|step/.test(n)&&(null===e||/number|range|text/.test(e))&&(i=Number(i),isNaN(i)&&(i=void 0)),i||0===i?t[n]=i:e===n&&"range"!==e&&(t[n]=!0)},attributeRules:function(e){var n,i,r={},o=t(e),a=e.getAttribute("type");for(n in t.validator.methods)"required"===n?(i=e.getAttribute(n),""===i&&(i=!0),i=!!i):i=o.attr(n),this.normalizeAttributeRule(r,a,n,i);return r.maxlength&&/-1|2147483647|524288/.test(r.maxlength)&&delete r.maxlength,r},dataRules:function(e){var n,i,r={},o=t(e),a=e.getAttribute("type");for(n in t.validator.methods)i=o.data("rule"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase()),this.normalizeAttributeRule(r,a,n,i);return r},staticRules:function(e){var n={},i=t.data(e.form,"validator");return i.settings.rules&&(n=t.validator.normalizeRule(i.settings.rules[e.name])||{}),n},normalizeRules:function(e,n){return t.each(e,function(i,r){if(!1===r)return void delete e[i];if(r.param||r.depends){var o=!0;switch(typeof r.depends){case"string":o=!!t(r.depends,n.form).length;break;case"function":o=r.depends.call(n,n)}o?e[i]=void 0===r.param||r.param:(t.data(n.form,"validator").resetElements(t(n)),delete e[i])}}),t.each(e,function(i,r){e[i]=t.isFunction(r)&&"normalizer"!==i?r(n):r}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var n;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(n=e[this].replace(/[\[\]]/g,"").split(/[\s,]+/),e[this]=[Number(n[0]),Number(n[1])]))}),t.validator.autoCreateRanges&&(null!=e.min&&null!=e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),null!=e.minlength&&null!=e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var n={};t.each(e.split(/\s/),function(){n[this]=!0}),e=n}return e},addMethod:function(e,n,i){t.validator.methods[e]=n,t.validator.messages[e]=void 0!==i?i:t.validator.messages[e],n.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,n,i){if(!this.depend(i,n))return"dependency-mismatch";if("select"===n.nodeName.toLowerCase()){var r=t(n).val();return r&&r.length>0}return this.checkable(n)?this.getLength(e,n)>0:e.length>0},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},minlength:function(e,n,i){var r=t.isArray(e)?e.length:this.getLength(e,n);return this.optional(n)||r>=i},maxlength:function(e,n,i){var r=t.isArray(e)?e.length:this.getLength(e,n);return this.optional(n)||i>=r},rangelength:function(e,n,i){var r=t.isArray(e)?e.length:this.getLength(e,n);return this.optional(n)||r>=i[0]&&r<=i[1]},min:function(t,e,n){return this.optional(e)||t>=n},max:function(t,e,n){return this.optional(e)||n>=t},range:function(t,e,n){return this.optional(e)||t>=n[0]&&t<=n[1]},step:function(e,n,i){var r=t(n).attr("type"),o="Step attribute on input type "+r+" is not supported.",a=["text","number","range"],s=new RegExp("\\b"+r+"\\b");if(r&&!s.test(a.join()))throw new Error(o);return this.optional(n)||e%i==0},equalTo:function(e,n,i){var r=t(i);return this.settings.onfocusout&&r.not(".validate-equalTo-blur").length&&r.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){t(n).valid()}),e===r.val()},remote:function(e,n,i,r){if(this.optional(n))return"dependency-mismatch";r="string"==typeof r&&r||"remote";var o,a,s,l=this.previousValue(n,r);return this.settings.messages[n.name]||(this.settings.messages[n.name]={}),l.originalMessage=l.originalMessage||this.settings.messages[n.name][r],this.settings.messages[n.name][r]=l.message,i="string"==typeof i&&{url:i}||i,s=t.param(t.extend({data:e},i.data)),l.old===s?l.valid:(l.old=s,o=this,this.startRequest(n),a={},a[n.name]=e,t.ajax(t.extend(!0,{mode:"abort",port:"validate"+n.name,dataType:"json",data:a,context:o.currentForm,success:function(t){var i,a,s,u=!0===t||"true"===t;o.settings.messages[n.name][r]=l.originalMessage,u?(s=o.formSubmitted,o.resetInternals(),o.toHide=o.errorsFor(n),o.formSubmitted=s,o.successList.push(n),o.invalid[n.name]=!1,o.showErrors()):(i={},a=t||o.defaultMessage(n,{method:r,parameters:e}),i[n.name]=l.message=a,o.invalid[n.name]=!0,o.showErrors(i)),l.valid=u,o.stopRequest(n,u)}},i)),"pending")}}});var e,n={};t.ajaxPrefilter?t.ajaxPrefilter(function(t,e,i){var r=t.port;"abort"===t.mode&&(n[r]&&n[r].abort(),n[r]=i)}):(e=t.ajax,t.ajax=function(i){var r=("mode"in i?i:t.ajaxSettings).mode,o=("port"in i?i:t.ajaxSettings).port;return"abort"===r?(n[o]&&n[o].abort(),n[o]=e.apply(this,arguments),n[o]):e.apply(this,arguments)})}),$.extend($.validator.prototype,{startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,$(t).addClass(this.settings.pendingClass),$(t).closest(".field").addClass(this.settings.pendingClass),this.pending[t.name]=!0)},stopRequest:function(t,e){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],$(t).removeClass(this.settings.pendingClass),$(t).closest(".field").removeClass(this.settings.pendingClass),e&&0===this.pendingRequest&&this.formSubmitted&&this.form()?($(this.currentForm).submit(),this.formSubmitted=!1):!e&&0===this.pendingRequest&&this.formSubmitted&&($(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)}}),$.extend($.validator.messages,{required:"\u8fd9\u662f\u5fc5\u586b\u5b57\u6bb5",remote:"\u8bf7\u4fee\u6b63\u6b64\u5b57\u6bb5",email:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u7535\u5b50\u90ae\u4ef6\u5730\u5740",url:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u7f51\u5740",date:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u65e5\u671f",dateISO:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u65e5\u671f (YYYY-MM-DD)",number:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u6570\u5b57",digits:"\u53ea\u80fd\u8f93\u5165\u6570\u5b57",creditcard:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u4fe1\u7528\u5361\u53f7\u7801",equalTo:"\u4f60\u7684\u8f93\u5165\u4e0d\u76f8\u540c",extension:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u540e\u7f00",maxlength:$.validator.format("\u6700\u591a\u53ef\u4ee5\u8f93\u5165 {0} \u4e2a\u5b57\u7b26"),minlength:$.validator.format("\u6700\u5c11\u8981\u8f93\u5165 {0} \u4e2a\u5b57\u7b26"),rangelength:$.validator.format("\u8bf7\u8f93\u5165\u957f\u5ea6\u5728 {0} \u5230 {1} \u4e4b\u95f4\u7684\u5b57\u7b26\u4e32"),range:$.validator.format("\u8bf7\u8f93\u5165\u8303\u56f4\u5728 {0} \u5230 {1} \u4e4b\u95f4\u7684\u6570\u503c"),max:$.validator.format("\u8bf7\u8f93\u5165\u4e0d\u5927\u4e8e {0} \u7684\u6570\u503c"),min:$.validator.format("\u8bf7\u8f93\u5165\u4e0d\u5c0f\u4e8e {0} \u7684\u6570\u503c")}),function(t){function e(e){return t(e).filter(function(){return t(this).is(":appeared")})}function n(){a=!1;for(var t=0,n=r.length;t<n;t++){var i=e(r[t]);if(i.trigger("appear",[i]),u[t]){var o=u[t].not(i);o.trigger("disappear",[o])}u[t]=i}}function i(t){r.push(t),u.push()}var r=[],o=!1,a=!1,s={interval:250,force_process:!1},l=t(window),u=[];t.expr[":"].appeared=function(e){var n=t(e);if(!n.is(":visible"))return!1;var i=l.scrollLeft(),r=l.scrollTop(),o=n.offset(),a=o.left,s=o.top;return s+n.height()>=r&&s-(n.data("appear-top-offset")||0)<=r+l.height()&&a+n.width()>=i&&a-(n.data("appear-left-offset")||0)<=i+l.width()},t.fn.extend({appear:function(e){var r=t.extend({},s,e||{}),l=this.selector||this;if(!o){var u=function(){a||(a=!0,setTimeout(n,r.interval))};t(window).scroll(u).resize(u),o=!0}return r.force_process&&setTimeout(n,r.interval),i(l),t(l)}}),t.extend({force_appear:function(){return!!o&&(n(),!0)}})}(function(){return"undefined"!=typeof module?require("jquery"):jQuery}()),function(){!function(t){var e,n,i,r;e=function(t,e){var n,i,r,o;return o=t.val(),n=t.data("display-as-percentage"),r=t.data("thousands-separator"),i=GD.prettyFormatNumber(o,null,n,r),e.val(i)},n=function(t){var n;return t.data("enhanced")?(n=t.next(),e(t,n)):(t.data("enhanced",!0),n=t.clone(),n.removeAttr("type"),n.removeAttr("name"),n.removeAttr("id"),n.removeAttr("value"),n.removeAttr("disabled"),n.attr("type","text"),n.insertAfter(t),t.hide(),e(t,n),n.on("focus",function(){return n.hide(),t.show().trigger("click").focus()}),t.on("blur",function(){if("disabled"!==t.attr("enhanced-number"))return e(t,n),t.hide(),n.show()}))},r=function(t){var n;return t.removeAttr("enhanced-number"),n=t.next(),e(t,n),t.hide(),n.show()},i=function(t){if(t.data("enhanced"))return t.attr("enhanced-number","disabled").show(),t.next().hide()},t.fn.enhancedNumberInput=function(){return this.each(function(){var e,o,a;return e=t(this),a=e.data("display-as-percentage"),o=e.data("thousands-separator"),(a||o)&&"disabled"===e.attr("enhanced-number")?r(e):a||o?n(e):i(e)})}}(jQuery)}.call(this),function(t){"use strict";t.fn.fitVids=function(e){var n={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("div");r.innerHTML='<p>x</p><style id="fit-vids-style">'+".fluid-width-video-wrapper{width:100%;position:relative;padding:0;padding-top:50%}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}"+"</style>",i.appendChild(r.childNodes[1])}return e&&t.extend(n,e),this.each(function(){var e=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];n.customSelector&&e.push(n.customSelector);var i=".fitvidsignore";n.ignore&&(i=i+", "+n.ignore);var r=t(this).find(e.join(","));r=r.not("object object"),r=r.not(i),r.each(function(){var e=t(this);if(!(e.parents(i).length>0||"embed"===this.tagName.toLowerCase()&&e.parent("object").length||e.parent(".fluid-width-video-wrapper").length)){e.css("height")||e.css("width")||!isNaN(e.attr("height"))&&!isNaN(e.attr("width"))||(e.attr("height",9),e.attr("width",16));var n="object"===this.tagName.toLowerCase()||e.attr("height")&&!isNaN(parseInt(e.attr("height"),10))?parseInt(e.attr("height"),10):e.height(),r=isNaN(parseInt(e.attr("width"),10))?e.width():parseInt(e.attr("width"),10),o=n/r;if(!e.attr("name")){var a="fitvid"+t.fn.fitVids._count;e.attr("name",a),t.fn.fitVids._count++}e.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*o+"%"),e.removeAttr("height").removeAttr("width")}})})},t.fn.fitVids._count=0}(window.jQuery||window.Zepto),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.tableColumnCalculation=e():t.tableColumnCalculation=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports
;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"init",function(){return s});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(e){i(this,t),this.elements=e}return r(t,[{key:"nonEmptyElements",value:function(){return this.elements.filter(function(t){return t})}},{key:"hasElement",value:function(){return this.elements.some(function(t){return t})}},{key:"sum",value:function(){return this.nonEmptyElements().reduce(function(t,e){return t+e})}},{key:"max",value:function(){return Math.max.apply(this,this.nonEmptyElements())}},{key:"min",value:function(){return Math.min.apply(this,this.nonEmptyElements())}},{key:"avg",value:function(){return this.sum()/this.nonEmptyElements().length}},{key:"run",value:function(t){if(this.hasElement()){var e=this[t]();return e?Number(e.toFixed(2)):void 0}}}]),t}(),a=function(){function t(e){var n=this;i(this,t),this.$table=e,this.$table.on("change","td input",function(){return n.runCalculation()}),this.$table.on("recalculation",function(){return n.runCalculation()})}return r(t,[{key:"init",value:function(){this.hasCalculation()&&(this.renderFoot(),this.runCalculation())}},{key:"hasCalculation",value:function(){var t=this;return this.tableHeaders().toArray().some(function(e){return t.columnHasCalculation($(e))})}},{key:"columnHasCalculation",value:function(t){return t.data("operator")}},{key:"tableHeaders",value:function(){return this.$table.find("thead th")}},{key:"runCalculation",value:function(){var t=this;this.tableHeaders().toArray().forEach(function(e,n){return t.runColumnCalculation($(e),n)})}},{key:"runColumnCalculation",value:function(t,e){if(this.columnHasCalculation(t)){var n=this.getCellValues(e),i=new o(n),r=t.data("operator"),a=i.run(r);return this.renderFootCell(e,r,a)}}},{key:"getCellValues",value:function(t){var e=this;return this.$table.find("tbody tr td:nth-child("+(t+1)+")").toArray().map(function(t){return e.formattedCellValue($(t))})}},{key:"formattedCellValue",value:function(t){var e=void 0;if(e=t.find("input").length>0?t.find("input").val():t.text().trim())return+e}},{key:"renderFoot",value:function(){this.$table.append($('<tfoot class="calculation-foot"><tr></tr></tfoot>'));var t=this.$table.find("tfoot tr");this.tableHeaders().each(function(){return t.append("<th></th>")})}},{key:"renderFootCell",value:function(t,e,n){n||(n="");var i=e+" "+n;return this.$table.find("tfoot tr th:nth-child("+(t+1)+")").text(i)}}]),t}(),s=function(t){return t.each(function(){var t=$(this);return new a(t).init()})}}])}),function(t){"use strict";function e(e,i){return this.each(function(){var r=t(this),o=r.data("bs.modal"),a=t.extend({},n.DEFAULTS,r.data(),"object"==typeof e&&e);o||r.data("bs.modal",o=new n(this,a)),"string"==typeof e?o[e](i):a.show&&o.show(i)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var i=this,r=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),r&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});r?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var i=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&r;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){if(this.ignoreBackdropClick)return void(this.ignoreBackdropClick=!1);t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=t(this),r=i.attr("href"),o=t(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},o.data(),i.data());i.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),e.call(o,a,this)})}(jQuery),function(t){"use strict";function e(e){var n,i=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(i)}function n(e){return this.each(function(){var n=t(this),r=n.data("bs.collapse"),o=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);!r&&o.toggle&&/show|hide/.test(e)&&(o.toggle=!1),r||n.data("bs.collapse",r=new i(this,o)),"string"==typeof e&&r[e]()})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.7",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(e=r.data("bs.collapse"))&&e.transitioning)){var o=t.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){r&&r.length&&(n.call(r,"hide"),e||r.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var l=t.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[a](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!t.support.transition)return r.call(this);this.$element[n](0).one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(i.TRANSITION_DURATION)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(n,i){var r=t(i);this.addAriaAndCollapsedClass(e(r),r)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var r=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=i,t.fn.collapse.noConflict=function(){return t.fn.collapse=r,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var r=t(this);r.attr("data-target")||i.preventDefault();var o=e(r),a=o.data("bs.collapse"),s=a?"toggle":r.data();n.call(o,s)})}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t,e){function n(){return new Date(Date.UTC.apply(Date,arguments))}function i(){var t=new Date;return n(t.getFullYear(),t.getMonth(),t.getDate())}function r(t,e){return t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCDate()===e.getUTCDate()}function o(n,i){return function(){return i!==e&&t.fn.datepicker.deprecated(i),this[n].apply(this,arguments)}}function a(t){return t&&!isNaN(t.getTime())}function s(e,n){function i(t,e){return e.toLowerCase()}var r,o=t(e).data(),a={},s=new RegExp("^"+n.toLowerCase()+"([A-Z])");n=new RegExp("^"+n.toLowerCase());for(var l in o)n.test(l)&&(r=l.replace(s,i),a[r]=o[l]);return a}function l(e){var n={};if(m[e]||(e=e.split("-")[0],m[e])){var i=m[e];return t.each(g,function(t,e){e in i&&(n[e]=i[e])}),n}}var u=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),n=0,i=this.length;n<i;n++)if(0<=this[n].valueOf()-e&&this[n].valueOf()-e<864e5)return n;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.length=0},copy:function(){var t=new u;return t.replace(this),t}};return function(){var n=[];return n.push.apply(n,arguments),t.extend(n,e),n}}(),d=function(e,n){t.data(e,"datepicker",this),this._process_options(n),this.dates=new u,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=t(e),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=t(v.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.o.calendarWeeks&&this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(t,e){return Number(e)+1}),this._process_options({startDate:this._o.startDate,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled}),this._allow_update=!1,this.setViewMode(this.o.startView),this._allow_update=!0,this.fillDow(),this.fillMonths(),this.update(),this.isInline&&this.show()};d.prototype={constructor:d,_resolveViewName:function(e){return t.each(v.viewModes,function(n,i){if(e===n||-1!==t.inArray(e,i.names))return e=n,!1}),e},_resolveDaysOfWeek:function(e){return t.isArray(e)||(e=e.split(/[,\s]*/)),t.map(e,Number)},_check_template:function(n){try{if(n===e||""===n)return!1;if((n.match(/[<>]/g)||[]).length<=0)return!0;return t(n).length>0}catch(t){return!1}},_process_options:function(e){this._o=t.extend({},this._o,e);var r=this.o=t.extend({},this._o),o=r.language;m[o]||(o=o.split("-")[0],m[o]||(o=f.language)),r.language=o,r.startView=this._resolveViewName(r.startView),r.minViewMode=this._resolveViewName(r.minViewMode),r.maxViewMode=this._resolveViewName(r.maxViewMode),r.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,r.startView)),!0!==r.multidate&&(r.multidate=Number(r.multidate)||!1,!1!==r.multidate&&(r.multidate=Math.max(0,r.multidate))),r.multidateSeparator=String(r.multidateSeparator),r.weekStart%=7,r.weekEnd=(r.weekStart+6)%7;var a=v.parseFormat(r.format);r.startDate!==-Infinity&&(r.startDate?r.startDate instanceof Date?r.startDate=this._local_to_utc(this._zero_time(r.startDate)):r.startDate=v.parseDate(r.startDate,a,r.language,r.assumeNearbyYear):r.startDate=-Infinity),r.endDate!==Infinity&&(r.endDate?r.endDate instanceof Date?r.endDate=this._local_to_utc(this._zero_time(r.endDate)):r.endDate=v.parseDate(r.endDate,a,r.language,r.assumeNearbyYear):r.endDate=Infinity),r.daysOfWeekDisabled=this._resolveDaysOfWeek(r.daysOfWeekDisabled||[]),r.daysOfWeekHighlighted=this._resolveDaysOfWeek(r.daysOfWeekHighlighted||[]),r.datesDisabled=r.datesDisabled||[],t.isArray(r.datesDisabled)||(r.datesDisabled=r.datesDisabled.split(",")),r.datesDisabled=t.map(r.datesDisabled,function(t){return v.parseDate(t,a,r.language,r.assumeNearbyYear)});var s=String(r.orientation).toLowerCase().split(/\s+/g),l=r.orientation.toLowerCase();if(s=t.grep(s,function(t){return/^auto|left|right|top|bottom$/.test(t)}),r.orientation={x:"auto",y:"auto"},l&&"auto"!==l)if(1===s.length)switch(s[0]){case"top":case"bottom":r.orientation.y=s[0];break;case"left":case"right":r.orientation.x=s[0]}else l=t.grep(s,function(t){return/^left|right$/.test(t)}),r.orientation.x=l[0]||"auto",l=t.grep(s,function(t){return/^top|bottom$/.test(t)}),r.orientation.y=l[0]||"auto";else;if(r.defaultViewDate instanceof Date||"string"==typeof r.defaultViewDate)r.defaultViewDate=v.parseDate(r.defaultViewDate,a,r.language,r.assumeNearbyYear);else if(r.defaultViewDate){var u=r.defaultViewDate.year||(new Date).getFullYear(),d=r.defaultViewDate.month||0,c=r.defaultViewDate.day||1;r.defaultViewDate=n(u,d,c)}else r.defaultViewDate=i()},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var n,i,r,o=0;o<t.length;o++)n=t[o][0],2===t[o].length?(i=e,r=t[o][1]):3===t[o].length&&(i=t[o][1],r=t[o][2]),n.on(r,i)},_unapplyEvents:function(t){for(var n,i,r,o=0;o<t.length;o++)n=t[o][0],2===t[o].length?(r=e,i=t[o][1]):3===t[o].length&&(r=t[o][1],i=t[o][2]),n.off(i,r)},_buildEvents:function(){var e={keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this),paste:t.proxy(this.paste,this)};!0===this.o.showOnFocus&&(e.focus=t.proxy(this.show,this)),this.isInput?this._events=[[this.element,e]]:this.component&&this.inputField.length?this._events=[[this.inputField,e],[this.component,{click:t.proxy(this.show,this)}]]:this._events=[[this.element,{click:t.proxy(this.show,this),keydown:t.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":t.proxy(function(t){this.update(t.date)},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[this.picker,".prev, .next",{click:t.proxy(this.navArrowsClick,this)}],[this.picker,".day:not(.disabled)",{click:t.proxy(this.dayCellClick,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{"mousedown touchstart":t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,n){var i=n||this.dates.get(-1),r=this._utc_to_local(i);this.element.trigger({type:e,date:r,viewMode:this.viewMode,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var n=this.dates.get(t);return v.formatDate(n,e,this.o.language)},this)})},show:function(){if(!(this.inputField.prop("disabled")||this.inputField.prop("readonly")&&!1===this.o.enableOnReadonly))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&t(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")?this:(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.setViewMode(this.o.startView),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide"),this)},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(e){var n;if(e.originalEvent.clipboardData&&e.originalEvent.clipboardData.types&&-1!==t.inArray("text/plain",e.originalEvent.clipboardData.types))n=e.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;n=window.clipboardData.getData("Text")}this.setDate(n),this.update(),e.preventDefault()},_utc_to_local:function(t){if(!t)return t;var e=new Date(t.getTime()+6e4*t.getTimezoneOffset());return e.getTimezoneOffset()!==t.getTimezoneOffset()&&(e=new Date(t.getTime()+6e4*e.getTimezoneOffset())),e},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&n(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var t=this.dates.get(-1);return t!==e?new Date(t):null},clearDates:function(){this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.setDates.apply(this,t.map(e,this._utc_to_local)),this},setDate:o("setDates"),setUTCDate:o("setUTCDates"),remove:o("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),setValue:function(){var t=this.getFormattedDate();return this.inputField.val(t),this},getFormattedDate:function(n){n===e&&(n=this.o.format);var i=this.o.language;return t.map(this.dates,function(t){return v.formatDate(t,n,i)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(t){return this._process_options({startDate:t}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(t){return this._process_options({endDate:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(t){return this._process_options({daysOfWeekDisabled:t}),this.update(),this},setDaysOfWeekHighlighted:function(t){return this._process_options({daysOfWeekHighlighted:t}),this.update(),this},setDatesDisabled:function(t){return this._process_options({datesDisabled:t}),this.update(),this},place:function(){if(this.isInline)return this;var e=this.picker.outerWidth(),n=this.picker.outerHeight(),i=10,r=t(this.o.container),o=r.width(),a="body"===this.o.container?t(document).scrollTop():r.scrollTop(),s=r.offset(),l=[0];this.element.parents().each(function(){var e=t(this).css("z-index");"auto"!==e&&0!==Number(e)&&l.push(Number(e))});var u=Math.max.apply(Math,l)+this.o.zIndexOffset,d=this.component?this.component.parent().offset():this.element.offset(),c=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),h=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),p=d.left-s.left,f=d.top-s.top;"body"!==this.o.container&&(f+=a),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(p-=e-h)):d.left<0?(this.picker.addClass("datepicker-orient-left"),p-=d.left-i):p+e>o?(this.picker.addClass("datepicker-orient-right"),p+=h-e):this.o.rtl?this.picker.addClass("datepicker-orient-right"):this.picker.addClass("datepicker-orient-left");var g,m=this.o.orientation.y;if("auto"===m&&(g=-a+f-n,m=g<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+m),"top"===m?f-=n+parseInt(this.picker.css("padding-top")):f+=c,this.o.rtl){var v=o-(p+h);this.picker.css({top:f,right:v,zIndex:u})}else this.picker.css({top:f,left:p,zIndex:u});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var e=this.dates.copy(),n=[],i=!1;return arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),n.push(e)},this)),i=!0):(n=this.isInput?this.element.val():this.element.data("date")||this.inputField.val(),n=n&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=t.map(n,t.proxy(function(t){return v.parseDate(t,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),n=t.grep(n,t.proxy(function(t){return!this.dateWithinRange(t)||!t},this),!0),this.dates.replace(n),this.o.updateViewDate&&(this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate),i?(this.setValue(),this.element.change()):this.dates.length&&String(e)!==String(this.dates)&&i&&(this._trigger("changeDate"),this.element.change()),!this.dates.length&&e.length&&(this._trigger("clearDate"),this.element.change()),this.fill(),this},fillDow:function(){if(this.o.showWeekDays){var e=this.o.weekStart,n="<tr>";for(this.o.calendarWeeks&&(n+='<th class="cw">&#160;</th>');e<this.o.weekStart+7;)n+='<th class="dow',-1!==t.inArray(e,this.o.daysOfWeekDisabled)&&(n+=" disabled"),n+='">'+m[this.o.language].daysMin[e++%7]+"</th>";n+="</tr>",this.picker.find(".datepicker-days thead").append(n)}},fillMonths:function(){for(var t,e=this._utc_to_local(this.viewDate),n="",i=0;i<12;i++)t=e&&e.getMonth()===i?" focused":"",n+='<span class="month'+t+'">'+m[this.o.language].monthsShort[i]+"</span>";this.picker.find(".datepicker-months td").html(n)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var n=[],o=this.viewDate.getUTCFullYear(),a=this.viewDate.getUTCMonth(),s=i();return e.getUTCFullYear()<o||e.getUTCFullYear()===o&&e.getUTCMonth()<a?n.push("old"):(e.getUTCFullYear()>o||e.getUTCFullYear()===o&&e.getUTCMonth()>a)&&n.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&n.push("focused"),this.o.todayHighlight&&r(e,s)&&n.push("today"),-1!==this.dates.contains(e)&&n.push("active"),this.dateWithinRange(e)||n.push("disabled"),this.dateIsDisabled(e)&&n.push("disabled","disabled-date"),-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekHighlighted)&&n.push("highlighted"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&n.push("range"),-1!==t.inArray(e.valueOf(),this.range)&&n.push("selected"),e.valueOf()===this.range[0]&&n.push("range-start"),e.valueOf()===this.range[this.range.length-1]&&n.push("range-end")),n},_fill_yearsView:function(n,i,r,o,a,s,l){for(var u,d,c,h="",p=r/10,f=this.picker.find(n),g=Math.floor(o/r)*r,m=g+9*p,v=Math.floor(this.viewDate.getFullYear()/p)*p,y=t.map(this.dates,function(t){return Math.floor(t.getUTCFullYear()/p)*p}),b=g-p;b<=m+p;b+=p)u=[i],d=null,b===g-p?u.push("old"):b===m+p&&u.push("new"),-1!==t.inArray(b,y)&&u.push("active"),(b<a||b>s)&&u.push("disabled"),b===v&&u.push("focused"),l!==t.noop&&(c=l(new Date(b,0,1)),c===e?c={}:"boolean"==typeof c?c={enabled:c}:"string"==typeof c&&(c={classes:c}),!1===c.enabled&&u.push("disabled"),c.classes&&(u=u.concat(c.classes.split(/\s+/))),c.tooltip&&(d=c.tooltip)),h+='<span class="'+u.join(" ")+'"'+(d?' title="'+d+'"':"")+">"+b+"</span>";f.find(".datepicker-switch").text(g+"-"+m),f.find("td").html(h)},fill:function(){var i,r,o=new Date(this.viewDate),a=o.getUTCFullYear(),s=o.getUTCMonth(),l=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,u=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,d=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,c=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,h=m[this.o.language].today||m.en.today||"",p=m[this.o.language].clear||m.en.clear||"",f=m[this.o.language].titleFormat||m.en.titleFormat;if(!isNaN(a)&&!isNaN(s)){this.picker.find(".datepicker-days .datepicker-switch").text(v.formatDate(o,f,this.o.language)),this.picker.find("tfoot .today").text(h).css("display",!0===this.o.todayBtn||"linked"===this.o.todayBtn?"table-cell":"none"),this.picker.find("tfoot .clear").text(p).css("display",!0===this.o.clearBtn?"table-cell":"none"),this.picker.find("thead .datepicker-title").text(this.o.title).css("display","string"==typeof this.o.title&&""!==this.o.title?"table-cell":"none"),this.updateNavArrows(),this.fillMonths();var g=n(a,s,0),y=g.getUTCDate();g.setUTCDate(y-(g.getUTCDay()-this.o.weekStart+7)%7);var b=new Date(g);g.getUTCFullYear()<100&&b.setUTCFullYear(g.getUTCFullYear()),b.setUTCDate(b.getUTCDate()+42),b=b.valueOf();for(var w,_,$=[];g.valueOf()<b;){if((w=g.getUTCDay())===this.o.weekStart&&($.push("<tr>"),this.o.calendarWeeks)){var C=new Date(+g+(this.o.weekStart-w-7)%7*864e5),x=new Date(Number(C)+(11-C.getUTCDay())%7*864e5),D=new Date(Number(D=n(x.getUTCFullYear(),0,1))+(11-D.getUTCDay())%7*864e5),k=(x-D)/864e5/7+1;$.push('<td class="cw">'+k+"</td>")}_=this.getClassNames(g),_.push("day");var S=g.getUTCDate();this.o.beforeShowDay!==t.noop&&(r=this.o.beforeShowDay(this._utc_to_local(g)),r===e?r={}:"boolean"==typeof r?r={enabled:r}:"string"==typeof r&&(r={classes:r}),!1===r.enabled&&_.push("disabled"),r.classes&&(_=_.concat(r.classes.split(/\s+/))),r.tooltip&&(i=r.tooltip),r.content&&(S=r.content)),_=t.isFunction(t.uniqueSort)?t.uniqueSort(_):t.unique(_),$.push('<td class="'+_.join(" ")+'"'+(i?' title="'+i+'"':"")+' data-date="'+g.getTime().toString()+'">'+S+"</td>"),i=null,w===this.o.weekEnd&&$.push("</tr>"),g.setUTCDate(g.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").html($.join(""));var T=m[this.o.language].monthsTitle||m.en.monthsTitle||"Months",A=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?T:a).end().find("tbody span").removeClass("active");if(t.each(this.dates,function(t,e){e.getUTCFullYear()===a&&A.eq(e.getUTCMonth()).addClass("active")}),(a<l||a>d)&&A.addClass("disabled"),a===l&&A.slice(0,u).addClass("disabled"),a===d&&A.slice(c+1).addClass("disabled"),this.o.beforeShowMonth!==t.noop){var E=this;t.each(A,function(n,i){var r=new Date(a,n,1),o=E.o.beforeShowMonth(r);o===e?o={}:"boolean"==typeof o?o={enabled:o}:"string"==typeof o&&(o={classes:o}),!1!==o.enabled||t(i).hasClass("disabled")||t(i).addClass("disabled"),o.classes&&t(i).addClass(o.classes),o.tooltip&&t(i).prop("title",o.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,a,l,d,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,a,l,d,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,a,l,d,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var t,e,n=new Date(this.viewDate),i=n.getUTCFullYear(),r=n.getUTCMonth(),o=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,a=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,s=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,l=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,u=1;switch(this.viewMode){case 0:t=i<=o&&r<=a,e=i>=s&&r>=l;break;case 4:
u*=10;case 3:u*=10;case 2:u*=10;case 1:t=Math.floor(i/u)*u<=o,e=Math.floor(i/u)*u+u>=s}this.picker.find(".prev").toggleClass("disabled",t),this.picker.find(".next").toggleClass("disabled",e)}},click:function(e){e.preventDefault(),e.stopPropagation();var r,o,a,s;r=t(e.target),r.hasClass("datepicker-switch")&&this.viewMode!==this.o.maxViewMode&&this.setViewMode(this.viewMode+1),r.hasClass("today")&&!r.hasClass("day")&&(this.setViewMode(0),this._setDate(i(),"linked"===this.o.todayBtn?null:"view")),r.hasClass("clear")&&this.clearDates(),r.hasClass("disabled")||(r.hasClass("month")||r.hasClass("year")||r.hasClass("decade")||r.hasClass("century"))&&(this.viewDate.setUTCDate(1),o=1,1===this.viewMode?(s=r.parent().find("span").index(r),a=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(s)):(s=0,a=Number(r.text()),this.viewDate.setUTCFullYear(a)),this._trigger(v.viewModes[this.viewMode-1].e,this.viewDate),this.viewMode===this.o.minViewMode?this._setDate(n(a,s,o)):(this.setViewMode(this.viewMode-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&this._focused_from.focus(),delete this._focused_from},dayCellClick:function(e){var n=t(e.currentTarget),i=n.data("date"),r=new Date(i);this.o.updateViewDate&&(r.getUTCFullYear()!==this.viewDate.getUTCFullYear()&&this._trigger("changeYear",this.viewDate),r.getUTCMonth()!==this.viewDate.getUTCMonth()&&this._trigger("changeMonth",this.viewDate)),this._setDate(r)},navArrowsClick:function(e){var n=t(e.currentTarget),i=n.hasClass("prev")?-1:1;0!==this.viewMode&&(i*=12*v.viewModes[this.viewMode].navStep),this.viewDate=this.moveMonth(this.viewDate,i),this._trigger(v.viewModes[this.viewMode].e,this.viewDate),this.fill()},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t||this.dates.clear(),-1!==e?(!0===this.o.multidate||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(e):!1===this.o.multidate?(this.dates.clear(),this.dates.push(t)):this.dates.push(t),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),(!e&&this.o.updateViewDate||"view"===e)&&(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),e&&"view"===e||this._trigger("changeDate"),this.inputField.trigger("change"),!this.o.autoclose||e&&"date"!==e||this.hide()},moveDay:function(t,e){var n=new Date(t);return n.setUTCDate(t.getUTCDate()+e),n},moveWeek:function(t,e){return this.moveDay(t,7*e)},moveMonth:function(t,e){if(!a(t))return this.o.defaultViewDate;if(!e)return t;var n,i,r=new Date(t.valueOf()),o=r.getUTCDate(),s=r.getUTCMonth(),l=Math.abs(e);if(e=e>0?1:-1,1===l)i=-1===e?function(){return r.getUTCMonth()===s}:function(){return r.getUTCMonth()!==n},n=s+e,r.setUTCMonth(n),n=(n+12)%12;else{for(var u=0;u<l;u++)r=this.moveMonth(r,e);n=r.getUTCMonth(),r.setUTCDate(o),i=function(){return n!==r.getUTCMonth()}}for(;i();)r.setUTCDate(--o),r.setUTCMonth(n);return r},moveYear:function(t,e){return this.moveMonth(t,12*e)},moveAvailableDate:function(t,e,n){do{if(t=this[n](t,e),!this.dateWithinRange(t))return!1;n="moveDay"}while(this.dateIsDisabled(t));return t},weekOfDateIsDisabled:function(e){return-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(e){return this.weekOfDateIsDisabled(e)||t.grep(this.o.datesDisabled,function(t){return r(e,t)}).length>0},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(!this.picker.is(":visible"))return void(40!==t.keyCode&&27!==t.keyCode||(this.show(),t.stopPropagation()));var e,n,i=!1,r=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault(),t.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;e=37===t.keyCode||38===t.keyCode?-1:1,0===this.viewMode?t.ctrlKey?(n=this.moveAvailableDate(r,e,"moveYear"))&&this._trigger("changeYear",this.viewDate):t.shiftKey?(n=this.moveAvailableDate(r,e,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):37===t.keyCode||39===t.keyCode?n=this.moveAvailableDate(r,e,"moveDay"):this.weekOfDateIsDisabled(r)||(n=this.moveAvailableDate(r,e,"moveWeek")):1===this.viewMode?(38!==t.keyCode&&40!==t.keyCode||(e*=4),n=this.moveAvailableDate(r,e,"moveMonth")):2===this.viewMode&&(38!==t.keyCode&&40!==t.keyCode||(e*=4),n=this.moveAvailableDate(r,e,"moveYear")),n&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),t.preventDefault());break;case 13:if(!this.o.forceParse)break;r=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(r),i=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),t.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}i&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField.trigger("change"))},setViewMode:function(t){this.viewMode=t,this.picker.children("div").hide().filter(".datepicker-"+v.viewModes[this.viewMode].clsName).show(),this.updateNavArrows(),this._trigger("changeViewMode",new Date(this.viewDate))}};var c=function(e,n){t.data(e,"datepicker",this),this.element=t(e),this.inputs=t.map(n.inputs,function(t){return t.jquery?t[0]:t}),delete n.inputs,this.keepEmptyValues=n.keepEmptyValues,delete n.keepEmptyValues,p.call(t(this.inputs),n).on("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t.data(e,"datepicker")}),this.updateDates()};c.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,n){n.setRange(e)})},dateUpdated:function(n){if(!this.updating){this.updating=!0;var i=t.data(n.target,"datepicker");if(i!==e){var r=i.getUTCDate(),o=this.keepEmptyValues,a=t.inArray(n.target,this.inputs),s=a-1,l=a+1,u=this.inputs.length;if(-1!==a){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e!==i&&o||e.setUTCDate(r)}),r<this.dates[s])for(;s>=0&&r<this.dates[s];)this.pickers[s--].setUTCDate(r);else if(r>this.dates[l])for(;l<u&&r>this.dates[l];)this.pickers[l++].setUTCDate(r);this.updateDates(),delete this.updating}}}},destroy:function(){t.map(this.pickers,function(t){t.destroy()}),t(this.inputs).off("changeDate",this.dateUpdated),delete this.element.data().datepicker},remove:o("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")};var h=t.fn.datepicker,p=function(n){var i=Array.apply(null,arguments);i.shift();var r;if(this.each(function(){var e=t(this),o=e.data("datepicker"),a="object"==typeof n&&n;if(!o){var u=s(this,"date"),h=t.extend({},f,u,a),p=l(h.language),g=t.extend({},f,p,u,a);e.hasClass("input-daterange")||g.inputs?(t.extend(g,{inputs:g.inputs||e.find("input").toArray()}),o=new c(this,g)):o=new d(this,g),e.data("datepicker",o)}"string"==typeof n&&"function"==typeof o[n]&&(r=o[n].apply(o,i))}),r===e||r instanceof d||r instanceof c)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+n+" function)");return r};t.fn.datepicker=p;var f=t.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:t.noop,beforeShowMonth:t.noop,beforeShowYear:t.noop,beforeShowDecade:t.noop,beforeShowCentury:t.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:Infinity,forceParse:!0,format:"mm/dd/yyyy",keepEmptyValues:!1,keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-Infinity,startView:0,todayBtn:!1,todayHighlight:!1,updateViewDate:!0,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"},showWeekDays:!0},g=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=d;var m=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},v={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:10},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(t){if("function"==typeof t.toValue&&"function"==typeof t.toDisplay)return t;var e=t.replace(this.validParts,"\0").split("\0"),n=t.match(this.validParts);if(!e||!e.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:e,parts:n}},parseDate:function(n,r,o,a){function s(t,e){return!0===e&&(e=10),t<100&&(t+=2e3)>(new Date).getFullYear()+e&&(t-=100),t}function l(){var t=this.slice(0,u[p].length),e=u[p].slice(0,t.length);return t.toLowerCase()===e.toLowerCase()}if(!n)return e;if(n instanceof Date)return n;if("string"==typeof r&&(r=v.parseFormat(r)),r.toValue)return r.toValue(n,r,o);var u,c,h,p,f,g={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},y={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(n in y&&(n=y[n]),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(n)){for(u=n.match(/([\-+]\d+)([dmwy])/gi),n=new Date,p=0;p<u.length;p++)c=u[p].match(/([\-+]\d+)([dmwy])/i),h=Number(c[1]),f=g[c[2].toLowerCase()],n=d.prototype[f](n,h);return d.prototype._zero_utc_time(n)}u=n&&n.match(this.nonpunctuation)||[];var b,w,_={},$=["yyyy","yy","M","MM","m","mm","d","dd"],C={yyyy:function(t,e){return t.setUTCFullYear(a?s(e,a):e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;e<0;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};C.yy=C.yyyy,C.M=C.MM=C.mm=C.m,C.dd=C.d,n=i();var x=r.parts.slice();if(u.length!==x.length&&(x=t(x).filter(function(e,n){return-1!==t.inArray(n,$)}).toArray()),u.length===x.length){var D;for(p=0,D=x.length;p<D;p++){if(b=parseInt(u[p],10),c=x[p],isNaN(b))switch(c){case"MM":w=t(m[o].months).filter(l),b=t.inArray(w[0],m[o].months)+1;break;case"M":w=t(m[o].monthsShort).filter(l),b=t.inArray(w[0],m[o].monthsShort)+1}_[c]=b}var k,S;for(p=0;p<$.length;p++)(S=$[p])in _&&!isNaN(_[S])&&(k=new Date(n),C[S](k,_[S]),isNaN(k)||(n=k))}return n},formatDate:function(e,n,i){if(!e)return"";if("string"==typeof n&&(n=v.parseFormat(n)),n.toDisplay)return n.toDisplay(e,n,i);var r={d:e.getUTCDate(),D:m[i].daysShort[e.getUTCDay()],DD:m[i].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:m[i].monthsShort[e.getUTCMonth()],MM:m[i].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};r.dd=(r.d<10?"0":"")+r.d,r.mm=(r.m<10?"0":"")+r.m,e=[];for(var o=t.extend([],n.separators),a=0,s=n.parts.length;a<=s;a++)o.length&&e.push(o.shift()),e.push(r[n.parts[a]]);return e.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">'+f.templates.leftArrow+'</th><th colspan="5" class="datepicker-switch"></th><th class="next">'+f.templates.rightArrow+"</th></tr></thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};v.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+v.headTemplate+"<tbody></tbody>"+v.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=v,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=h,this},t.fn.datepicker.version="1.7.1",t.fn.datepicker.deprecated=function(t){var e=window.console;e&&e.warn&&e.warn("DEPRECATED: "+t)},t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var n=t(this);n.data("datepicker")||(e.preventDefault(),p.call(n,"show"))}),t(function(){p.call(t('[data-provide="datepicker-inline"]'))})}),function(t){t.fn.datepicker.dates["zh-CN"]={days:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],daysShort:["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"],daysMin:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],months:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthsShort:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],today:"\u4eca\u65e5",clear:"\u6e05\u9664",format:"yyyy\u5e74mm\u6708dd\u65e5",titleFormat:"yyyy\u5e74mm\u6708",weekStart:1}}(jQuery),function(t){t.fn.datepicker.dates["zh-TW"]={days:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],daysShort:["\u9031\u65e5","\u9031\u4e00","\u9031\u4e8c","\u9031\u4e09","\u9031\u56db","\u9031\u4e94","\u9031\u516d"],daysMin:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],months:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthsShort:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],today:"\u4eca\u5929",format:"yyyy\u5e74mm\u6708dd\u65e5",weekStart:1,clear:"\u6e05\u9664"}}(jQuery),function(t,e){if("function"==typeof define&&define.amd)define(["exports","module"],e);else if("undefined"!=typeof exports&&"undefined"!=typeof module)e(exports,module);else{var n={exports:{}};e(n.exports,n),t.autosize=n.exports}}(this,function(t,e){"use strict";function n(t){function e(){var e=window.getComputedStyle(t,null);"vertical"===e.resize?t.style.resize="none":"both"===e.resize&&(t.style.resize="horizontal"),l="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(l)&&(l=0),s()}function n(e){var n=t.style.width;t.style.width="0px",t.offsetWidth,t.style.width=n,t.style.overflowY=e}function i(t){for(var e=[];t&&t.parentNode&&t.parentNode instanceof Element;)t.parentNode.scrollTop&&e.push({node:t.parentNode,scrollTop:t.parentNode.scrollTop}),t=t.parentNode;return e}function r(){var e=t.style.height,n=i(t),r=document.documentElement&&document.documentElement.scrollTop;t.style.height="auto";var o=t.scrollHeight+l;if(0===t.scrollHeight)return void(t.style.height=e);t.style.height=o+"px",u=t.clientWidth,n.forEach(function(t){t.node.scrollTop=t.scrollTop}),r&&(document.documentElement.scrollTop=r)}function s(){r();var e=Math.round(parseFloat(t.style.height)),i=window.getComputedStyle(t,null),o=Math.round(parseFloat(i.height));if(o!==e?"visible"!==i.overflowY&&(n("visible"),r(),o=Math.round(parseFloat(window.getComputedStyle(t,null).height))):"hidden"!==i.overflowY&&(n("hidden"),r(),o=Math.round(parseFloat(window.getComputedStyle(t,null).height))),d!==o){d=o;var s=a("autosize:resized");try{t.dispatchEvent(s)}catch(t){}}}if(t&&t.nodeName&&"TEXTAREA"===t.nodeName&&!o.has(t)){var l=null,u=t.clientWidth,d=null,c=function(){t.clientWidth!==u&&s()},h=function(e){window.removeEventListener("resize",c,!1),t.removeEventListener("input",s,!1),t.removeEventListener("keyup",s,!1),t.removeEventListener("autosize:destroy",h,!1),t.removeEventListener("autosize:update",s,!1),Object.keys(e).forEach(function(n){t.style[n]=e[n]}),o["delete"](t)}.bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",h,!1),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",s,!1),window.addEventListener("resize",c,!1),t.addEventListener("input",s,!1),t.addEventListener("autosize:update",s,!1),t.style.overflowX="hidden",t.style.wordWrap="break-word",o.set(t,{destroy:h,update:s}),e()}}function i(t){var e=o.get(t);e&&e.destroy()}function r(t){var e=o.get(t);e&&e.update()}var o="function"==typeof Map?new Map:function(){var t=[],e=[];return{has:function(e){return t.indexOf(e)>-1},get:function(n){return e[t.indexOf(n)]},set:function(n,i){-1===t.indexOf(n)&&(t.push(n),e.push(i))},"delete":function(n){var i=t.indexOf(n);i>-1&&(t.splice(i,1),e.splice(i,1))}}}(),a=function(t){return new Event(t,{bubbles:!0})};try{new Event("test")}catch(t){a=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!1),e}}var s=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?(s=function(t){return t},s.destroy=function(t){return t},s.update=function(t){return t}):(s=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],function(t){return n(t,e)}),t},s.destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],i),t},s.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],r),t}),e.exports=s}),function(){"use strict";var t,e,n="undefined",i="string",r=self.navigator,o=String,a=Object.prototype.hasOwnProperty,s={},l={},u=!1,d=!0,c=/^\s*application\/(?:vnd\.oftn\.|x-)?l10n\+json\s*(?:$|;)/i,h="locale",p="defaultLocale",f="toLocaleString",g="toLowerCase",m=Array.prototype.indexOf||function(t){for(var e=this.length,n=0;n<e;n++)if(n in this&&this[n]===t)return n;return-1},v=function(e){var n=new t,i={};n.open("GET",e,u),n.send(null);try{i=JSON.parse(n.responseText)}catch(t){setTimeout(function(){var t=new Error("Unable to load localization data: "+e);throw t.name="Localization Error",t},0)}return i},y=o[f]=function(t){if(arguments.length>0&&"number"!=typeof t)if(typeof t===i)y(v(t));else if(t===u)l={};else{var e,n,r;for(e in t)if(a.call(t,e)){if(n=t[e],e=e[g](),e in l&&n!==u||(l[e]={}),n===u)continue;if(typeof n===i){if(0!==o[h][g]().indexOf(e)){e in s||(s[e]=[]),s[e].push(n);continue}n=v(n)}for(r in n)a.call(n,r)&&(l[e][r]=n[r])}}return Function.prototype[f].apply(o,arguments)},b=function(t){for(var e,n=s[t],i=0,r=n.length;i<r;i++)e={},e[t]=v(n[i]),y(e);delete s[t]},w=o.prototype[f]=function(){var t,n=e,i=o[n?p:h],r=i[g]().split("-"),a=r.length,c=this.valueOf();e=u;do{if(t=r.slice(0,a).join("-"),t in s&&b(t),t in l&&c in l[t])return l[t][c]}while(a-- >1);return!n&&o[p]?(e=d,w.call(c)):c};if(typeof XMLHttpRequest===n&&typeof ActiveXObject!==n){var _=ActiveXObject;t=function(){try{return new _("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new _("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new _("Msxml2.XMLHTTP")}catch(t){}throw new Error("XMLHttpRequest not supported by this browser.")}}else t=XMLHttpRequest;if(o[p]=o[p]||"",o[h]=r&&(r.language||r.userLanguage)||"",typeof document!==n)for(var $,C=document.getElementsByTagName("link"),x=C.length;x--;){var D=C[x],k=(D.getAttribute("rel")||"")[g]().split(/\s+/);c.test(D.type)&&(-1!==m.call(k,"localizations")?y(D.getAttribute("href")):-1!==m.call(k,"localization")&&($={},$[(D.getAttribute("hreflang")||"")[g]()]=D.getAttribute("href"),y($)))}}(),function(t){var e=document.createElement("div"),n=e.getElementsByTagName("i"),i=t(document.documentElement);e.innerHTML="<!--[if lte IE 8]><i></i><![endif]-->",n[0]&&i.addClass("ie-lte8"),"querySelector"in document&&(!window.blackberry||window.WebKitPoint)&&!window.operamini&&(i.addClass("tablesaw-enhanced"),t(function(){t(document).trigger("enhance.tablesaw")}))}(jQuery),"undefined"==typeof Tablesaw&&(Tablesaw={i18n:{modes:["Stack","Swipe","Toggle"],columns:'Col<span class="a11y-sm">umn</span>s',columnBtnText:"Columns",columnsDialogError:"No eligible columns.",sort:"Sort"}}),Tablesaw.config||(Tablesaw.config={}),function(t){var e="table",n={toolbar:"tablesaw-bar"},i={create:"tablesawcreate",destroy:"tablesawdestroy",refresh:"tablesawrefresh"},r="stack",o=function(e){if(!e)throw new Error("Tablesaw requires an element.");this.table=e,this.$table=t(e),this.mode=this.$table.attr("data-tablesaw-mode")||r,this.init()};o.prototype.init=function(){this.$table.attr("id")||this.$table.attr("id",e+"-"+Math.round(1e4*Math.random())),this.createToolbar();var t=this._initCells();this.$table.trigger(i.create,[this,t])},o.prototype._initCells=function(){var e,n=this.table.querySelectorAll("thead tr"),i=this;return t(n).each(function(){var r=0;t(this).children().each(function(){var o=parseInt(this.getAttribute("colspan"),10),a=":nth-child("+(r+1)+")";if(e=r+1,o)for(var s=0;s<o-1;s++)r++,a+=", :nth-child("+(r+1)+")";this.cells=i.$table.find("tr").not(t(n).eq(0)).not(this).children(a),r++})}),e},o.prototype.refresh=function(){this._initCells(),this.$table.trigger(i.refresh)},o.prototype.createToolbar=function(){var e=this.$table.prev("."+n.toolbar);e.length||(e=t("<div>").addClass(n.toolbar).insertBefore(this.$table)),this.$toolbar=e,this.mode&&this.$toolbar.addClass("mode-"+this.mode)},o.prototype.destroy=function(){this.$table.prev("."+n.toolbar).each(function(){this.className=this.className.replace(/\bmode\-\w*\b/gi,"")});var r=this.$table.attr("id");t(document).unbind("."+r),t(window).unbind("."+r),this.$table.trigger(i.destroy,[this]),this.$table.removeAttr("data-tablesaw-mode"),this.$table.removeData(e)},t.fn[e]=function(){return this.each(function(){var n=t(this);if(!n.data(e)){var i=new o(this);n.data(e,i)}})},t(document).on("enhance.tablesaw",function(n){t(n.target).find("table[data-tablesaw-mode],table[data-tablesaw-sortable]")[e]()})}(jQuery),function(t,e){var n={stackTable:"tablesaw-stack",cellLabels:"tablesaw-cell-label",cellContentLabels:"tablesaw-cell-content"},i={obj:"tablesaw-stack"},r={labelless:"data-tablesaw-no-labels",hideempty:"data-tablesaw-hide-empty"},o=function(t){this.$table=e(t),this.labelless=this.$table.is("["+r.labelless+"]"),this.hideempty=this.$table.is("["+r.hideempty+"]"),this.labelless||(this.allHeaders=this.$table.find("th")),this.$table.data(i.obj,this)};o.prototype.init=function(t){if(this.$table.addClass(n.stackTable),!this.labelless){var i=e(this.allHeaders),o=this.hideempty;i.each(function(){var i=e(this),a=e(this.cells).filter(function(){return!(e(this).parent().is("["+r.labelless+"]")||o&&e(this).is(":empty"))}),s=a.not(this).filter("thead th").length&&" tablesaw-cell-label-top",l=i.find(".tablesaw-sortable-btn"),u=l.length?l.html():i.html();if(""!==u)if(s){var d=parseInt(e(this).attr("colspan"),10),c="";d&&(c="td:nth-child("+d+"n + "+t+")"),a.filter(c).prepend("<b class='"+n.cellLabels+s+"'>"+u+"</b>")}else a.wrapInner("<span class='"+n.cellContentLabels+"'></span>"),a.prepend("<b class='"+n.cellLabels+"'>"+u+"</b>")})}},o.prototype.destroy=function(){this.$table.removeClass(n.stackTable),this.$table.find("."+n.cellLabels).remove(),this.$table.find("."+n.cellContentLabels).each(function(){e(this).replaceWith(this.childNodes)})},e(document).on("tablesawcreate",function(t,e,n){if("stack"===e.mode){new o(e.table).init(n)}}),e(document).on("tablesawdestroy",function(t,n){"stack"===n.mode&&e(n.table).data(i.obj).destroy()})}(0,jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){var e=function(){if(t&&t.fn&&t.fn.select2&&t.fn.select2.amd)var e=t.fn.select2.amd;var e;return function(){if(!e||!e.requirejs){e?n=e:e={};var t,n,i;!function(e){function r(t,e){return w.call(t,e)}function o(t,e){var n,i,r,o,a,s,l,u,d,c,h,p=e&&e.split("/"),f=y.map,g=f&&f["*"]||{};if(t&&"."===t.charAt(0))if(e){for(t=t.split("/"),a=t.length-1,y.nodeIdCompat&&$.test(t[a])&&(t[a]=t[a].replace($,"")),t=p.slice(0,p.length-1).concat(t),d=0;d<t.length;d+=1)if("."===(h=t[d]))t.splice(d,1),d-=1;else if(".."===h){if(1===d&&(".."===t[2]||".."===t[0]))break;d>0&&(t.splice(d-1,2),d-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((p||g)&&f){for(n=t.split("/"),d=n.length;d>0;d-=1){if(i=n.slice(0,d).join("/"),p)for(c=p.length;c>0;c-=1)if((r=f[p.slice(0,c).join("/")])&&(r=r[i])){o=r,s=d;break}if(o)break;!l&&g&&g[i]&&(l=g[i],u=d)}!o&&l&&(o=l,s=u),o&&(n.splice(0,s,o),t=n.join("/"))}return t}function a(t,n){return function(){var i=_.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),p.apply(e,i.concat([t,n]))}}function s(t){return function(e){return o(e,t)}}function l(t){return function(e){m[t]=e}}function u(t){if(r(v,t)){var n=v[t];delete v[t],b[t]=!0,h.apply(e,n)}if(!r(m,t)&&!r(b,t))throw new Error("No "+t);return m[t]}function d(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function c(t){return function(){return y&&y.config&&y.config[t]||{}}}var h,p,f,g,m={},v={},y={},b={},w=Object.prototype.hasOwnProperty,_=[].slice,$=/\.js$/;f=function(t,e){var n,i=d(t),r=i[0];return t=i[1],r&&(r=o(r,e),n=u(r)),r?t=n&&n.normalize?n.normalize(t,s(e)):o(t,e):(t=o(t,e),i=d(t),r=i[0],t=i[1],r&&(n=u(r))),{f:r?r+"!"+t:t,n:t,pr:r,p:n}},g={require:function(t){return a(t)},exports:function(t){var e=m[t];return void 0!==e?e:m[t]={}},module:function(t){return{id:t,uri:"",exports:m[t],config:c(t)}}},h=function(t,n,i,o){var s,d,c,h,p,y,w=[],_=typeof i;if(o=o||t,"undefined"===_||"function"===_){for(n=!n.length&&i.length?["require","exports","module"]:n,p=0;p<n.length;p+=1)if(h=f(n[p],o),"require"===(d=h.f))w[p]=g.require(t);else if("exports"===d)w[p]=g.exports(t),y=!0;else if("module"===d)s=w[p]=g.module(t);else if(r(m,d)||r(v,d)||r(b,d))w[p]=u(d);else{if(!h.p)throw new Error(t+" missing "+d);h.p.load(h.n,a(o,!0),l(d),{}),w[p]=m[d]}c=i?i.apply(m[t],w):undefined,t&&(s&&s.exports!==e&&s.exports!==m[t]?m[t]=s.exports:c===e&&y||(m[t]=c))}else t&&(m[t]=i)},t=n=p=function(t,n,i,r,o){if("string"==typeof t)return g[t]?g[t](n):u(f(t,n).f);if(!t.splice){if(y=t,y.deps&&p(y.deps,y.callback),!n)return;n.splice?(t=n,n=i,i=null):t=e}return n=n||function(){},"function"==typeof i&&(i=r,r=o),r?h(e,t,n,i):setTimeout(function(){h(e,t,n,i)},4),p},p.config=function(t){return p(t)},t._defined=m,i=function(t,e,n){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(n=e,e=[]),r(m,t)||r(v,t)||(v[t]=[t,e,n])},i.amd={jQuery:!0}}(),e.requirejs=t,e.require=n,e.define=i}}(),e.define("almond",function(){}),e.define("jquery",[],function(){var e=t||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e}),e.define("select2/utils",["jquery"],function(t){function e(t){var e=t.prototype,n=[];for(var i in e){"function"==typeof e[i]&&("constructor"!==i&&n.push(i))}return n}var n={};n.Extend=function(t,e){function n(){this.constructor=t}var i={}.hasOwnProperty;for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},n.Decorate=function(t,n){function i(){var e=Array.prototype.unshift,i=n.prototype.constructor.length,r=t.prototype.constructor;i>0&&(e.call(arguments,t.prototype.constructor),r=n.prototype.constructor),r.apply(this,arguments)}function r(){this.constructor=i}var o=e(n),a=e(t);n.displayName=t.displayName,i.prototype=new r;for(var s=0;s<a.length;s++){var l=a[s];i.prototype[l]=t.prototype[l]}for(var u=(function(t){var e=function(){};t in i.prototype&&(e=i.prototype[t]);var r=n.prototype[t];return function(){return Array.prototype.unshift.call(arguments,e),r.apply(this,arguments)}}),d=0;d<o.length;d++){var c=o[d];i.prototype[c]=u(c)}return i};var i=function(){this.listeners={}};return i.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},i.prototype.trigger=function(t){var e=Array.prototype.slice,n=e.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),n[0]._type=t,t in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},i.prototype.invoke=function(t,e){for(var n=0,i=t.length;n<i;n++)t[n].apply(this,e)},n.Observable=i,n.generateChars=function(t){for(var e="",n=0;n<t;n++){e+=Math.floor(36*Math.random()).toString(36)}return e},n.bind=function(t,e){return function(){t.apply(e,arguments)}},n._convertData=function(t){for(var e in t){var n=e.split("-"),i=t;if(1!==n.length){for(var r=0;r<n.length;r++){var o=n[r];o=o.substring(0,1).toLowerCase()+o.substring(1),o in i||(i[o]={}),r==n.length-1&&(i[o]=t[e]),i=i[o]}delete t[e]}}return t},n.hasScroll=function(e,n){var i=t(n),r=n.style.overflowX,o=n.style.overflowY;return(r!==o||"hidden"!==o&&"visible"!==o)&&("scroll"===r||"scroll"===o||(i.innerHeight()<n.scrollHeight||i.innerWidth()<n.scrollWidth))},n.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},n.appendMany=function(e,n){if("1.7"===t.fn.jquery.substr(0,3)){var i=t();t.map(n,function(t){i=i.add(t)}),n=i}e.append(n)},n}),e.define("select2/results",["jquery","./utils"],function(t,e){function n(t,e,i){this.$element=t,this.data=i,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e,e},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(e){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var i=t('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),r=this.options.get("translations").get(e.message);i.append(n(r(e.args))),i[0].className+=" select2-results__message",this.$results.append(i)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(t){this.hideLoading();var e=[];if(null==t.results||0===t.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));t.results=this.sort(t.results);for(var n=0;n<t.results.length;n++){var i=t.results[n],r=this.option(i);e.push(r)}this.$results.append(e)},n.prototype.position=function(t,e){e.find(".select2-results").append(t)},n.prototype.sort=function(t){return this.options.get("sorter")(t)},n.prototype.highlightFirstItem=function(){var t=this.$results.find(".select2-results__option[aria-selected]"),e=t.filter("[aria-selected=true]");e.length>0?e.first().trigger("mouseenter"):t.first().trigger("mouseenter"),this.ensureHighlightVisible()},n.prototype.setClasses=function(){var e=this;this.data.current(function(n){var i=t.map(n,function(t){return t.id.toString()});e.$results.find(".select2-results__option[aria-selected]").each(function(){var e=t(this),n=t.data(this,"data"),r=""+n.id;null!=n.element&&n.element.selected||null==n.element&&t.inArray(r,i)>-1?e.attr("aria-selected","true"):e.attr("aria-selected","false")})})},n.prototype.showLoading=function(t){this.hideLoading();var e=this.options.get("translations").get("searching"),n={disabled:!0,loading:!0,text:e(t)},i=this.option(n);i.className+=" loading-results",this.$results.prepend(i)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(e){
var n=document.createElement("li");n.className="select2-results__option";var i={role:"treeitem","aria-selected":"false"};e.disabled&&(delete i["aria-selected"],i["aria-disabled"]="true"),null==e.id&&delete i["aria-selected"],null!=e._resultId&&(n.id=e._resultId),e.title&&(n.title=e.title),e.children&&(i.role="group",i["aria-label"]=e.text,delete i["aria-selected"]);for(var r in i){var o=i[r];n.setAttribute(r,o)}if(e.children){var a=t(n),s=document.createElement("strong");s.className="select2-results__group";t(s);this.template(e,s);for(var l=[],u=0;u<e.children.length;u++){var d=e.children[u],c=this.option(d);l.push(c)}var h=t("<ul></ul>",{"class":"select2-results__options select2-results__options--nested"});h.append(l),a.append(s),a.append(h)}else this.template(e,n);return t.data(n,"data",e),n},n.prototype.bind=function(e){var n=this,i=e.id+"-results";this.$results.attr("id",i),e.on("results:all",function(t){n.clear(),n.append(t.data),e.isOpen()&&(n.setClasses(),n.highlightFirstItem())}),e.on("results:append",function(t){n.append(t.data),e.isOpen()&&n.setClasses()}),e.on("query",function(t){n.hideMessages(),n.showLoading(t)}),e.on("select",function(){e.isOpen()&&(n.setClasses(),n.highlightFirstItem())}),e.on("unselect",function(){e.isOpen()&&(n.setClasses(),n.highlightFirstItem())}),e.on("open",function(){n.$results.attr("aria-expanded","true"),n.$results.attr("aria-hidden","false"),n.setClasses(),n.ensureHighlightVisible()}),e.on("close",function(){n.$results.attr("aria-expanded","false"),n.$results.attr("aria-hidden","true"),n.$results.removeAttr("aria-activedescendant")}),e.on("results:toggle",function(){var t=n.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),e.on("results:select",function(){var t=n.getHighlightedResults();if(0!==t.length){var e=t.data("data");"true"==t.attr("aria-selected")?n.trigger("close",{}):n.trigger("select",{data:e})}}),e.on("results:previous",function(){var t=n.getHighlightedResults(),e=n.$results.find("[aria-selected]"),i=e.index(t);if(0!==i){var r=i-1;0===t.length&&(r=0);var o=e.eq(r);o.trigger("mouseenter");var a=n.$results.offset().top,s=o.offset().top,l=n.$results.scrollTop()+(s-a);0===r?n.$results.scrollTop(0):s-a<0&&n.$results.scrollTop(l)}}),e.on("results:next",function(){var t=n.getHighlightedResults(),e=n.$results.find("[aria-selected]"),i=e.index(t),r=i+1;if(!(r>=e.length)){var o=e.eq(r);o.trigger("mouseenter");var a=n.$results.offset().top+n.$results.outerHeight(!1),s=o.offset().top+o.outerHeight(!1),l=n.$results.scrollTop()+s-a;0===r?n.$results.scrollTop(0):s>a&&n.$results.scrollTop(l)}}),e.on("results:focus",function(t){t.element.addClass("select2-results__option--highlighted")}),e.on("results:message",function(t){n.displayMessage(t)}),t.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=n.$results.scrollTop(),i=n.$results.get(0).scrollHeight-e+t.deltaY,r=t.deltaY>0&&e-t.deltaY<=0,o=t.deltaY<0&&i<=n.$results.height();r?(n.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):o&&(n.$results.scrollTop(n.$results.get(0).scrollHeight-n.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(e){var i=t(this),r=i.data("data");if("true"===i.attr("aria-selected"))return void(n.options.get("multiple")?n.trigger("unselect",{originalEvent:e,data:r}):n.trigger("close",{}));n.trigger("select",{originalEvent:e,data:r})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(){var e=t(this).data("data");n.getHighlightedResults().removeClass("select2-results__option--highlighted"),n.trigger("results:focus",{data:e,element:t(this)})})},n.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]"),n=e.index(t),i=this.$results.offset().top,r=t.offset().top,o=this.$results.scrollTop()+(r-i),a=r-i;o-=2*t.outerHeight(!1),n<=2?this.$results.scrollTop(0):(a>this.$results.outerHeight()||a<0)&&this.$results.scrollTop(o)}},n.prototype.template=function(e,n){var i=this.options.get("templateResult"),r=this.options.get("escapeMarkup"),o=i(e,n);null==o?n.style.display="none":"string"==typeof o?n.innerHTML=r(o):t(n).append(o)},n}),e.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),e.define("select2/selection/base",["jquery","../utils","../keys"],function(t,e,n){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),e.attr("title",this.$element.attr("title")),e.attr("tabindex",this._tabindex),this.$selection=e,e},i.prototype.bind=function(t){var e=this,i=(t.id,t.id+"-results");this.container=t,this.$selection.on("focus",function(t){e.trigger("focus",t)}),this.$selection.on("blur",function(t){e._handleBlur(t)}),this.$selection.on("keydown",function(t){e.trigger("keypress",t),t.which===n.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){e.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){e.update(t.data)}),t.on("open",function(){e.$selection.attr("aria-expanded","true"),e.$selection.attr("aria-owns",i),e._attachCloseHandler(t)}),t.on("close",function(){e.$selection.attr("aria-expanded","false"),e.$selection.removeAttr("aria-activedescendant"),e.$selection.removeAttr("aria-owns"),e.$selection.focus(),e._detachCloseHandler(t)}),t.on("enable",function(){e.$selection.attr("tabindex",e._tabindex)}),t.on("disable",function(){e.$selection.attr("tabindex","-1")})},i.prototype._handleBlur=function(e){var n=this;window.setTimeout(function(){document.activeElement==n.$selection[0]||t.contains(n.$selection[0],document.activeElement)||n.trigger("blur",e)},1)},i.prototype._attachCloseHandler=function(e){t(document.body).on("mousedown.select2."+e.id,function(e){var n=t(e.target),i=n.closest(".select2");t(".select2.select2-container--open").each(function(){var e=t(this);this!=i[0]&&e.data("element").select2("close")})})},i.prototype._detachCloseHandler=function(e){t(document.body).off("mousedown.select2."+e.id)},i.prototype.position=function(t,e){e.find(".selection").append(t)},i.prototype.destroy=function(){this._detachCloseHandler(this.container)},i.prototype.update=function(){throw new Error("The `update` method must be defined in child classes.")},i}),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,n){function i(){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,e),i.prototype.render=function(){var t=i.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},i.prototype.bind=function(t){var e=this;i.__super__.bind.apply(this,arguments);var n=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",n),this.$selection.attr("aria-labelledby",n),this.$selection.on("mousedown",function(t){1===t.which&&e.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(){}),this.$selection.on("blur",function(){}),t.on("focus",function(){t.isOpen()||e.$selection.focus()}),t.on("selection:update",function(t){e.update(t.data)})},i.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},i.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},i.prototype.selectionContainer=function(){return t("<span></span>")},i.prototype.update=function(t){if(0===t.length)return void this.clear();var e=t[0],n=this.$selection.find(".select2-selection__rendered"),i=this.display(e,n);n.empty().append(i),n.prop("title",e.title||e.text)},i}),e.define("select2/selection/multiple",["jquery","./base","../utils"],function(t,e,n){function i(){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,e),i.prototype.render=function(){var t=i.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},i.prototype.bind=function(){var e=this;i.__super__.bind.apply(this,arguments),this.$selection.on("click",function(t){e.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(n){if(!e.options.get("disabled")){var i=t(this),r=i.parent(),o=r.data("data");e.trigger("unselect",{originalEvent:n,data:o})}})},i.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},i.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},i.prototype.selectionContainer=function(){return t('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},i.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],i=0;i<t.length;i++){var r=t[i],o=this.selectionContainer(),a=this.display(r,o);o.append(a),o.prop("title",r.title||r.text),o.data("data",r),e.push(o)}var s=this.$selection.find(".select2-selection__rendered");n.appendMany(s,e)}},i}),e.define("select2/selection/placeholder",["../utils"],function(){function t(t,e,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n)}return t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.createPlaceholder=function(t,e){var n=this.selectionContainer();return n.html(this.display(e)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},t.prototype.update=function(t,e){var n=1==e.length&&e[0].id!=this.placeholder.id;if(e.length>1||n)return t.call(this,e);this.clear();var i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},t}),e.define("select2/selection/allowClear",["jquery","../keys"],function(t,e){function n(){}return n.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(t){i._handleClear(t)}),e.on("keypress",function(t){i._handleKeyboardClear(t,e)})},n.prototype._handleClear=function(t,e){if(!this.options.get("disabled")){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){e.stopPropagation();for(var i=n.data("data"),r=0;r<i.length;r++){var o={data:i[r]};if(this.trigger("unselect",o),o.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},n.prototype._handleKeyboardClear=function(t,n,i){i.isOpen()||n.which!=e.DELETE&&n.which!=e.BACKSPACE||this._handleClear(n)},n.prototype.update=function(e,n){if(e.call(this,n),!(this.$selection.find(".select2-selection__placeholder").length>0||0===n.length)){var i=t('<span class="select2-selection__clear">&times;</span>');i.data("data",n),this.$selection.find(".select2-selection__rendered").prepend(i)}},n}),e.define("select2/selection/search",["jquery","../utils","../keys"],function(t,e,n){function i(t,e,n){t.call(this,e,n)}return i.prototype.render=function(e){var n=t('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=n,this.$search=n.find("input");var i=e.call(this);return this._transferTabIndex(),i},i.prototype.bind=function(t,e,i){var r=this;t.call(this,e,i),e.on("open",function(){r.$search.trigger("focus")}),e.on("close",function(){r.$search.val(""),r.$search.removeAttr("aria-activedescendant"),r.$search.trigger("focus")}),e.on("enable",function(){r.$search.prop("disabled",!1),r._transferTabIndex()}),e.on("disable",function(){r.$search.prop("disabled",!0)}),e.on("focus",function(){r.$search.trigger("focus")}),e.on("results:focus",function(t){r.$search.attr("aria-activedescendant",t.id)}),this.$selection.on("focusin",".select2-search--inline",function(t){r.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){r._handleBlur(t)}),this.$selection.on("keydown",".select2-search--inline",function(t){if(t.stopPropagation(),r.trigger("keypress",t),r._keyUpPrevented=t.isDefaultPrevented(),t.which===n.BACKSPACE&&""===r.$search.val()){var e=r.$searchContainer.prev(".select2-selection__choice");if(e.length>0){var i=e.data("data");r.searchRemoveChoice(i),t.preventDefault()}}});var o=document.documentMode,a=o&&o<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(){if(a)return void r.$selection.off("input.search input.searchcheck");r.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(t){if(a&&"input"===t.type)return void r.$selection.off("input.search input.searchcheck");var e=t.which;e!=n.SHIFT&&e!=n.CTRL&&e!=n.ALT&&e!=n.TAB&&r.handleSearch(t)})},i.prototype._transferTabIndex=function(){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},i.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},i.prototype.update=function(t,e){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.focus()},i.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},i.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.$search.val(e.text),this.handleSearch()},i.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";if(""!==this.$search.attr("placeholder"))t=this.$selection.find(".select2-selection__rendered").innerWidth();else{t=.75*(this.$search.val().length+1)+"em"}this.$search.css("width",t)},i}),e.define("select2/selection/eventRelay",["jquery"],function(t){function e(){}return e.prototype.bind=function(e,n,i){var r=this,o=["open","opening","close","closing","select","selecting","unselect","unselecting"],a=["opening","closing","selecting","unselecting"];e.call(this,n,i),n.on("*",function(e,n){if(-1!==t.inArray(e,o)){n=n||{};var i=t.Event("select2:"+e,{params:n});r.$element.trigger(i),-1!==t.inArray(e,a)&&(n.prevented=i.isDefaultPrevented())}})},e}),e.define("select2/translation",["jquery","require"],function(t,e){function n(t){this.dict=t||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(t){return this.dict[t]},n.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},n._cache={},n.loadPath=function(t){if(!(t in n._cache)){var i=e(t);n._cache[t]=i}return new n(n._cache[t])},n}),e.define("select2/diacritics",[],function(){return{"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"}}),e.define("select2/data/base",["../utils"],function(t){function e(){e.__super__.constructor.call(this)}return t.Extend(e,t.Observable),e.prototype.current=function(){throw new Error("The `current` method must be defined in child classes.")},e.prototype.query=function(){throw new Error("The `query` method must be defined in child classes.")},e.prototype.bind=function(){},e.prototype.destroy=function(){},e.prototype.generateResultId=function(e,n){var i=e.id+"-result-";return i+=t.generateChars(4),null!=n.id?i+="-"+n.id.toString():i+="-"+t.generateChars(4),i},e}),e.define("select2/data/select",["./base","../utils","jquery"],function(t,e,n){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,t),i.prototype.current=function(t){var e=[],i=this;this.$element.find(":selected").each(function(){var t=n(this),r=i.item(t);e.push(r)}),t(e)},i.prototype.select=function(t){var e=this;if(t.selected=!0,n(t.element).is("option"))return t.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(i){var r=[];t=[t],t.push.apply(t,i);for(var o=0;o<t.length;o++){var a=t[o].id;-1===n.inArray(a,r)&&r.push(a)}e.$element.val(r),e.$element.trigger("change")});else{var i=t.id;this.$element.val(i),this.$element.trigger("change")}},i.prototype.unselect=function(t){var e=this;if(this.$element.prop("multiple")){if(t.selected=!1,n(t.element).is("option"))return t.element.selected=!1,void this.$element.trigger("change");this.current(function(i){for(var r=[],o=0;o<i.length;o++){var a=i[o].id;a!==t.id&&-1===n.inArray(a,r)&&r.push(a)}e.$element.val(r),e.$element.trigger("change")})}},i.prototype.bind=function(t){var e=this;this.container=t,t.on("select",function(t){e.select(t.data)}),t.on("unselect",function(t){e.unselect(t.data)})},i.prototype.destroy=function(){this.$element.find("*").each(function(){n.removeData(this,"data")})},i.prototype.query=function(t,e){var i=[],r=this;this.$element.children().each(function(){var e=n(this);if(e.is("option")||e.is("optgroup")){var o=r.item(e),a=r.matches(t,o);null!==a&&i.push(a)}}),e({results:i})},i.prototype.addOptions=function(t){e.appendMany(this.$element,t)},i.prototype.option=function(t){var e;t.children?(e=document.createElement("optgroup"),e.label=t.text):(e=document.createElement("option"),e.textContent!==undefined?e.textContent=t.text:e.innerText=t.text),t.id&&(e.value=t.id),t.disabled&&(e.disabled=!0),t.selected&&(e.selected=!0),t.title&&(e.title=t.title);var i=n(e),r=this._normalizeItem(t);return r.element=e,n.data(e,"data",r),i},i.prototype.item=function(t){var e={};if(null!=(e=n.data(t[0],"data")))return e;if(t.is("option"))e={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){e={text:t.prop("label"),children:[],title:t.prop("title")};for(var i=t.children("option"),r=[],o=0;o<i.length;o++){var a=n(i[o]),s=this.item(a);r.push(s)}e.children=r}return e=this._normalizeItem(e),e.element=t[0],n.data(t[0],"data",e),e},i.prototype._normalizeItem=function(t){n.isPlainObject(t)||(t={id:t,text:t}),t=n.extend({},{text:""},t);var e={selected:!1,disabled:!1};return null!=t.id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),n.extend({},e,t)},i.prototype.matches=function(t,e){return this.options.get("matcher")(t,e)},i}),e.define("select2/data/array",["./select","../utils","jquery"],function(t,e,n){function i(t,e){var n=e.get("data")||[];i.__super__.constructor.call(this,t,e),this.addOptions(this.convertToOptions(n))}return e.Extend(i,t),i.prototype.select=function(t){var e=this.$element.find("option").filter(function(e,n){return n.value==t.id.toString()});0===e.length&&(e=this.option(t),this.addOptions(e)),i.__super__.select.call(this,t)},i.prototype.convertToOptions=function(t){function i(t){return function(){return n(this).val()==t.id}}for(var r=this,o=this.$element.find("option"),a=o.map(function(){return r.item(n(this)).id}).get(),s=[],l=0;l<t.length;l++){var u=this._normalizeItem(t[l]);if(n.inArray(u.id,a)>=0){var d=o.filter(i(u)),c=this.item(d),h=n.extend(!0,{},u,c),p=this.option(h);d.replaceWith(p)}else{var f=this.option(u);if(u.children){var g=this.convertToOptions(u.children);e.appendMany(f,g)}s.push(f)}}return s},i}),e.define("select2/data/ajax",["./array","../utils","jquery"],function(t,e,n){function i(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),i.__super__.constructor.call(this,t,e)}return e.Extend(i,t),i.prototype._applyDefaults=function(t){var e={data:function(t){return n.extend({},t,{q:t.term})},transport:function(t,e,i){var r=n.ajax(t);return r.then(e),r.fail(i),r}};return n.extend({},e,t,!0)},i.prototype.processResults=function(t){return t},i.prototype.query=function(t,e){function i(){var i=o.transport(o,function(i){var o=r.processResults(i,t);r.options.get("debug")&&window.console&&console.error&&(o&&o.results&&n.isArray(o.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),e(o)},function(){i.status&&"0"===i.status||r.trigger("results:message",{message:"errorLoading"})});r._request=i}var r=this;null!=this._request&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var o=n.extend({type:"GET"},this.ajaxOptions);"function"==typeof o.url&&(o.url=o.url.call(this.$element,t)),"function"==typeof o.data&&(o.data=o.data.call(this.$element,t)),this.ajaxOptions.delay&&null!=t.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(i,this.ajaxOptions.delay)):i()},i}),e.define("select2/data/tags",["jquery"],function(t){function e(e,n,i){var r=i.get("tags"),o=i.get("createTag");o!==undefined&&(this.createTag=o);var a=i.get("insertTag");if(a!==undefined&&(this.insertTag=a),e.call(this,n,i),t.isArray(r))for(var s=0;s<r.length;s++){
var l=r[s],u=this._normalizeItem(l),d=this.option(u);this.$element.append(d)}}return e.prototype.query=function(t,e,n){function i(t,o){for(var a=t.results,s=0;s<a.length;s++){var l=a[s],u=null!=l.children&&!i({results:l.children},!0);if(l.text===e.term||u)return!o&&(t.data=a,void n(t))}if(o)return!0;var d=r.createTag(e);if(null!=d){var c=r.option(d);c.attr("data-select2-tag",!0),r.addOptions([c]),r.insertTag(a,d)}t.results=a,n(t)}var r=this;if(this._removeOldTags(),null==e.term||null!=e.page)return void t.call(this,e,n);t.call(this,e,i)},e.prototype.createTag=function(e,n){var i=t.trim(n.term);return""===i?null:{id:i,text:i}},e.prototype.insertTag=function(t,e,n){e.unshift(n)},e.prototype._removeOldTags=function(){this._lastTag;this.$element.find("option[data-select2-tag]").each(function(){this.selected||t(this).remove()})},e}),e.define("select2/data/tokenizer",["jquery"],function(t){function e(t,e,n){var i=n.get("tokenizer");i!==undefined&&(this.tokenizer=i),t.call(this,e,n)}return e.prototype.bind=function(t,e,n){t.call(this,e,n),this.$search=e.dropdown.$search||e.selection.$search||n.find(".select2-search__field")},e.prototype.query=function(e,n,i){function r(e){var n=a._normalizeItem(e);if(!a.$element.find("option").filter(function(){return t(this).val()===n.id}).length){var i=a.option(n);i.attr("data-select2-tag",!0),a._removeOldTags(),a.addOptions([i])}o(n)}function o(t){a.trigger("select",{data:t})}var a=this;n.term=n.term||"";var s=this.tokenizer(n,this.options,r);s.term!==n.term&&(this.$search.length&&(this.$search.val(s.term),this.$search.focus()),n.term=s.term),e.call(this,n,i)},e.prototype.tokenizer=function(e,n,i,r){for(var o=i.get("tokenSeparators")||[],a=n.term,s=0,l=this.createTag||function(t){return{id:t.term,text:t.term}};s<a.length;){var u=a[s];if(-1!==t.inArray(u,o)){var d=a.substr(0,s),c=t.extend({},n,{term:d}),h=l(c);null!=h?(r(h),a=a.substr(s+1)||"",s=0):s++}else s++}return{term:a}},e}),e.define("select2/data/minimumInputLength",[],function(){function t(t,e,n){this.minimumInputLength=n.get("minimumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){if(e.term=e.term||"",e.term.length<this.minimumInputLength)return void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}});t.call(this,e,n)},t}),e.define("select2/data/maximumInputLength",[],function(){function t(t,e,n){this.maximumInputLength=n.get("maximumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){if(e.term=e.term||"",this.maximumInputLength>0&&e.term.length>this.maximumInputLength)return void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}});t.call(this,e,n)},t}),e.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){var i=this;this.current(function(r){var o=null!=r?r.length:0;if(i.maximumSelectionLength>0&&o>=i.maximumSelectionLength)return void i.trigger("results:message",{message:"maximumSelected",args:{maximum:i.maximumSelectionLength}});t.call(i,e,n)})},t}),e.define("select2/dropdown",["jquery","./utils"],function(t,e){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e,e},n.prototype.bind=function(){},n.prototype.position=function(){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),e.define("select2/dropdown/search",["jquery","../utils"],function(t){function e(){}return e.prototype.render=function(e){var n=e.call(this),i=t('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=i,this.$search=i.find("input"),n.prepend(i),n},e.prototype.bind=function(e,n,i){var r=this;e.call(this,n,i),this.$search.on("keydown",function(t){r.trigger("keypress",t),r._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(){t(this).off("keyup")}),this.$search.on("keyup input",function(t){r.handleSearch(t)}),n.on("open",function(){r.$search.attr("tabindex",0),r.$search.focus(),window.setTimeout(function(){r.$search.focus()},0)}),n.on("close",function(){r.$search.attr("tabindex",-1),r.$search.val("")}),n.on("focus",function(){n.isOpen()&&r.$search.focus()}),n.on("results:all",function(t){if(null==t.query.term||""===t.query.term){r.showSearch(t)?r.$searchContainer.removeClass("select2-search--hide"):r.$searchContainer.addClass("select2-search--hide")}})},e.prototype.handleSearch=function(){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},e.prototype.showSearch=function(){return!0},e}),e.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n,i)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var n=e.slice(0),i=e.length-1;i>=0;i--){var r=e[i];this.placeholder.id===r.id&&n.splice(i,1)}return n},t}),e.define("select2/dropdown/infiniteScroll",["jquery"],function(t){function e(t,e,n,i){this.lastParams={},t.call(this,e,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&this.$results.append(this.$loadingMore)},e.prototype.bind=function(e,n,i){var r=this;e.call(this,n,i),n.on("query",function(t){r.lastParams=t,r.loading=!0}),n.on("query:append",function(t){r.lastParams=t,r.loading=!0}),this.$results.on("scroll",function(){var e=t.contains(document.documentElement,r.$loadingMore[0]);if(!r.loading&&e){r.$results.offset().top+r.$results.outerHeight(!1)+50>=r.$loadingMore.offset().top+r.$loadingMore.outerHeight(!1)&&r.loadMore()}})},e.prototype.loadMore=function(){this.loading=!0;var e=t.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},e.prototype.createLoadingMore=function(){var e=t('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return e.html(n(this.lastParams)),e},e}),e.define("select2/dropdown/attachBody",["jquery","../utils"],function(t,e){function n(e,n,i){this.$dropdownParent=i.get("dropdownParent")||t(document.body),e.call(this,n,i)}return n.prototype.bind=function(t,e,n){var i=this,r=!1;t.call(this,e,n),e.on("open",function(){i._showDropdown(),i._attachPositioningHandler(e),r||(r=!0,e.on("results:all",function(){i._positionDropdown(),i._resizeDropdown()}),e.on("results:append",function(){i._positionDropdown(),i._resizeDropdown()}))}),e.on("close",function(){i._hideDropdown(),i._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},n.prototype.destroy=function(t){t.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(t,e,n){e.attr("class",n.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(e){var n=t("<span></span>"),i=e.call(this);return n.append(i),this.$dropdownContainer=n,n},n.prototype._hideDropdown=function(){this.$dropdownContainer.detach()},n.prototype._attachPositioningHandler=function(n,i){var r=this,o="scroll.select2."+i.id,a="resize.select2."+i.id,s="orientationchange.select2."+i.id,l=this.$container.parents().filter(e.hasScroll);l.each(function(){t(this).data("select2-scroll-position",{x:t(this).scrollLeft(),y:t(this).scrollTop()})}),l.on(o,function(){var e=t(this).data("select2-scroll-position");t(this).scrollTop(e.y)}),t(window).on(o+" "+a+" "+s,function(){r._positionDropdown(),r._resizeDropdown()})},n.prototype._detachPositioningHandler=function(n,i){var r="scroll.select2."+i.id,o="resize.select2."+i.id,a="orientationchange.select2."+i.id;this.$container.parents().filter(e.hasScroll).off(r),t(window).off(r+" "+o+" "+a)},n.prototype._positionDropdown=function(){var e=t(window),n=this.$dropdown.hasClass("select2-dropdown--above"),i=this.$dropdown.hasClass("select2-dropdown--below"),r=null,o=this.$container.offset();o.bottom=o.top+this.$container.outerHeight(!1);var a={height:this.$container.outerHeight(!1)};a.top=o.top,a.bottom=o.top+a.height;var s={height:this.$dropdown.outerHeight(!1)},l={top:e.scrollTop(),bottom:e.scrollTop()+e.height()},u=l.top<o.top-s.height,d=l.bottom>o.bottom+s.height,c={left:o.left,top:a.bottom},h=this.$dropdownParent;"static"===h.css("position")&&(h=h.offsetParent());var p=h.offset();c.top-=p.top,c.left-=p.left,n||i||(r="below"),d||!u||n?!u&&d&&n&&(r="below"):r="above",("above"==r||n&&"below"!==r)&&(c.top=a.top-p.top-s.height),null!=r&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+r),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+r)),this.$dropdownContainer.css(c)},n.prototype._resizeDropdown=function(){var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.position="relative",t.width="auto"),this.$dropdown.css(t)},n.prototype._showDropdown=function(){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n}),e.define("select2/dropdown/minimumResultsForSearch",[],function(){function t(e){for(var n=0,i=0;i<e.length;i++){var r=e[i];r.children?n+=t(r.children):n++}return n}function e(t,e,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=Infinity),t.call(this,e,n,i)}return e.prototype.showSearch=function(e,n){return!(t(n.data.results)<this.minimumResultsForSearch)&&e.call(this,n)},e}),e.define("select2/dropdown/selectOnClose",[],function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("close",function(t){i._handleSelectOnClose(t)})},t.prototype._handleSelectOnClose=function(t,e){if(e&&null!=e.originalSelect2Event){var n=e.originalSelect2Event;if("select"===n._type||"unselect"===n._type)return}var i=this.getHighlightedResults();if(!(i.length<1)){var r=i.data("data");null!=r.element&&r.element.selected||null==r.element&&r.selected||this.trigger("select",{data:r})}},t}),e.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("select",function(t){i._selectTriggered(t)}),e.on("unselect",function(t){i._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var n=e.originalEvent;n&&n.ctrlKey||this.trigger("close",{originalEvent:n,originalSelect2Event:e})},t}),e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,n="Please delete "+e+" character";return 1!=e&&(n+="s"),n},inputTooShort:function(t){return"Please enter "+(t.minimum-t.input.length)+" or more characters"},loadingMore:function(){return"Loading more results\u2026"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching\u2026"}}}),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(t,e,n,i,r,o,a,s,l,u,d,c,h,p,f,g,m,v,y,b,w,_,$,C,x,D,k,S,T){function A(){this.reset()}return A.prototype.apply=function(c){if(c=t.extend(!0,{},this.defaults,c),null==c.dataAdapter){if(null!=c.ajax?c.dataAdapter=f:null!=c.data?c.dataAdapter=p:c.dataAdapter=h,c.minimumInputLength>0&&(c.dataAdapter=u.Decorate(c.dataAdapter,v)),c.maximumInputLength>0&&(c.dataAdapter=u.Decorate(c.dataAdapter,y)),c.maximumSelectionLength>0&&(c.dataAdapter=u.Decorate(c.dataAdapter,b)),c.tags&&(c.dataAdapter=u.Decorate(c.dataAdapter,g)),null==c.tokenSeparators&&null==c.tokenizer||(c.dataAdapter=u.Decorate(c.dataAdapter,m)),null!=c.query){var T=e(c.amdBase+"compat/query");c.dataAdapter=u.Decorate(c.dataAdapter,T)}if(null!=c.initSelection){var A=e(c.amdBase+"compat/initSelection");c.dataAdapter=u.Decorate(c.dataAdapter,A)}}if(null==c.resultsAdapter&&(c.resultsAdapter=n,null!=c.ajax&&(c.resultsAdapter=u.Decorate(c.resultsAdapter,C)),null!=c.placeholder&&(c.resultsAdapter=u.Decorate(c.resultsAdapter,$)),c.selectOnClose&&(c.resultsAdapter=u.Decorate(c.resultsAdapter,k))),null==c.dropdownAdapter){if(c.multiple)c.dropdownAdapter=w;else{var E=u.Decorate(w,_);c.dropdownAdapter=E}if(0!==c.minimumResultsForSearch&&(c.dropdownAdapter=u.Decorate(c.dropdownAdapter,D)),c.closeOnSelect&&(c.dropdownAdapter=u.Decorate(c.dropdownAdapter,S)),null!=c.dropdownCssClass||null!=c.dropdownCss||null!=c.adaptDropdownCssClass){var P=e(c.amdBase+"compat/dropdownCss");c.dropdownAdapter=u.Decorate(c.dropdownAdapter,P)}c.dropdownAdapter=u.Decorate(c.dropdownAdapter,x)}if(null==c.selectionAdapter){if(c.multiple?c.selectionAdapter=r:c.selectionAdapter=i,null!=c.placeholder&&(c.selectionAdapter=u.Decorate(c.selectionAdapter,o)),c.allowClear&&(c.selectionAdapter=u.Decorate(c.selectionAdapter,a)),c.multiple&&(c.selectionAdapter=u.Decorate(c.selectionAdapter,s)),null!=c.containerCssClass||null!=c.containerCss||null!=c.adaptContainerCssClass){var M=e(c.amdBase+"compat/containerCss");c.selectionAdapter=u.Decorate(c.selectionAdapter,M)}c.selectionAdapter=u.Decorate(c.selectionAdapter,l)}if("string"==typeof c.language)if(c.language.indexOf("-")>0){var O=c.language.split("-"),I=O[0];c.language=[c.language,I]}else c.language=[c.language];if(t.isArray(c.language)){var F=new d;c.language.push("en");for(var G=c.language,L=0;L<G.length;L++){var R=G[L],N={};try{N=d.loadPath(R)}catch(t){try{R=this.defaults.amdLanguageBase+R,N=d.loadPath(R)}catch(t){c.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+R+'" could not be automatically loaded. A fallback will be used instead.');continue}}F.extend(N)}c.translations=F}else{var j=d.loadPath(this.defaults.amdLanguageBase+"en"),q=new d(c.language);q.extend(j),c.translations=q}return c},A.prototype.reset=function(){function e(t){function e(t){return c[t]||t}return t.replace(/[^\u0000-\u007E]/g,e)}function n(i,r){if(""===t.trim(i.term))return r;if(r.children&&r.children.length>0){for(var o=t.extend(!0,{},r),a=r.children.length-1;a>=0;a--){null==n(i,r.children[a])&&o.children.splice(a,1)}return o.children.length>0?o:n(i,o)}var s=e(r.text).toUpperCase(),l=e(i.term).toUpperCase();return s.indexOf(l)>-1?r:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:u.escapeMarkup,language:T,matcher:n,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},A.prototype.set=function(e,n){var i=t.camelCase(e),r={};r[i]=n;var o=u._convertData(r);t.extend(this.defaults,o)},new A}),e.define("select2/options",["require","jquery","./defaults","./utils"],function(t,e,n,i){function r(e,r){if(this.options=e,null!=r&&this.fromElement(r),this.options=n.apply(this.options),r&&r.is("input")){var o=t(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=i.Decorate(this.options.dataAdapter,o)}}return r.prototype.fromElement=function(t){var n=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.language&&(t.prop("lang")?this.options.language=t.prop("lang").toLowerCase():t.closest("[lang]").prop("lang")&&(this.options.language=t.closest("[lang]").prop("lang"))),null==this.options.dir&&(t.prop("dir")?this.options.dir=t.prop("dir"):t.closest("[dir]").prop("dir")?this.options.dir=t.closest("[dir]").prop("dir"):this.options.dir="ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),t.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),t.data("data",t.data("select2Tags")),t.data("tags",!0)),t.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",t.data("ajaxUrl")),t.data("ajax--url",t.data("ajaxUrl")));var r={};r=e.fn.jquery&&"1."==e.fn.jquery.substr(0,2)&&t[0].dataset?e.extend(!0,{},t[0].dataset,t.data()):t.data();var o=e.extend(!0,{},r);o=i._convertData(o);for(var a in o)e.inArray(a,n)>-1||(e.isPlainObject(this.options[a])?e.extend(this.options[a],o[a]):this.options[a]=o[a]);return this},r.prototype.get=function(t){return this.options[t]},r.prototype.set=function(t,e){this.options[t]=e},r}),e.define("select2/core",["jquery","./options","./utils","./keys"],function(t,e,n,i){var r=function(t,n){null!=t.data("select2")&&t.data("select2").destroy(),this.$element=t,this.id=this._generateId(t),n=n||{},this.options=new e(n,t),r.__super__.constructor.call(this);var i=t.attr("tabindex")||0;t.data("old-tabindex",i),t.attr("tabindex","-1");var o=this.options.get("dataAdapter");this.dataAdapter=new o(t,this.options);var a=this.render();this._placeContainer(a);var s=this.options.get("selectionAdapter");this.selection=new s(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,a);var l=this.options.get("dropdownAdapter");this.dropdown=new l(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,a);var u=this.options.get("resultsAdapter");this.results=new u(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var d=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){d.trigger("selection:update",{data:t})}),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),t.data("select2",this)};return n.Extend(r,n.Observable),r.prototype._generateId=function(t){var e="";return e=null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+n.generateChars(2):n.generateChars(4),e=e.replace(/(:|\.|\[|\]|,)/g,""),e="select2-"+e},r.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},r.prototype._resolveWidth=function(t,e){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var i=this._resolveWidth(t,"style");return null!=i?i:this._resolveWidth(t,"element")}if("element"==e){var r=t.outerWidth(!1);return r<=0?"auto":r+"px"}if("style"==e){var o=t.attr("style");if("string"!=typeof o)return null;for(var a=o.split(";"),s=0,l=a.length;s<l;s+=1){var u=a[s].replace(/\s/g,""),d=u.match(n);if(null!==d&&d.length>=1)return d[1]}return null}return e},r.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},r.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",function(){e.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})}),this.$element.on("focus.select2",function(t){e.trigger("focus",t)}),this._syncA=n.bind(this._syncAttributes,this),this._syncS=n.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=i?(this._observer=new i(function(n){t.each(n,e._syncA),t.each(n,e._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",e._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",e._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",e._syncS,!1))},r.prototype._registerDataEvents=function(){var t=this;this.dataAdapter.on("*",function(e,n){t.trigger(e,n)})},r.prototype._registerSelectionEvents=function(){var e=this,n=["toggle","focus"];this.selection.on("toggle",function(){e.toggleDropdown()}),this.selection.on("focus",function(t){e.focus(t)}),this.selection.on("*",function(i,r){-1===t.inArray(i,n)&&e.trigger(i,r)})},r.prototype._registerDropdownEvents=function(){var t=this;this.dropdown.on("*",function(e,n){t.trigger(e,n)})},r.prototype._registerResultsEvents=function(){var t=this;this.results.on("*",function(e,n){t.trigger(e,n)})},r.prototype._registerEvents=function(){var t=this;this.on("open",function(){t.$container.addClass("select2-container--open")}),this.on("close",function(){t.$container.removeClass("select2-container--open")}),this.on("enable",function(){t.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){t.$container.addClass("select2-container--disabled")}),this.on("blur",function(){t.$container.removeClass("select2-container--focus")}),this.on("query",function(e){t.isOpen()||t.trigger("open",{}),this.dataAdapter.query(e,function(n){t.trigger("results:all",{data:n,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(n){t.trigger("results:append",{data:n,query:e})})}),this.on("keypress",function(e){var n=e.which;t.isOpen()?n===i.ESC||n===i.TAB||n===i.UP&&e.altKey?(t.close(),e.preventDefault()):n===i.ENTER?(t.trigger("results:select",{}),e.preventDefault()):n===i.SPACE&&e.ctrlKey?(t.trigger("results:toggle",{}),e.preventDefault()):n===i.UP?(t.trigger("results:previous",{}),e.preventDefault()):n===i.DOWN&&(t.trigger("results:next",{}),e.preventDefault()):(n===i.ENTER||n===i.SPACE||n===i.DOWN&&e.altKey)&&(t.open(),e.preventDefault())})},r.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},r.prototype._syncSubtree=function(t,e){var n=!1,i=this;if(!t||!t.target||"OPTION"===t.target.nodeName||"OPTGROUP"===t.target.nodeName){if(e)if(e.addedNodes&&e.addedNodes.length>0)for(var r=0;r<e.addedNodes.length;r++){var o=e.addedNodes[r];o.selected&&(n=!0)}else e.removedNodes&&e.removedNodes.length>0&&(n=!0);else n=!0;n&&this.dataAdapter.current(function(t){i.trigger("selection:update",{data:t})})}},r.prototype.trigger=function(t,e){var n=r.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(e===undefined&&(e={}),t in i){var o=i[t],a={prevented:!1,name:t,args:e};if(n.call(this,o,a),a.prevented)return void(e.prevented=!0)}n.call(this,t,e)},r.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},r.prototype.open=function(){this.isOpen()||this.trigger("query",{})},r.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},r.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},r.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},r.prototype.focus=function(){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},r.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=t&&0!==t.length||(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},r.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current(function(e){t=e}),t},r.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var n=e[0];t.isArray(n)&&(n=t.map(n,function(t){return t.toString()})),this.$element.val(n).trigger("change")},r.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},r.prototype.render=function(){var e=t('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),e.data("element",this.$element),e},r}),e.define("select2/compat/utils",["jquery"],function(t){function e(e,n,i){var r,o,a=[];r=t.trim(e.attr("class")),r&&(r=""+r,t(r.split(/\s+/)).each(function(){0===this.indexOf("select2-")&&a.push(this)})),r=t.trim(n.attr("class")),r&&(r=""+r,t(r.split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&null!=(o=i(this))&&a.push(o)})),e.attr("class",a.join(" "))}return{syncCssClasses:e}}),e.define("select2/compat/containerCss",["jquery","./utils"],function(t,e){function n(){return null}function i(){}return i.prototype.render=function(i){var r=i.call(this),o=this.options.get("containerCssClass")||"";t.isFunction(o)&&(o=o(this.$element));var a=this.options.get("adaptContainerCssClass");if(a=a||n,-1!==o.indexOf(":all:")){o=o.replace(":all:","");var s=a;a=function(t){var e=s(t);return null!=e?e+" "+t:t}}var l=this.options.get("containerCss")||{};return t.isFunction(l)&&(l=l(this.$element)),e.syncCssClasses(r,this.$element,a),r.css(l),r.addClass(o),r},i}),e.define("select2/compat/dropdownCss",["jquery","./utils"],function(t,e){function n(){return null}function i(){}return i.prototype.render=function(i){var r=i.call(this),o=this.options.get("dropdownCssClass")||"";t.isFunction(o)&&(o=o(this.$element));var a=this.options.get("adaptDropdownCssClass");if(a=a||n,-1!==o.indexOf(":all:")){o=o.replace(":all:","");var s=a;a=function(t){var e=s(t);return null!=e?e+" "+t:t}}var l=this.options.get("dropdownCss")||{};return t.isFunction(l)&&(l=l(this.$element)),e.syncCssClasses(r,this.$element,a),r.css(l),r.addClass(o),r},i}),e.define("select2/compat/initSelection",["jquery"],function(t){function e(t,e,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"),this.initSelection=n.get("initSelection"),this._isInitialized=!1,t.call(this,e,n)}return e.prototype.current=function(e,n){var i=this;if(this._isInitialized)return void e.call(this,n);this.initSelection.call(null,this.$element,function(e){i._isInitialized=!0,t.isArray(e)||(e=[e]),n(e)})},e}),e.define("select2/compat/inputData",["jquery"],function(t){function e(t,e,n){this._currentData=[],this._valueSeparator=n.get("valueSeparator")||",","hidden"===e.prop("type")&&n.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."),t.call(this,e,n)}return e.prototype.current=function(e,n){function i(e,n){var r=[];return e.selected||-1!==t.inArray(e.id,n)?(e.selected=!0,r.push(e)):e.selected=!1,e.children&&r.push.apply(r,i(e.children,n)),r}for(var r=[],o=0;o<this._currentData.length;o++){var a=this._currentData[o];r.push.apply(r,i(a,this.$element.val().split(this._valueSeparator)))}n(r)},e.prototype.select=function(e,n){if(this.options.get("multiple")){var i=this.$element.val();i+=this._valueSeparator+n.id,this.$element.val(i),this.$element.trigger("change")}else this.current(function(e){t.map(e,function(t){t.selected=!1})}),this.$element.val(n.id),this.$element.trigger("change")},e.prototype.unselect=function(t,e){var n=this;e.selected=!1,this.current(function(t){for(var i=[],r=0;r<t.length;r++){var o=t[r];e.id!=o.id&&i.push(o.id)}n.$element.val(i.join(n._valueSeparator)),n.$element.trigger("change")})},e.prototype.query=function(t,e,n){for(var i=[],r=0;r<this._currentData.length;r++){var o=this._currentData[r],a=this.matches(e,o);null!==a&&i.push(a)}n({results:i})},e.prototype.addOptions=function(e,n){var i=t.map(n,function(e){return t.data(e[0],"data")});this._currentData.push.apply(this._currentData,i)},e}),e.define("select2/compat/matcher",["jquery"],function(t){function e(e){function n(n,i){var r=t.extend(!0,{},i);if(null==n.term||""===t.trim(n.term))return r;if(i.children){for(var o=i.children.length-1;o>=0;o--){var a=i.children[o];e(n.term,a.text,a)||r.children.splice(o,1)}if(r.children.length>0)return r}return e(n.term,i.text,i)?r:null}return n}return e}),e.define("select2/compat/query",[],function(){function t(t,e,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."),t.call(this,e,n)}return t.prototype.query=function(t,e,n){e.callback=n,this.options.get("query").call(null,e)},t}),e.define("select2/dropdown/attachContainer",[],function(){function t(t,e,n){t.call(this,e,n)}return t.prototype.position=function(t,e,n){n.find(".dropdown-wrapper").append(e),e.addClass("select2-dropdown--below"),n.addClass("select2-container--below")},t}),e.define("select2/dropdown/stopPropagation",[],function(){function t(){}return t.prototype.bind=function(t,e,n){t.call(this,e,n);var i=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$dropdown.on(i.join(" "),function(t){t.stopPropagation()})},t}),e.define("select2/selection/stopPropagation",[],function(){function t(){}return t.prototype.bind=function(t,e,n){t.call(this,e,n)
;var i=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$selection.on(i.join(" "),function(t){t.stopPropagation()})},t}),function(n){"function"==typeof e.define&&e.define.amd?e.define("jquery-mousewheel",["jquery"],n):"object"==typeof exports?module.exports=n:n(t)}(function(t){function e(e){var a=e||window.event,s=l.call(arguments,1),u=0,c=0,h=0,p=0,f=0,g=0;if(e=t.event.fix(a),e.type="mousewheel","detail"in a&&(h=-1*a.detail),"wheelDelta"in a&&(h=a.wheelDelta),"wheelDeltaY"in a&&(h=a.wheelDeltaY),"wheelDeltaX"in a&&(c=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(c=-1*h,h=0),u=0===h?c:h,"deltaY"in a&&(h=-1*a.deltaY,u=h),"deltaX"in a&&(c=a.deltaX,0===h&&(u=-1*c)),0!==h||0!==c){if(1===a.deltaMode){var m=t.data(this,"mousewheel-line-height");u*=m,h*=m,c*=m}else if(2===a.deltaMode){var v=t.data(this,"mousewheel-page-height");u*=v,h*=v,c*=v}if(p=Math.max(Math.abs(h),Math.abs(c)),(!o||p<o)&&(o=p,i(a,p)&&(o/=40)),i(a,p)&&(u/=40,c/=40,h/=40),u=Math[u>=1?"floor":"ceil"](u/o),c=Math[c>=1?"floor":"ceil"](c/o),h=Math[h>=1?"floor":"ceil"](h/o),d.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();f=e.clientX-y.left,g=e.clientY-y.top}return e.deltaX=c,e.deltaY=h,e.deltaFactor=o,e.offsetX=f,e.offsetY=g,e.deltaMode=0,s.unshift(e,u,c,h),r&&clearTimeout(r),r=setTimeout(n,200),(t.event.dispatch||t.event.handle).apply(this,s)}}function n(){o=null}function i(t,e){return d.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}var r,o,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(t.event.fixHooks)for(var u=a.length;u;)t.event.fixHooks[a[--u]]=t.event.mouseHooks;var d=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=s.length;n;)this.addEventListener(s[--n],e,!1);else this.onmousewheel=e;t.data(this,"mousewheel-line-height",d.getLineHeight(this)),t.data(this,"mousewheel-page-height",d.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=s.length;n;)this.removeEventListener(s[--n],e,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var n=t(e),i=n["offsetParent"in t.fn?"offsetParent":"parent"]();return i.length||(i=t("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),e.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(t,e,n,i){if(null==t.fn.select2){var r=["open","close","destroy"];t.fn.select2=function(e){if("object"==typeof(e=e||{}))return this.each(function(){var i=t.extend(!0,{},e);new n(t(this),i)}),this;if("string"==typeof e){var i,o=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=t(this).data("select2");null==n&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2."),i=n[e].apply(n,o)}),t.inArray(e,r)>-1?this:i}throw new Error("Invalid arguments for Select2: "+e)}}return null==t.fn.select2.defaults&&(t.fn.select2.defaults=i),n}),{define:e.define,require:e.require}}(),n=e.require("jquery.select2");return t.fn.select2.amd=e,n}),function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd)var t=jQuery.fn.select2.amd;t.define("select2/i18n/zh-CN",[],function(){return{errorLoading:function(){return"\u65e0\u6cd5\u8f7d\u5165\u7ed3\u679c\u3002"},inputTooLong:function(t){return"\u8bf7\u5220\u9664"+(t.input.length-t.maximum)+"\u4e2a\u5b57\u7b26"},inputTooShort:function(t){return"\u8bf7\u518d\u8f93\u5165\u81f3\u5c11"+(t.minimum-t.input.length)+"\u4e2a\u5b57\u7b26"},loadingMore:function(){return"\u8f7d\u5165\u66f4\u591a\u7ed3\u679c\u2026"},maximumSelected:function(t){return"\u6700\u591a\u53ea\u80fd\u9009\u62e9"+t.maximum+"\u4e2a\u9879\u76ee"},noResults:function(){return"\u672a\u627e\u5230\u7ed3\u679c"},searching:function(){return"\u641c\u7d22\u4e2d\u2026"}}}),t.define,t.require}(),function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd)var t=jQuery.fn.select2.amd;t.define("select2/i18n/zh-TW",[],function(){return{inputTooLong:function(t){return"\u8acb\u522a\u6389"+(t.input.length-t.maximum)+"\u500b\u5b57\u5143"},inputTooShort:function(t){return"\u8acb\u518d\u8f38\u5165"+(t.minimum-t.input.length)+"\u500b\u5b57\u5143"},loadingMore:function(){return"\u8f09\u5165\u4e2d\u2026"},maximumSelected:function(t){return"\u4f60\u53ea\u80fd\u9078\u64c7\u6700\u591a"+t.maximum+"\u9805"},noResults:function(){return"\u6c92\u6709\u627e\u5230\u76f8\u7b26\u7684\u9805\u76ee"},searching:function(){return"\u641c\u5c0b\u4e2d\u2026"}}}),t.define,t.require}(),function(){var t,e,n;window.GD||(window.GD={}),String.prototype.underscore=function(){return this.trim().replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},String.prototype.dasherize=function(){return this.replace(/_/g,"-")},$.fn.removeClassRegExp=function(t){return $(this).removeClass(function(e,n){var i,r,o,a,s;for(r=[],s=n.split(" "),o=0,a=s.length;o<a;o++)i=s[o],t.test(i)&&r.push(i);return r.join(" ")}),this},jQuery.extend({getQueryParameters:function(t){return t=t||document.location.href,-1===t.indexOf("?")?{}:t.split("?")[1].split("&").map(function(t){return t=t.split("="),this[t[0]]=t[1],this}.bind({}))[0]}}),GD.isRetina=function(){return window.devicePixelRatio>1},GD.addParamToUrl=function(){return function(t,e,n){var i;return e&&n?(i=$.getQueryParameters(t),i[e]=n,t.split("?")[0]+"?"+$.param(i)):t}}(),GD.isIE=function(){var t,e;return e=navigator.userAgent.toLowerCase(),null!=(t=-1!==e.indexOf("msie")||-1!==e.indexOf("trident"))?t:{"true":!1}},GD.isMac=function(){return/Mac/i.test(navigator.userAgent)},GD.formatDateTime=function(t){return moment(t,moment.ISO_8601).format("YYYY-MM-DD HH:mm:ss")},GD.delay=function(t,e){return setTimeout(e,t)},GD.recalcFormHeight=function(){return $(window).trigger("customLoad")},GD.htmlSafe=function(t){return _.escape(t)},GD.htmlSafeWithLineBreak=function(t){return GD.htmlSafe(t).replace(/\n/g,"<br/>")},GD.htmlSafeWithParagraph=function(t){var e;if(e=GD.htmlSafe(t).replace(/\r\n+/g,"\n"),e=$.trim(e),e.length>0)return e=e.replace(/\n\n+/g,"</p><p>"),e="<p>"+e+"</p>"},GD.removeFileSuffix=function(t){return t.substr(0,t.lastIndexOf("."))},GD.isEmpty=function(t){return null===t||""===t},GD.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},GD.isPhoneLink=function(t){return GD.REGEXP.telProtocol.test(t)},GD.updateMathJax=function(){return"undefined"!=typeof MathJax&&null!==MathJax?MathJax.Hub.Queue(["Typeset",MathJax.Hub]):void 0},GD.formatDate=function(t,e){return null==e&&(e="YYYY-MM-DD"),_.isDate(t)?moment(t).format(e+" "):t},GD.parseDate=function(t,e){var i,r;return null==e&&(e="YYYY-MM-DD"),i=new Date,""===t||void 0===t||null===t?null:("yesterday"===t?t="before_1":"tomorrow"===t&&(t="after_1"),"today"===t?i:-1!==t.indexOf("before")?(r=parseInt(t.split("_")[1]),n(i,r,e),i):-1!==t.indexOf("after")?(r=parseInt(t.split("_")[1]),n(i,-1*r,e),i):new Date(t))},n=function(t,e,n){return null==n&&(n="YYYY-MM-DD"),"YYYY"===n?t.setFullYear(t.getFullYear()-e):"YYYY-MM"===n?t.setMonth(t.getMonth()-e):t.setDate(t.getDate()-e)},e=function(t){var e;return e=t.toString().split("."),e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")},GD.prettyFormatNumber=function(n,i,r,o){var a,s,l;return null==o&&(o=!1),void 0===n||GD.isEmpty(n)?"":r?(a=t(n),i?(s=i-2,s<0&&(s=0),a.toFixed(s)+"%"):a+"%"):(l=i?parseFloat(n).toFixed(i):n,o?e(l):l)},t=function(t){var e,n,i;return i=t.toString().split("."),i.length<2?100*t:(e=i[1].length,n=0===e?i[1]+"00":1===e?i[1]+"0":2===e?i[1]:i[1].slice(0,2)+"."+i[1].slice(2),parseFloat(""+i[0]+n))},GD.extractExistedQueryParams=function(){var t,e;return t={},url("?order")&&(t.order=url("?order")),url("?per_page")&&(t.per_page=url("?per_page")),url("?query")&&(t.query=url("?query")),url("?serial_number")&&(t.serial_number=url("?serial_number")),url("?start")&&(t.start=url("?start")),url("?end")&&(t.end=url("?end")),$.isEmptyObject(null!=(e=GD.filterParams)?e.data:void 0)||(t=$.extend(t,GD.filterParams.data)),t},GD.isAndroidDevice=function(){return navigator.userAgent.indexOf("Android")>0},GD.isIOSDevice=function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},GD.isOpenInWeiXin=function(){return navigator.userAgent.indexOf("MicroMessenger")>0&&navigator.userAgent.indexOf("WindowsWechat")<0},GD.reloadCurrentPage=function(){var t;return GD.isAndroidDevice()&&GD.isOpenInWeiXin()?(t=GD.addParamToUrl(window.location.href,"_t",(new Date).getTime()),window.location.href=t):window.location.reload()},GD.createKeyboardEvent=function(t){var e;return e=$.Event("keydown"),e.keyCode=t,e.customEvent=!0,e},GD.renderQrcode=function(t,e,n,i){var r,o,a;return a={size:n,text:e},i&&$(i).length>0&&(a.minVersion=4,a.ecLevel="H",a.mode=4,a.mPosX=.5,a.mPosY=.5,a.mSize=.2,a.image=$(i)[0]),Modernizr.canvas?"function"==typeof(r=t.empty()).qrcode?r.qrcode(a):void 0:(a.render="div","function"==typeof(o=t.empty()).qrcode?o.qrcode(a):void 0)},GD.validateFile=function(t,e,n,i){var r;return r=[],t.name.indexOf("%3A")>0||("."===t.name.substr(0,1)&&r.push(l("%warn_system_file")),t.name.length>200&&r.push(l("%file_name_too_long")),n&&!n.test(t.name)&&r.push(l("%warn_invalid_filetype")),/.*\.(exe|bat)$/gi.test(t.name)&&r.push(l("%warn_exec_file"))),t.size&&t.size>e&&r.push(l((null!=i?i.simple:void 0)?"%warn_oversize_simple":"%warn_oversize",{maxSize:GD.numberToHumanSize(e)})),r},GD.validateURL=function(t){var e;return!$.trim(t)||(e=/^(https:\/\/|http:\/\/)?(((([a-zA-Z]|\d|-|\.|_|~)|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-zA-Z]|\d)|(([a-zA-Z]|\d)([a-zA-Z]|\d|-|\.|_|~)*([a-zA-Z]|\d)))\.)+(([a-zA-Z])|(([a-zA-Z])([a-zA-Z]|\d|-|\.|_|~)*([a-zA-Z])))\.?)(:\d*)?)(\/((([a-zA-Z]|\d|-|\.|_|~)|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-zA-Z]|\d|-|\.|_|~)|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-zA-Z]|\d|-|\.|_|~)|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?(\#((([a-zA-Z]|\d|-|\.|_|~)|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/,e.test($.trim(t)))},GD.isLowVersionIE=function(){var t;return t=navigator.userAgent.toLowerCase(),-1!==t.indexOf("msie")&&parseInt(myNav.split("msie")[1])<10},GD.isMobileNumber=function(t){var e;return e=/^1\d{10}$/,e.test(t)},GD.getStringLength=function(t){var e;return t?(e=t.match(/[^x00-xff]/gi),t.length+(e?e.length:0)):0},GD.numberToHumanSize=function(t){var e,n,i;return t?(n=t/1024)<1024?n.toFixed(0)+" KB":(i=n/1024)<1024?i.toFixed(i===Math.round(i)?0:1)+" MB":(e=i/1024,e.toFixed(e===Math.round(e)?0:1)+" GB"):null},GD.numberToCurrencyFloat=function(t){return parseFloat(t).toFixed(2)},GD.PLACEHOLDER_REPLACE_REGEX=/\$\(.+?\)\$/g,GD.FORMULA_PLACEHOLDER_REPLACE_REGEX=/((SUM|MAX|MIN|AVG|COUNT)\(\$\(.+?\)\$\)|\$\(.+?\)\$)/g,GD.pollingDataFromServer=function(t,e,n,i,r){var o,a,s;return null==r&&(r=null),o=0,s=null,a=function(){return $.getJSON(n,function(t){return o>e?(clearInterval(s),null!==r?r("polling finished without successfully"):void 0):(o++,i(t,s))}).fail(function(){if(clearInterval(s),null!==r)return r()})},s=setInterval(a,t)},GD.SYSTEM_TAGS={ALL_FORMS_TAG_ID:"all_forms",UNTAGGED_ID:"untagged",SHARED_FORMS_TAG_ID:"shared_forms"},GD.toSentence=function(t){return t?t.join(l("%common_separator")).replace(/\s/g,""):""},GD.pascalCase=function(t){var e;return e=$.camelCase(t),e.substring(0,1).toUpperCase()+e.substring(1)},$.fn.serializeObject=function(){var t,e;return e={},t=this.serializeArray(),$.each(t,function(){return void 0!==e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e},GD.cacheToLocalStorage=function(t,e,n){try{return"undefined"!=typeof localStorage&&null!==localStorage?localStorage.setItem(t,e):void 0}catch(i){return i,n?"undefined"!=typeof localStorage&&null!==localStorage?localStorage.clear():void 0:("undefined"!=typeof localStorage&&null!==localStorage&&localStorage.removeItem("columbusCachedformCreateModal"),"undefined"!=typeof localStorage&&null!==localStorage&&localStorage.removeItem("cachedformCreateModal"),GD.cacheToLocalStorage(t,e,!0))}},GD.cookieExpireMinutes=function(t){var e;return e=new Date,e.setTime(e.getTime()+60*t*1e3),e},$.validator&&$.extend($.validator.methods,{mobile:function(t,e){return this.optional(e)||GD.REGEXP.mobile.test(t)}}),"undefined"!=typeof _&&null!==_&&(_.templateSettings={evaluate:/\[\[(.+?)\]\]/g,interpolate:/\{\{(.+?)\}\}/g,escape:/\{\{-(.+?)\}\}/g}),String.prototype.replaceAll=function(t,e){return this.replace(new RegExp(t,"g"),e)},GD.debounce=function(t,e,n){var i;return i=void 0,function(){var r,o,a,s;a=this,r=arguments,s=function(){i=null,n||t.apply(a,r)},o=n&&!i,clearTimeout(i),i=setTimeout(s,e),o&&t.apply(a,r)}},GD.stripSpecialSpaces=function(t){return null!=t?t.replace(GD.REGEXP.nonPrintableGeneralPunctuation,""):void 0}}.call(this),function(){var t;window.GD||(window.GD={}),GD.switcheryMainColor="#44DB5E",GD.adaptDevice=function(t){var e;return e=GD.isMobile?"mlarge":"xlarge",t?""+t+e:e},GD.addRetinaSuffix=function(t,e){var n;return n=GD.isMobile||!GD.isRetina()?"":"Retina",t+"@"+e+n},GD.adaptRetina=function(){var t,e,n,i,r,o,a,s;for(a=$(".need-adapt-retina"),s=[],n=0,o=a.length;n<o;n++)i=a[n],t=$(i),e=GD.adaptDevice(t.data("img-prefix")),r=GD.addRetinaSuffix(t.data("img-url"),e),s.push(t.attr("src",r));return s},GD.adaptVerticalPoistion=function(t){var e;return e=($(window).height()-t.height())/2,t.css({top:e})},GD.showLoading=function(t,e,n){return null==t&&(t="#entries_grid"),null==e&&(e="entries"),null==n&&(n=""),0===$(t).find(".cover").length&&$(t).css("position","relative").append("<div class='cover "+n+"'></div>"),$(".loading[data-target="+e+"]").show()},GD.hideLoading=function(t,e){return $(t).css("position","").find(".cover").remove(),$(".loading[data-target="+e+"]").hide()},GD.focusToEnd=function(t){var e;return e=t.val(),""===e||/\n$/.test(e)||(e+="\n"),t.focus().val("").val(e)},GD.writeContentToIframe=function(t,e){var n;return n=$(t)[0].contentWindow.document,n.open(),n.write(e),n.close()},GD.isTextOverflow=function(t){var e;return!!(e=t[0])&&e.scrollWidth>e.offsetWidth},GD.loadWithLoading=function(t,e,n,i){return GD.showLoading(e,n),e.load(t,function(){return GD.hideLoading(e,n),"function"==typeof i?i():void 0})},GD.showTooltipErrorIfHave=function(t,e){if(e)return t.parent().is(".gd-input-prepend, .gd-input-append, .input-group")?t.parent().addClass("has-error"):t.wrap("<div class='has-error'>"),t.gdCustomTooltip({content:"<div class='error'><i class='gd-icon-times-circle'></i> "+e+"</div>"}).tooltipster("show")},GD.clearTooltipError=function(t){if(t.parent(".gd-input-prepend, .gd-input-append, .input-group").is(".has-error")?t.parent().removeClass("has-error"):t.parent().is(".has-error")&&t.unwrap(),t.hasClass("tooltipstered"))return t.tooltipster("destroy")},GD.showTooltipFlashMessage=function(t,e,n,i){var r;return null==i&&(i="bottom"),r=function(){switch(e){case"success":return"<div class='success'><i class='gd-icon-check-circle'></i> "+n+"</div>";case"error":return"<div class='error'><i class='gd-icon-times-circle'></i> "+n+"</div>";default:return n}}(),t.hasClass("tooltipstered")&&t.tooltipster("destroy"),t.gdCustomTooltip({content:r,position:i,timer:2e3}).tooltipster("show")},GD.showErrorMessageBelow=function(t,e){var n;if(t&&e)return n=$("<div class='error-message'>"+e+"</div>"),t.parent().is(".gd-input-prepend, .gd-input-append, .input-group")&&(t=t.parent()),t.wrap("<div class='has-error'>"),t.after(n)},GD.clearErrorMessageBelow=function(t){if(t)return t.parent().is(".gd-input-prepend, .gd-input-append, .input-group")&&(t=t.parent()),t.parent().is(".has-error")?(t.parent().find(".error-message").remove(),t.unwrap()):void 0},GD.showErrorMessageBesides=function(t,e,n,i){var r;if(null==n&&(n=!1),null==i&&(i=!1),r=i?"":"<i class='gd-icon-times-circle'></i>",0===$(t).find(".inline-error-message").length&&$(t).append("<div class='inline-error-message'>"+r+e+"</div>"),!n)return setTimeout(function(){return $(t).find(".inline-error-message").fadeOut().remove()},3e3)},GD.removeErrorMessageBesides=function(t){return $(t).find(".inline-error-message").fadeOut().remove()},GD.initClipboard=function(t){return function(){return GD.showFlashNotification("\u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u76f4\u63a5\u590d\u5236\uff0c\u8bf7\u624b\u52a8\u590d\u5236\uff01","danger")},$(t).mouseenter(function(){var e;if(!$(t).data("clipboardInitialied")&&!$(t).is(".disabled"))return e=new Clipboard(t),$(t).data("clipboardInitialied",!0),e.on("success",function(t){return GD.showFlashNotification($(t.trigger).data("message")||"\u590d\u5236\u6210\u529f")}),e.on("error",function(){var e;return e=GD.isMac()?"\u4f7f\u7528\u2318-C\u590d\u5236":"\u4f7f\u7528Ctrl-C\u590d\u5236",$(t).hasClass("tooltipstered")?$(t).tooltipster("content",e):$(t).gdClickTooltip({content:e,theme:"gd-tooltip-mini"}).tooltipster("show")})})},GD.disableBtn=function(t){var e;if(e=$(t),e.length>0&&!e.hasClass("disabled"))return e.data("disabled-with")&&e.data("disable-with",e.data("disabled-with")),GD.disableElement(e)},GD.enableBtn=function(t){var e;if(e=$(t),e.length>0&&e.hasClass("disabled"))return e.removeClass("disabled"),$.rails.enableElement(e)},GD.disableElement=function(t){if(t.length)return $.rails.disableElement(t),t.addClass("disabled")},GD.enableElement=function(t){if(t.length)return $.rails.enableElement(t),t.removeClass("disabled disabled-with-cursor-auto")},GD.syncHeight=function(t,e){return e.css({height:t.outerHeight()})},GD.updateModalHeight=function(t,e,n,i){var r,o,a,s,l;if(null==e&&(e=".modal-body"),null==n&&(n=null),null==i&&(i=null),r=$(t).find(e),0!==r.length)return n||(n=$(t).find(".modal-header").outerHeight()+(null!=(l=$(t).find(".modal-footer").outerHeight())?l:0)),a=o=.8*$(window).height()-n,s=$(t).find(".modal-dialog"),r.get(0).scrollHeight>o?($(s).css({top:"1%"}),a=.9*$(window).height()-n):$(s).css({top:"10%"}),i?i(a):void 0},GD.updateSubmitBtn=function(){var t,e,n,i,r;return i=$(".submit-field input.submit, .entry-show .actions [data-role='submit']"),r=null!=(e=i.data("fileUploading"))?e:0,r<0&&i.data("fileUploading",0),t=null!=(n=r>0||i.data("no-goods-selected")||i.data("weixin-openid-fetching")||i.data("dingding-user-info-fetching")||i.data("disabled-by-error"))&&n,i.attr("disabled",t)},GD.showConfirmBox=function(t,e,n){var i;return i="<div id='gd_confirm_modal' class='modal light' tabindex='-1' role='dialog' hidden='true'>\n  <div class='modal-dialog modal-sm'>\n    <div class='modal-content'>\n      <div class='modal-header'><h4 class=\"modal-title\">"+t+"</h4></div>\n      <div class='modal-body clearfix'> "+e+" </div>\n      <div class='modal-footer'>\n        <a data-role='ok' class='gd-btn gd-btn-primary' href='javascript:void(0)'>\u786e\u5b9a</a>\n        <a data-dismiss='modal' class='gd-btn gd-btn-info' href='javascript:void(0)'>\u53d6\u6d88</a>\n      </div>\n    </div>\n  </div>\n</div>",$("#gd_confirm_modal").remove(),$("body").append(i),$("#gd_confirm_modal").modal("show"),$("#gd_confirm_modal [data-role=ok]").one("click",function(){if($(this).closest(".modal").modal("hide"),n)return n()})},GD.updateRadioBtnGroupStatus=function(t){var e;return e=t.is(".gd-btn")?t:t.closest(".gd-btn"),e.siblings(".gd-btn.selected").removeClass("selected"),e.addClass("selected")},GD.turbolinksReloadWithCurrentPosition=function(){var t,e;return e=void 0,t=function(){return e=[window.scrollX,window.scrollY],Turbolinks.visit(window.location.toString(),{action:"replace"})},document.addEventListener("turbolinks:load",function(){if(e)return window.scrollTo.apply(window,e),e=null}),t}(),GD.turbolinksReloadAndShowMessage=function(t){return $(document).one("turbolinks:load",function(){return GD.showFlashNotification(t)}),GD.turbolinksReloadWithCurrentPosition()},GD.turbolinksVisitAndShowMessage=function(t,e){return $(document).one("turbolinks:load",function(){return GD.showFlashNotification(e)}),Turbolinks.visit(t)},GD.insertFieldsBaseTooltip=function(t){return $(t).gdClickTooltip({contentCloning:!1,autoClose:!1,theme:"field-placeholder-selector gd-tooltip-menu-over",content:$(t).next(".gd-hide").children("div"),functionReady:function(t){return setTimeout(function(){return $(document).one("click","*:not(.tooltipster-content)",function(){return t.tooltipster("hide")})},100)},functionAfter:function(){return $(document).off("click","*:not(.tooltipster-content)")}})},GD.toggleWithInput=function(t,e,n,i){var r,o;if(null==n&&(n=!0),r=$(t),o=n?200:0,e?r.slideDown(o,i):r.slideUp(o,i),r.find("input, select").prop("disabled",!e),r.is("option"))return r.prop("disabled",!e)},GD.fitVids=function(t){return"function"==typeof t.fitVids?t.fitVids({customSelector:"iframe[src*='//player.youku.com'], iframe[src*='//v.qq.com']"}):void 0},GD.searchUser=function(t){var e,n;return n=$(".user-search-container input[type=text]"),e=$.trim(GD.stripSpecialSpaces(n.val())),0===e.length?void t.removeClass("hide"):_(t).map(function(t){return $(t).toggleClass("hide",-1===$(t).find(".email").text().slice(1,-1).indexOf(e)&&-1===$(t).find(".name").text().indexOf(e))})},$(document).on("turbolinks:load ajax:complete",function(){var t,e,n,i,r,o,a,s;if(t=$("a[data-role=copy]"),0!==t.length)for(e=0,i=t.length;e<i;e++)s=t[e],GD.initClipboard(s);return r=$(".qrcode"),r.length>0&&(a=r.data("text"),n=r.data("image"),a&&(o=r.data("size")||175,GD.renderQrcode(r,a,o,n))),$(".radio-card input:checked").closest(".radio-card").addClass("active")}),$(document).on("change",".radio-card input",function(){var t;return t=$("[name='"+$(this).attr("name")+"']"),t.closest(".radio-card.active").removeClass("active"),t.filter(":checked").closest(".radio-card").addClass("active")}),$(document).on("click","a[data-disabled-with], input[type=submit][data-disabled-with]",function(){return GD.disableBtn($(this))}),$(document).on("click",".search-box .search-icon",function(){return $(this).siblings("input[type=search]").focus()}),$(document).on("change",".search-box input[type=search]",function(){var t;return t=!!$.trim($(this).val()),$(this).toggleClass("has-value",t)}),$(document).on("click",".gd-btn-radio-group .gd-btn",function(){return GD.updateRadioBtnGroupStatus($(this))}),$(document).on("click","a.disabled, a.prevent-default",function(t){return t.preventDefault()}),$(document).on("click","#switch_to_mobile",function(){return $.removeCookie("platform",{path:"/"})}),$(document).on("ajax:complete","form.need-ajax-flash",function(t,e,n){return"success"===n?GD.showFlashNotification($(this).data("success-flash")||"\u8bbe\u7f6e\u4fdd\u5b58\u6210\u529f"):GD.showFlashNotification($(this).data("error-flash")||"\u8bbe\u7f6e\u4fdd\u5b58\u5931\u8d25","danger")}),$(document).on("change",".on-change-submit",function(){return $(this).closest("form").submit()}),$(".need-select2:visible").livequery(function(){var t,e,n,i;return i={language:String.locale},t=$(this),t.data("overflow-hidden")&&(i.dropdownCssClass="overflow-hidden"),e=t.data("dropdown-parent-selector"),e&&(i.dropdownParent=$(e)),t.data("hide-search")&&(i.minimumResultsForSearch=-1),t.data("with-icon")&&(i.templateResult=function(t){var e;return t.id?(e=$(t.element),e.data("icon")?$("<span><i class='"+e.data("icon")+"'></i> "+e.text()+"</span>"):e.text()):t.text}),n=function(t){return _(t.parent().prevAll().find("[data-role=select_filter]")).reduce(function(t,e){var n;return n=$(e),n.val()&&(t[n.data("filter-key")]=n.val()),t},{})},t.data("ajax--url")&&(i.ajax={delay:t.data("ajax--delay")||250,cache:!0},t.data("ajax--filter")&&(i.ajax.data=function(e){return{q:e.term,page:e.page,filters:n(t)}})),t.select2(i)}),$(document).on("focusin","input.select2-search__field",function(t){return t.stopPropagation()}),$(".select2-search__field").livequery(function(){return $(this).parent().is(".select2-search--inline")&&$(this).prop("disabled",!0),$(this).on("click",function(){return $(this).focus()})}),GD.triggerShowModal=function(){var t,e;if(e="function"==typeof url?url("?modal_trigger_id"):void 0)return t=$("#"+decodeURIComponent(e)),t.length?t.trigger("click"):void 0},$(document).on("turbolinks:load",function(){return GD.isMobile=$(".mobile-device").length>0,GD.isPhone=$(".phone-device").length>0,setTimeout(GD.triggerShowModal,150),GD.adaptRetina()}),$("[data-feature-name]").livequery(function(){var t,e;if(t=$(this).data("feature-name").underscore(),$(this).is(".paid-feature")&&0===$(this).next(".gd-btn-paid-feature").length&&(e=$(this).data("paid-feature-label")||"\u4ed8\u8d39\u529f\u80fd",$(this).after(" <a class='gd-btn gd-btn-paid-feature' href='#paid_feature_"+t+"_modal' data-toggle='modal'>"+e+"</a>")),$(this).data("need-upgrade"))return $(this).attr({"data-toggle":"modal","data-target":"#paid_feature_"+t+"_modal"})}),GD.updateUploadHeaderImagePreview=function(t,e){return t.find("img").length?t.find("img").replaceWith(e):e?t.prepend(e):void 0},t=function(t){var e,n,i,r;return e=t.dropdown.$dropdown,e.find(".select2-search").length?e.find(".select2-search__field").val("").focus():(i=$('<input class="select2-search__field" type="search" tabindex="0" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" autofocus>'),n=$('<span class="select2-search select2-search--dropdown">').html(i),r=t.selection.$search,i.on("input",function(){return r.val(i.val()),r.trigger("input")}),i.on("keyup",function(e){switch(e.keyCode){case 38:return t.trigger("results:previous");case 40:return t.trigger("results:next");case 13:return t.trigger("results:toggle")}}),e.prepend(n))},$(document).on("select2:open",".need-select2[multiple]",function(){return t($(this).data("select2"))}),$(document).on("select2:select",".need-select2[multiple]",function(t){return $(t.params.originalEvent.currentTarget).trigger("mouseenter")}),$(".select2-selection--multiple").livequery(function(){var t,e;if(t=$(this).closest(".select2").data("element"),e=t.data("prompt"))return $(this).find(".select2-search").prepend("<span class='select2-selection__prompt'>"+GD.htmlSafe(e)+"</span>")}),$.fn.shuffleChildren=function(t){var e,n,i;for(n=$(this.get()),e=n.children(t?":not(:first-child)":""),i=[];e.length;)i.push(n.append(e.splice(Math.floor(Math.random()*e.length),1)[0]));return i}}.call(this),function(){window.GD||(window.GD={}),$(function(){var t,e;return e="gd-tooltip-light",t=function(t,n,i){var r,o,a,s,l;return o={position:"bottom",theme:e,delay:0,speed:10,contentAsHTML:!0,interactive:!0,interactiveTolerance:0},r=t.data("tooltip-theme"),r&&(i.theme=$.trim(i.theme+" "+r)),i.theme&&(i.theme=e+" "+i.theme),l=function(t,e){var n;if(e.one("click","[data-dismiss=tooltipster]",function(){var n,i,r,o,a,s,l;if("shown"===t.tooltipster("status"))return t.tooltipster("hide"),n=$(e).data("backdrop"),n.fadeOut(300,"linear",function(){return n.remove()});for(o=t.data("tooltipster-ns"),s=[],i=0,r=o.length;i<r;i++)l=o[i],s.push(null!=(a=t.data(l.replace("-","")))?a.hide():void 0);return s}),e.on("click change",".with-impact-on-tooltip-size",function(){return setTimeout(function(){return t.tooltipster("reposition")},i.repositionDelay||5)}),e.find(".tooltipster-content").css({maxHeight:.9*$(window).height()}),!0===i.backdrop&&(n=$('<div class="gd-tooltip-backdrop gd-hide"></div>'),$(e).data("backdrop",n).after(n),n.fadeIn(300,"linear")),t.addClass("active"),"function"==typeof i.functionReady)return i.functionReady(t,e)},s=function(t){var e;if(0===$(".tooltipster-base").length&&(e=$("body>.gd-tooltip-backdrop"),e.fadeOut(300,"linear",function(){return e.remove()})),t.data("tooltipster-ns")&&"shown"!==t.tooltipster("status")&&t.removeClass("active"),"function"==typeof i.functionAfter)return i.functionAfter(t)},a=$.extend(o,n,i,{functionReady:l,functionAfter:s}),t.each(function(){return $(this).tooltipster(a)})},$.fn.gdHoverTooltip=function(e){var n;return null==e&&(e={}),n={trigger:"hover",interactiveTolerance:500},t(this,n,e)},$.fn.gdClickTooltip=function(e){var n;return null==e&&(e={}),n={trigger:"click"},t(this,n,e)},$.fn.gdCustomTooltip=function(e){var n;return null==e&&(e={}),n={trigger:"custom"},t(this,n,e)},$(".with-tooltip").livequery(function(){var t;return t=function(t){var e,n;return t.data("content-target")?t.parent().find(t.data("content-target")).html():null!=(e=t.attr("title")||t.data("title"))&&null!=(n=e.replace(/\<(script)/gi,"&lt;$1"))?n.replace(/\<\/(script)\>/gi,"&lt;/$1&gt;"):void 0},$(this).gdHoverTooltip({multiple:!0,position:$(this).data("tooltip-position")||"bottom",offsetY:$(this).data("tooltip-offset-y")||0,interactiveTolerance:$(this).data("interactive-tolerance")||0,contentAsHTML:!0,maxWidth:$(this).data("tooltip-max-width")||null,theme:$(this).data("tooltip-theme")||"gd-tooltip-mini",content:t($(this)),functionBefore:function(t,e){if(t.hasClass("with-tooltip"))return e()},functionReady:function(t,e){return e.css({zIndex:9999999})},functionAfter:function(){return function(t){if(t.data("need-reset-after-hide"))return t.tooltipster("update",t.attr("title")||t.data("title"))}}()})}),$("[data-toggle=tooltipster]").livequery(function(){return $(this).click(function(){return $(".tooltipstered").not(this).tooltipster("hide")})}),GD.tooltipInitialized=function(t){return t.hasClass("tooltipstered")}})}.call(this),function(){var t;GD.enhanceDateField=function(t){var e,n,i;if(!$("body").is(".mobile-device"))return e=t.find("input[type=date], input[data-role=date]").addClass("transformed-date-input"),e.each(function(){var t;return t=$(this).val(),$(this).attr({type:"text"}).val(t)}),n=e.css("display"),i={},n&&(i.display=n),e.closest(".gd-input-container").addClass("gd-input-date").css(i)},t=function(){function t(t,e){var n,i,r;n={language:String.locale||"zh-CN",format:"yyyy-mm-dd",autoclose:!0,orientation:"auto left",todayHighlight:!0,zIndexOffset:200},e=$.extend(n,e||{}),i=$(t).data("date-format"),i&&(e.format=i),r=$(t).data("date-mode"),r&&(e.minViewMode=r),$(t).datepicker(e).on("show hide",function(t){return t.stopPropagation()}),$(t).siblings(".gd-input-icon").click(function(){if(!$(t).prop("readonly"))return $(t).focus()})}return t}(),GD.initDatePicker=function(e,n){var i,r,o,a,s;for(null==n&&(n=null),GD.enhanceDateField(e),a=e.find(".transformed-date-input"),s=[],r=0,o=a.length;r<o;r++)i=a[r],s.push(new t(i,n));return s},$(document).on("turbolinks:load ajax:complete",function(){if(!($(".dashboard").length>0))return GD.initDatePicker($(document))})}.call(this),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.GD.lightbox=e(t.jQuery)}(this,function(t){function e(e){this.album=[],this.currentImageIndex=void 0,this.init(),this.options=t.extend({},this.constructor.defaults),this.option(e)}return e.defaults={albumLabel:"Image %1 of %2",alwaysShowNavOnTouchDevices:!1,fadeDuration:500,fitImagesInViewport:!0,positionFromTop:50,resizeDuration:700,showImageNumberLabel:!0,wrapAround:!1,onImageShown:null},e.prototype.option=function(e){t.extend(this.options,e)},e.prototype.imageCountLabel=function(t,e){return this.options.albumLabel.replace(/%1/g,t).replace(/%2/g,e)},e.prototype.init=function(){this.enable(),this.build()},e.prototype.enable=function(){var e=this;t("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(n){return e.start(t(n.currentTarget)),!1})},e.prototype.build=function(){var e=this;t('<div id="lightboxOverlay" class="lightboxOverlay"></div><div id="lightbox" class="lightbox"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" /><div class="lb-nav"><a class="lb-prev" href="" ></a><a class="lb-next" href="" ></a></div><div class="lb-loader"><a class="lb-cancel"></a></div></div></div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"></span><span class="lb-number"></span></div><div class="lb-closeContainer"><a class="lb-close"></a></div></div></div></div>').appendTo(t("body")),
this.$lightbox=t("#lightbox"),this.$overlay=t("#lightboxOverlay"),this.$outerContainer=this.$lightbox.find(".lb-outerContainer"),this.$container=this.$lightbox.find(".lb-container"),this.containerTopPadding=parseInt(this.$container.css("padding-top"),10),this.containerRightPadding=parseInt(this.$container.css("padding-right"),10),this.containerBottomPadding=parseInt(this.$container.css("padding-bottom"),10),this.containerLeftPadding=parseInt(this.$container.css("padding-left"),10),this.$overlay.hide().on("click",function(){return e.end(),!1}),this.$lightbox.hide().on("click",function(n){return"lightbox"===t(n.target).attr("id")&&e.end(),!1}),this.$outerContainer.on("click",function(n){return"lightbox"===t(n.target).attr("id")&&e.end(),!1}),this.$lightbox.find(".lb-prev").on("click",function(){return 0===e.currentImageIndex?e.changeImage(e.album.length-1):e.changeImage(e.currentImageIndex-1),!1}),this.$lightbox.find(".lb-next").on("click",function(){return e.currentImageIndex===e.album.length-1?e.changeImage(0):e.changeImage(e.currentImageIndex+1),!1}),this.$lightbox.find(".lb-loader, .lb-close").on("click",function(){return e.end(),!1})},e.prototype.start=function(e){function n(t){i.album.push({link:t.attr("href"),title:t.attr("data-title")||t.attr("title"),target:t})}var i=this,r=t(window);r.on("resize",t.proxy(this.sizeOverlay,this)),t("/*select, */object, embed").css({visibility:"hidden"}),this.sizeOverlay(),this.album=[];var o,a=0,s=e.attr("data-lightbox");if(s){o=t(e.prop("tagName")+'[data-lightbox="'+s+'"]');for(var l=0;l<o.length;l=++l)n(t(o[l])),o[l]===e[0]&&(a=l)}else if("lightbox"===e.attr("rel"))n(e);else{o=t(e.prop("tagName")+'[rel="'+e.attr("rel")+'"]');for(var u=0;u<o.length;u=++u)n(t(o[u])),o[u]===e[0]&&(a=u)}var d=r.scrollTop()+this.options.positionFromTop,c=r.scrollLeft();this.$lightbox.css({top:d+"px",left:c+"px"}).fadeIn(this.options.fadeDuration),this.changeImage(a)},e.prototype.changeImage=function(e){var n=this;this.disableKeyboardNav();var i=this.$lightbox.find(".lb-image");this.$overlay.fadeIn(this.options.fadeDuration),t(".lb-loader").fadeIn("slow"),this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide(),this.$outerContainer.addClass("animating");var r=new Image;r.onload=function(){var o,a,s,l,u,d;i.attr("src",n.album[e].link),t(r),i.width(r.width),i.height(r.height),n.options.fitImagesInViewport&&(d=t(window).width(),u=t(window).height(),l=d-n.containerLeftPadding-n.containerRightPadding-20,s=u-n.containerTopPadding-n.containerBottomPadding-120,n.options.maxWidth&&n.options.maxWidth<l&&(l=n.options.maxWidth),n.options.maxHeight&&n.options.maxHeight<l&&(s=n.options.maxHeight),(r.width>l||r.height>s)&&(r.width/l>r.height/s?(a=l,o=parseInt(r.height/(r.width/a),10),i.width(a),i.height(o)):(o=s,a=parseInt(r.width/(r.height/o),10),i.width(a),i.height(o)))),n.sizeContainer(i.width(),i.height())},r.src=this.album[e].link,this.currentImageIndex=e},e.prototype.sizeOverlay=function(){this.$overlay.width(t(window).width()).height(t(document).height())},e.prototype.sizeContainer=function(t,e){function n(){i.$lightbox.find(".lb-dataContainer").width(a),i.$lightbox.find(".lb-prevLink").height(s),i.$lightbox.find(".lb-nextLink").height(s),i.showImage()}var i=this,r=this.$outerContainer.outerWidth(),o=this.$outerContainer.outerHeight(),a=t+this.containerLeftPadding+this.containerRightPadding,s=e+this.containerTopPadding+this.containerBottomPadding;r!==a||o!==s?this.$outerContainer.animate({width:a,height:s},this.options.resizeDuration,"swing",function(){n()}):n()},e.prototype.showImage=function(){this.$lightbox.find(".lb-loader").stop(!0).hide(),this.$lightbox.find(".lb-image").fadeIn("slow"),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()},e.prototype.updateNav=function(){var t=!1;try{document.createEvent("TouchEvent"),t=!!this.options.alwaysShowNavOnTouchDevices}catch(t){}this.$lightbox.find(".lb-nav").show(),this.album.length>1&&(this.options.wrapAround?(t&&this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1"),this.$lightbox.find(".lb-prev, .lb-next").show()):(this.currentImageIndex>0&&(this.$lightbox.find(".lb-prev").show(),t&&this.$lightbox.find(".lb-prev").css("opacity","1")),this.currentImageIndex<this.album.length-1&&(this.$lightbox.find(".lb-next").show(),t&&this.$lightbox.find(".lb-next").css("opacity","1"))))},e.prototype.updateDetails=function(){var e=this;if("undefined"!=typeof this.album[this.currentImageIndex].title&&""!==this.album[this.currentImageIndex].title&&this.$lightbox.find(".lb-caption").html(this.album[this.currentImageIndex].title).fadeIn("fast").find("a").on("click",function(){t(this).attr("target")!==undefined?window.open(t(this).attr("href"),t(this).attr("target")):location.href=t(this).attr("href")}),this.album.length>1&&this.options.showImageNumberLabel){var n=this.imageCountLabel(this.currentImageIndex+1,this.album.length);this.$lightbox.find(".lb-number").text(n).fadeIn("fast")}else this.$lightbox.find(".lb-number").hide();this.$outerContainer.removeClass("animating"),this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration,function(){return e.sizeOverlay()}),"undefined"!=typeof this.options.onImageShown&&this.options.onImageShown(this)},e.prototype.preloadNeighboringImages=function(){if(this.album.length>this.currentImageIndex+1){(new Image).src=this.album[this.currentImageIndex+1].link}if(this.currentImageIndex>0){(new Image).src=this.album[this.currentImageIndex-1].link}},e.prototype.enableKeyboardNav=function(){t(document).on("keyup.keyboard",t.proxy(this.keyboardAction,this))},e.prototype.disableKeyboardNav=function(){t(document).off(".keyboard")},e.prototype.keyboardAction=function(t){var e=t.keyCode,n=String.fromCharCode(e).toLowerCase();27===e||n.match(/x|o|c/)?this.end():"p"===n||37===e?0!==this.currentImageIndex?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this.changeImage(this.album.length-1):"n"!==n&&39!==e||(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this.changeImage(0))},e.prototype.end=function(){this.disableKeyboardNav(),t(window).off("resize",this.sizeOverlay),this.$lightbox.fadeOut(this.options.fadeDuration),this.$overlay.fadeOut(this.options.fadeDuration),t("select, object, embed").css({visibility:"visible"})},new e}),function(){GD.initLightbox=function(){return GD.lightbox.option({fadeDuration:200,resizeDuration:100,positionFromTop:GD.isPhone?0:50,onImageShown:function(t){var e,n;return n=t.album[t.currentImageIndex].target,e=t.$lightbox.find(".lb-dataContainer .lb-data"),e.find(".download-btn").remove(),n.data("download-url")?(e.append("<a class='download-btn btn btn-primary pull-right' data-turbolinks='false' href='"+GD.htmlSafe(n.data("download-url"))+"'>\u4e0b\u8f7d\u9644\u4ef6</a>"),e.find(".lb-closeContainer").hide(),e.find("a").on("click",function(){return location.href=$(this).attr("href")})):e.find(".lb-closeContainer").show()}}),$(".lightbox-image-link").each(function(){var t,e;if(t=$(this).find(".image-loading"),e=t.data("url"))return $(this).append("<img src="+e+" class='hide'>"),$(this).find("img").load(function(){return $(this).removeClass("hide"),t.remove()})}),0===$("#lightboxOverlay").length?GD.lightbox.init():GD.lightbox.enable()},$(document).on("turbolinks:load",function(){return GD.initLightbox()})}.call(this),function(){window.GD||(window.GD={}),GD.countDown=function(t,e,n){var i;return null==n&&(n=l("%resend")),e>0?(t.addClass("disabled"),i=n+" ("+e+")",t.is("input")?(t.prop("disabled",!0),t.val(i)):t.text(i),e--,setTimeout(function(){return GD.countDown(t,e,n)},1e3)):(t.is("input")?(t.prop("disabled",!1),t.val(n)):t.text(n),t.removeClass("disabled"),$.rails.enableElement(t))},GD.countDownRedirect=function(t,e,n,i){if(("function"==typeof url?url("path"):void 0)!==e&&window.location.pathname!==e)return n>0?(t.text(i+" ("+n+"s)"),n--,setTimeout(function(){return GD.countDownRedirect(t,e,n,i)},1e3)):Turbolinks.visit(e)},GD.countDownWithUndo=function(t,e,n,i){var r,o,a,s,l;return null==n&&(n="\u79d2"),l=null,r=$(t),a=r.text(),s=function(){var t;return t=a+"("+(e+n)+")",r.text(t),e--},o=function(e){if(clearInterval(l),r.text(a),GD.enableBtn(t),e)return"function"==typeof i?i():void 0},t.addClass("disabled"),e&&(s(),l=setInterval(function(){if(s(),e<0)return o(!0)},1e3)),o}}.call(this),function(){var t,e,n,i;window.GD||(window.GD={}),t="-|\\.|\u2014|\u2013|&nbsp;",e="(?:1\\d{10}|\\d{3,4}?(?:"+t+")?\\d{7,8})",n=new RegExp("((^|[^0-9])(href=[\"']tel:)?((?:"+e+")[\"'][^>]*?>)?("+e+")($|[^0-9]))","gi"),i=function(t){return t.replace(n,function(t,e,n,i,r,o,a){return i?e:"="===n?e:r?n+r+o+a:n+"<a href='tel:"+o+"'>"+o+"</a>"+a})},GD.telephoneDetect=function(t){var e,n,r,o;if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){for(o=[],n=0,r=t.length;n<r;n++)e=t[n],o.push($(e).html(i($(e).html())));return o}}}.call(this),function(){var t;window.GD||(window.GD={}),GD.blurEdge=function(t){var e,n,i,r;return e=t.target.clientWidth,n=t.target.scrollLeft,i=t.target.scrollWidth,r=(100*(1-(n+e)/i)).toFixed(2),$(t.target).find(".blur").css("background-image","linear-gradient(to left, rgba(255,255,255,1), rgba(255,255,255,0) "+r+"%)")},GD.forceBlurEdge=function(e){var n,i,r,o,a,s;for(a=[],r=i=0,o=e.length;0<=o?i<o:i>o;r=0<=o?++i:--i)n=$(e[r]),s=n.scrollLeft()?n.scrollLeft():1,n[0].offsetWidth<n[0].scrollWidth?a.push(t(n,s)):a.push(void 0);return a},t=function(t,e){return setTimeout(function(){return function(){return t.scrollLeft(e)}}(),0)}}.call(this),function(){var t,e;window.GD||(window.GD={}),e=function(){return $("[data-random-choices=true]").each(function(t,e){if($(e).parents("[data-type=RadioButton], [data-type=CheckBox], [data-type=ImageRadioButton], [data-type=ImageCheckBox]").length>0)return $(e).shuffleChildren()})},t=function(){return $("[data-random-choices=true]").each(function(t,e){var n;if($(e).parents("[data-type=DropDown], [data-type=CascadeDropDown]").length>0)return n=!$($("[data-random-choices=true]").children("option")[0]).val(),$(e).shuffleChildren(n)})},GD.shffuleChoices=function(){return t(),e()}}.call(this),function(){window.GD||(window.GD={}),GD.REGEXP={email:/^[\w-]+([.+][\w-]+)*@[\w-]+(\.[\w-]+)+$/,link:/^(?:(?:(?:https?):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i,telephone:/^(\d{3,4}|\d{3,4}-)?\d{7,8}$/,mobile:/^1\d{10}$/,provinceSuffix:/\u58ee\u65cf\u81ea\u6cbb\u533a|\u56de\u65cf\u81ea\u6cbb\u533a|\u7ef4\u543e\u5c14\u81ea\u6cbb\u533a|\u7279\u522b\u884c\u653f\u533a|\u7701|\u5e02|\u81ea\u6cbb\u533a$/,telProtocol:/^tel:/,nonPrintableGeneralPunctuation:/[\u2000-\u200F\u2028-\u202F\u205F-\u206F]/g}}.call(this),_.templateSettings={evaluate:/\[\[(.+?)\]\]/g,interpolate:/\{\{(.+?)\}\}/g,escape:/\{\{-(.+?)\}\}/g},String.toLocaleString({en:{"%form_field_checkbox_current_select_hit":"Selected {{count}} item","%no_result":"No results found","%rechoose":"rechoose","%delete":"delete","%warn_system_file":"system file is not allowed","%attachment_media_type_support":"support: ","%warn_exec_file":"EXE/BAT format file is not allowed","%file_name_too_long":"file name is too long","%warn_oversize":"file size exceeds the maximum supported limit ({{maxSize}})","%warn_oversize_simple":"exceeds limit {{maxSize}}","%warn_invalid_filetype":"file type is not allowed","%warn_wrong_mobile_number":"<i class='gd-icon-times-circle'></i> please enter correct mobile number of mainland China","%total":"total: ","%download":"download","%sold_out":"sold out","%select_spec":"Please select {{labels}} first","%common_separator":", ","%send_sms_verification":"Send Code","%resend":"Resend","%sendingSMS":"Sending","%second":"s","%warn_geo_cannot_get_location":"Can't get your location!","%warn_geo_permission_denied":"You denied the request for Geolocation.","%warn_geo_position_unavailable":"Location information is unavailable.","%warn_geo_timeout":"The request to get your location timed out.","%warn_geo_unknown_error":"An unknown error occurred.","%geo_coord":"Longitude:{{long}},Latitude:{{lat}}","%geo_long":"Longitude:{{long}}","%geo_lat":"Latitude:{{lat}}","%geo_address":"{{address}}","%geo_choose":"Choose location","%geo_locate":"Get current location","%geo_locating":"Locating...","%geo_no_address":"No address information. ","%select_prompt":"Please select","%no_geo_data":"There is no data for this field currently.","%bracket":" ({{content}})","%upload_failed":"failed {{status}}, please try again","%upload_failed_0":"Because your network is unstable, please try again","%upload_failed_400":"failed, changed to standard mode, please try again","%upload_failed_401":"failed, please refresh page and try again","%uploading":"Uploading...","%upload_done":"Uploading finished!","%max_file_quantity":"File quantity is over {{maxFileQuantity}}","%page_number":"Page {{currentPage}}/{{totalPage}}","%presence_error":"{{label}} is required","%white_list_limit_error":"{{label}} [{{fieldValue}}] is not allowed to submit","%format_error":"format is wrong","%invalid_time":", please choose hour and minute at the same time","%invalid_time_with_second":", please choose hour, minute and second at the same time","%email_format_error":"Please enter a valid email address, such as support@jinshuju.com","%precision_error":"Please enter a number with precision {{precision}}","%id_card_format_error":"ID card number is invalid","%choice_quota":" ({{quota}} left)"},"zh-CN":{"%form_field_checkbox_current_select_hit":"\u5df2\u9009{{count}}\u9879","%no_result":"\u6ca1\u6709\u5339\u914d\u7684\u641c\u7d22\u7ed3\u679c","%rechoose":"\u8bf7\u91cd\u65b0\u9009\u62e9","%delete":"\u522a\u9664","%warn_system_file":"\u7981\u6b62\u4e0a\u4f20\u7cfb\u7edf\u6587\u4ef6","%attachment_media_type_support":"\u4ec5\u652f\u6301\uff1a","%warn_exec_file":"\u7981\u6b62\u4e0a\u4f20EXE\u3001BAT\u683c\u5f0f\u7684\u6587\u4ef6","%file_name_too_long":"\u6587\u4ef6\u540d\u8fc7\u957f","%warn_oversize":"\u6587\u4ef6\u5927\u5c0f\u8d85\u8fc7\u6700\u5927\u652f\u6301\u4e0a\u9650{{maxSize}}","%warn_oversize_simple":"\u8d85\u8fc7{{maxSize}}\u4e0a\u9650","%warn_invalid_filetype":"\u8be5\u7c7b\u578b\u6587\u4ef6\u4e0d\u5141\u8bb8\u4e0a\u4f20","%warn_wrong_mobile_number":"<i class='gd-icon-times-circle'></i> \u8bf7\u8f93\u5165\u6b63\u786e\u7684\u4e2d\u56fd\u5927\u9646\u624b\u673a\u53f7\u7801","%total":"\u5408\u8ba1\uff1a","%download":"\u4e0b\u8f7d","%sold_out":"\u5df2\u552e\u7a7a","%select_spec":"\u8bf7\u5148\u9009\u62e9{{labels}}","%common_separator":"\u3001","%send_sms_verification":"\u53d1\u9001\u9a8c\u8bc1\u77ed\u4fe1","%resend":"\u91cd\u65b0\u53d1\u9001","%sendingSMS":"\u6b63\u5728\u53d1\u9001\u77ed\u4fe1","%second":"\u79d2","%warn_geo_cannot_get_location":"\u65e0\u6cd5\u5b9a\u4f4d\u60a8\u7684\u4f4d\u7f6e\uff01","%warn_geo_permission_denied":"\u65e0\u6cd5\u5b9a\u4f4d\u60a8\u7684\u4f4d\u7f6e\uff01\u8bf7\u6253\u5f00\u6d4f\u89c8\u5668\u7684\u4f4d\u7f6e\u5171\u4eab\u6743\u9650","%warn_geo_position_unavailable":"\u65e0\u6cd5\u5b9a\u4f4d\u60a8\u7684\u4f4d\u7f6e\uff01\u4f4d\u7f6e\u4fe1\u606f\u4e0d\u53ef\u7528","%warn_geo_timeout":"\u65e0\u6cd5\u5b9a\u4f4d\u60a8\u7684\u4f4d\u7f6e\uff01\u83b7\u53d6\u7ecf\u7eac\u5ea6\u8d85\u65f6","%warn_geo_unknown_error":"\u65e0\u6cd5\u5b9a\u4f4d\u60a8\u7684\u4f4d\u7f6e\uff01\u672a\u77e5\u9519\u8bef","%geo_coord":"\u7ecf\u5ea6:{{long}}\uff0c\u7eac\u5ea6:{{lat}}","%geo_long":"\u7ecf\u5ea6:{{long}}","%geo_lat":"\u7eac\u5ea6:{{lat}}","%geo_address":"{{address}}","%geo_choose":"\u83b7\u53d6\u5730\u7406\u4f4d\u7f6e","%geo_locate":"\u83b7\u53d6\u5f53\u524d\u4f4d\u7f6e","%geo_locating":"\u83b7\u53d6\u4f4d\u7f6e\u4e2d...","%geo_no_address":"\u65e0\u6cd5\u83b7\u53d6\u5730\u5740\u3002","%select_prompt":"\u8bf7\u9009\u62e9","%no_geo_data":"\u8be5\u5730\u7406\u4f4d\u7f6e\u5b57\u6bb5\u6682\u65e0\u6570\u636e\u3002","%bracket":"({{content}})","%upload_failed":"\u4e0a\u4f20\u5931\u8d25{{status}}\uff0c\u8bf7\u91cd\u65b0\u4e0a\u4f20\u6587\u4ef6\u3002","%upload_failed_0":"\u56e0\u60a8\u7f51\u7edc\u4e0d\u7a33\u5b9a\uff0c\u8bf7\u91cd\u65b0\u4e0a\u4f20\u6587\u4ef6\u3002","%upload_failed_400":"\u8be5\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u6781\u901f\u4e0a\u4f20\u6a21\u5f0f\uff0c\u73b0\u5df2\u8c03\u6574\u4e3a\u4f20\u7edf\u6a21\u5f0f\u3002\u8bf7\u9009\u62e9\u6587\u4ef6\u91cd\u65b0\u4e0a\u4f20\u3002","%upload_failed_401":"\u4e0a\u4f20\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u9875\u9762\uff0c\u5e76\u57281\u5c0f\u65f6\u5185\u91cd\u65b0\u4e0a\u4f20","%uploading":"\u4e0a\u4f20\u4e2d...","%upload_done":"\u4e0a\u4f20\u6210\u529f\uff01","%max_file_quantity":"\u6700\u591a\u53ea\u80fd\u4e0a\u4f20{{maxFileQuantity}}\u4e2a\u6587\u4ef6","%page_number":"\u7b2c{{currentPage}}\u9875/\u5171{{totalPage}}\u9875","%presence_error":"\u8bf7\u586b\u5199{{label}}","%white_list_limit_error":"{{label}} [{{fieldValue}}] \u4e0d\u80fd\u63d0\u4ea4","%format_error":"\u683c\u5f0f\u4e0d\u5bf9","%invalid_time":"\uff0c\u8bf7\u540c\u65f6\u9009\u62e9\u5c0f\u65f6\u548c\u5206\u949f","%invalid_time_with_second":"\uff0c\u8bf7\u540c\u65f6\u9009\u62e9\u5c0f\u65f6\u3001\u5206\u949f\u548c\u79d2","%email_format_error":"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u90ae\u7bb1\u5730\u5740\uff0c\u5982support@jinshuju.com","%precision_error":"\u4ec5\u652f\u6301{{precision}}\u4f4d\u5c0f\u6570","%id_card_format_error":"\u8eab\u4efd\u8bc1\u53f7\u683c\u5f0f\u9519\u8bef","%choice_quota":"\uff08\u4f59{{quota}}\uff09"},"zh-TW":{"%form_field_checkbox_current_select_hit":"\u5df2\u9078{{count}}\u9805","%no_result":"\u6c92\u6709\u5339\u914d\u7684\u641c\u7d22\u7d50\u679c","%rechoose":"\u8acb\u91cd\u65b0\u9078\u64c7","%delete":"\u522a\u9664","%warn_system_file":"\u7981\u6b62\u4e0a\u50b3\u7cfb\u7d71\u6a94\u6848","%attachment_media_type_support":"\u50c5\u652f\u6301\uff1a","%warn_exec_file":"\u7981\u6b62\u4e0a\u50b3EXE\u3001BAT\u683c\u5f0f\u7684\u6a94\u6848","%file_name_too_long":"\u6a94\u6848\u540d\u904e\u9577","%warn_oversize":"\u6a94\u6848\u5927\u5c0f\u8d85\u904e\u6700\u5927\u652f\u6301\u4e0a\u9650{{maxSize}}","%warn_oversize_simple":"\u8d85\u904e{{maxSize}}\u4e0a\u9650","%warn_invalid_filetype":"\u8a72\u6a94\u6848\u985e\u578b\u4e0d\u5141\u8a31\u4e0a\u50b3","%warn_wrong_mobile_number":"\u8acb\u8f38\u5165\u6b63\u78ba\u7684\u4e2d\u570b\u5927\u9678\u624b\u6a5f\u865f\u78bc","%total":"\u5408\u8a08\uff1a","%download":"\u4e0b\u8f09","%sold_out":"\u5df2\u552e\u7f44","%select_spec":"\u8acb\u5148\u9078\u64c7{{labels}}","%common_separator":"\u3001","%send_sms_verification":"\u767c\u9001\u9a57\u8b49\u7c21\u8a0a","%resend":"\u91cd\u65b0\u767c\u9001","%sendingSMS":"\u6b63\u5728\u767c\u9001\u7c21\u8a0a","%second":"\u79d2","%warn_geo_cannot_get_location":"\u7121\u6cd5\u5b9a\u4f4d\u60a8\u7684\u4f4d\u7f6e\uff01","%warn_geo_permission_denied":"\u7121\u6cd5\u5b9a\u4f4d\u60a8\u7684\u4f4d\u7f6e\uff01\u8acb\u6253\u958b\u700f\u89bd\u5668\u7684\u4f4d\u7f6e\u5171\u7528\u8a31\u53ef\u6b0a","%warn_geo_position_unavailable":"\u7121\u6cd5\u5b9a\u4f4d\u60a8\u7684\u4f4d\u7f6e\uff01\u4f4d\u7f6e\u8cc7\u8a0a\u4e0d\u53ef\u7528","%warn_geo_timeout":"\u7121\u6cd5\u5b9a\u4f4d\u60a8\u7684\u4f4d\u7f6e\uff01\u7372\u53d6\u7d93\u7def\u5ea6\u8d85\u6642","%warn_geo_unknown_error":"\u7121\u6cd5\u5b9a\u4f4d\u60a8\u7684\u4f4d\u7f6e\uff01\u672a\u77e5\u932f\u8aa4","%geo_coord":"\u7d93\u5ea6:{{long}}\uff0c\u7def\u5ea6:{{lat}}","%geo_address":"{{address}}","%geo_choose":"\u7372\u53d6\u5730\u7406\u4f4d\u7f6e","%geo_locate":"\u7372\u53d6\u7576\u524d\u4f4d\u7f6e","%geo_locating":"\u7372\u53d6\u4f4d\u7f6e\u4e2d...","%geo_no_address":"\u7121\u6cd5\u7372\u53d6\u5730\u5740\u3002","%select_prompt":"\u8acb\u9078\u64c7","%no_geo_data":"\u8a72\u5730\u7406\u4f4d\u7f6e\u5b57\u6bb5\u66ab\u7121\u6578\u64da\u3002","%bracket":"\uff08{{content}}\uff09","%upload_failed":"\u4e0a\u50b3\u5931\u6557{{status}}\uff0c\u8acb\u91cd\u65b0\u4e0a\u50b3\u6587\u4ef6\u3002","%upload_failed_0":"\u56e0\u60a8\u7db2\u7d61\u4e0d\u7a69\u5b9a\uff0c\u8acb\u91cd\u65b0\u4e0a\u50b3\u6587\u4ef6\u3002","%upload_failed_400":"\u8a72\u700f\u89bd\u5668\u4e0d\u652f\u63f4\u6975\u901f\u4e0a\u50b3\u6a21\u5f0f\uff0c\u73fe\u5df2\u8abf\u6574\u70ba\u50b3\u7d71\u6a21\u5f0f\u3002\u8acb\u9078\u64c7\u6a94\u6848\u91cd\u65b0\u4e0a\u50b3\u3002","%upload_failed_401":"\u4e0a\u50b3\u5931\u6557\uff0c\u8acb\u5237\u65b0\u9801\u9762\uff0c\u4e26\u57281\u5c0f\u6642\u5167\u91cd\u65b0\u4e0a\u50b3","%uploading":"\u4e0a\u50b3\u4e2d...","%upload_done":"\u4e0a\u50b3\u6210\u529f\uff01","%max_file_quantity":"\u6700\u591a\u53ea\u80fd\u4e0a\u50b3{{maxFileQuantity}}\u500b\u6a94\u6848","%page_number":"\u7b2c{{currentPage}}\u9801/\u5171{{totalPage}}\u9801","%presence_error":"\u8acb\u586b\u5beb{{label}}","%white_list_limit_error":"{{label}} [{{fieldValue}}] \u4e0d\u80fd\u63d0\u4ea4","%format_error":"\u683c\u5f0f\u4e0d\u5c0d","%invalid_time":"\uff0c\u8acb\u540c\u6642\u9078\u64c7\u5c0f\u6642\u548c\u5206\u937e","%invalid_time_with_second":"\uff0c\u8acb\u540c\u6642\u9078\u64c7\u5c0f\u6642\u3001\u5206\u937e\u548c\u79d2","%email_format_error":"\u8acb\u8f38\u5165\u6b63\u78ba\u7684\u96fb\u90f5\u5730\u5740\uff0c\u5982support@jinshuju.com","%precision_error":"\u50c5\u652f\u6301{{precision}}\u4f4d\u5c0f\u6578","%id_card_format_error":"\u8eab\u4efd\u8b49\u865f\u683c\u5f0f\u932f\u8aa4","%choice_quota":"\uff08\u9918{{quota}}\uff09"}});var l=function(t,e){return null==e&&(e={}),_.template(t.toLocaleString())(e)};if(String.locale="zh-CN",function(){GD.transformAttachment=function(){var t;if(t=".fields .field-attachment-field",("function"==typeof GD.isOpenInWeiXin?GD.isOpenInWeiXin():void 0)&&$(t).length)return $(t+" .attachment-field > .jquery-file-upload-file-input").removeAttr("accept")}}.call(this),function(){GD.transformCheckbox=function(t){return("function"==typeof GD.isIE?GD.isIE():void 0)?t.find("input[type=checkbox]:not(.no-need-transform):not(.field-transformed)").addClass("ie field-transformed"):t.find("input[type=checkbox]:not(.no-need-transform):not(.field-transformed)").addClass("field-transformed").wrap(function(){return"<div class='check-box-wrapper'></div>"}).after("<i class='selected-icon'></i>")}}.call(this),function(){GD.transformDropdown=function(t){return t.find("select:not(.field-transformed):not(.need-select2)").addClass("field-transformed").wrap(function(){var t;return t="",$(this).data("has-error")&&(t+=" field_with_errors"),$(this).hasClass("hide")&&(t+=" hide"),_.contains(["province","city","district"],$(this).data("role"))&&(t+=" "+$(this).data("role")+"-select-wrapper"),"<div class='dropdown-wrapper"+t+"'></div>"}).after("<b class='dropdown-bg'></b><i class='dropdown-trigger'></i>")}}.call(this),function(){GD.enhanceInputField=function(t){var e,n,i,r,o,a,s;for(a=t.find('input.input-with-icon:not(.enhanced-input):not([data-icon=""])'),s=[],n=0,o=a.length;n<o;n++)r=a[n],e=$(r),i=e.data("icon"),s.push(e.addClass("enhanced-input").wrap("<div class='gd-input-container'></div>").after("<i class='gd-input-icon "+i+"'></i>"));return s}}.call(this),function(){GD.transformRadioButton=function(t){return("function"==typeof GD.isIE?GD.isIE():void 0)?t.find("input[type=radio]:not(.no-need-transform):not(.field-transformed)").addClass("ie field-transformed"):t.find("input[type=radio]:not(.no-need-transform):not(.field-transformed)").addClass("field-transformed").wrap(function(){return"<div class='radio-button-wrapper'></div>"}).after("<i class='selected-icon'></i>")}}.call(this),function(){GD.setMinHeightAndWidthForCellInputs=function(t){var e,n,i,r,o,a,s,l;for(a=t.find("input, textarea, .attachment-select-trigger label, .dropdown-wrapper, select"),n=0,r=a.length;n<r;n++)e=a[n],$(e).css({minHeight:$(e).closest("td").height()});for(s=t.find(".attachment-select-trigger label, .field-mobile-field input, .field-date-field input, .dropdown-wrapper"),l=[],i=0,o=s.length;i<o;i++)e=s[i],l.push($(e).css({minWidth:120}));return l},GD.enhanceTabularField=function(t){var e,n;return n=".field-likert-field.stack-mode table, .field-matrix-field.stack-mode table, .field-table-field.stack-mode table",t.find(n).addClass("tablesaw tablesaw-stack").attr("data-tablesaw-mode","stack"),t.trigger("enhance.tablesaw"),e=t.find(".field-matrix-field:not(.stack-mode), .field-table-field:not(.stack-mode)"),GD.setMinHeightAndWidthForCellInputs(e)},GD.refreshTablesaw=function(t){if(0!==t.length)return t.table().data("table").destroy(),t.table().data("table").refresh()}}.call(this),function(){GD.transformAllFields=function(t){if(null==t&&(t=$(".entry-container, .preview-container")),0!==t.length)return GD.transformRadioButton(t),GD.transformCheckbox(t),("function"==typeof GD.isIE?GD.isIE():void 0)||GD.transformDropdown(t),GD.enhanceTabularField(t),GD.transformAttachment(),GD.enhanceInputField(t)},$(document).on("turbolinks:load ajax:complete",function(){if(!($(".dashboard").length>0))return GD.transformAllFields()})}.call(this),function(){window.GD||(window.GD={}),GD.resetGeoFieldChooser=function(t){if(GD.enableBtn(t.find(".geo-field-chooser, .current-location-btn")),t.find(".geo-field-chooser span").text(l("%geo_choose")),t.hasClass("mobile"))return t.find(".gd-btn.geo-field-chooser").val(l("%geo_locate"))},GD.Geo=function(){function t(t,e){this.$el=t,this.options=null!=e?e:{},this.options=$.extend({staticMap:!1,mobile:!1,localizable:!1},this.options),this.initMap(),this.options.staticMap||this.options.mobile&&!this.options.localizable||this.initMapEvent()}return t.prototype._noOverrideError=function(t){throw"can't find "+t+" in subclass"},t.prototype.initMap=function(){return this._initMap(this.$el.find(".map-container")[0])},t.prototype.getGeoMethod=function(t){return this.geoArray||(this.geoArray=this._geoArray()),this.geoArray[t]},t.prototype.onGetLocationSuccess=function(t,e){return this.updateMap(t,null,e)},t.prototype.onGetLocationFail=function(){return alert(l("%warn_geo_cannot_get_location")),GD.resetGeoFieldChooser(this.$el)},t.prototype._useNextGeoMethod=function(t){var e;if(e=this.getGeoMethod(this.geoIndex))return this.geoIndex++,e(t)},t.prototype.currentLocation=function(t){return null==t&&(t=null),t=null!=t?t:{},this.geoIndex=0,this._useNextGeoMethod(t)},t.prototype.updateAddressComponent=function(t){return(null!=t?t.province:void 0)?this.$el.find("input[name$='[province]']").val(t.province):this.$el.find("input[name$='[province]']").val(""),(null!=t?t.city:void 0)?this.$el.find("input[name$='[city]']").val(t.city):this.$el.find("input[name$='[city]']").val(""),(null!=t?t.district:void 0)?this.$el.find("input[name$='[district]']").val(t.district):this.$el.find("input[name$='[district]']").val("")},t.prototype.updateMap=function(t,e,n){return null==e&&(e=null),null==n&&(n={}),this.mapObj&&this.setMarker(t,n.zoom),this.showAddress(t,e,n),this.$el.find(".geo-map-coord").html("<span>"+l("%geo_long",{"long":t.lng.toFixed(8)})+"</span>"),this.$el.find(".geo-map-coord").append("<span class='separator'>"+l("%common_separator")+"</span>"),this.$el.find(".geo-map-coord").append("<span>"+l("%geo_lat",{lat:t.lat.toFixed(8)})+"</span>"),this.$el.find("input[name$='[latitude]']").val(t.lat),this.$el.find("input[name$='[longitude]']").val(t.lng).trigger("change"),this.updateAddressComponent(n.addressComponent)},t.prototype._showAddress=function(t,e,n){if(this.$el.find(".geo-map-address").text(l("%geo_address",{address:t})),this.$el.find("input[name$='[address]']").val(t),this.updateAddressComponent(n),e.onComplete)return e.onComplete()},t.prototype.showAddress=function(t,e,n){return null==e&&(e=null),null==n&&(n={}),e?this._showAddress(e,n,n.addressComponent):this._showAddressFromLocation(t,n)},t.prototype._initMap=function(){return this._noOverrideError("_initMap")},t.prototype.initMapEvent=function(){return this._noOverrideError("initMapEvent")},t.prototype._geoArray=function(){return this._noOverrideError("_geoArray")},t.prototype.setMarker=function(t,e){return null==e&&(e=null),this._noOverrideError("setMarker")},t.prototype._showAddressFromLocation=function(){return this._noOverrideError("_showAddressFromLocation")},t.prototype.searchLocation=function(){return this._noOverrideError("searchLocation")},t}()}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.GeoAutonavi=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype._initMap=function(t){var e;try{return this.mapObj=new AMap.Map(t,{lang:String.locale})}catch(t){return e=t,console.log(e)}finally{this.mapObj.plugin("AMap.ToolBar",function(t){return function(){var e;return e=t.options.localizable&&t.options.mobile?{offset:new AMap.Pixel(2,65)}:{direction:!1,offset:new AMap.Pixel(-10,5)},t.mapObj.addControl(new AMap.ToolBar(e))}}(this))}},n.prototype.initMapEvent=function(){return AMap.event.addListener(this.mapObj,"click",function(t){return function(e){return t.updateMap(e.lnglat)}}(this))},n.prototype._geoArray=function(){var t,e;return t=function(t){return function(e){var n,i;return i=function(n){return t.onGetLocationSuccess(n.position,e)},n=function(n){if(null==n&&(n=null),!t._useNextGeoMethod(e)){if(n)switch(n.info){case"PERMISSION_DENIED":alert(l("%warn_geo_permission_denied"));break;case"POSITION_UNAVAILBLE":alert(l("%warn_geo_position_unavailable"));break;case"TIMEOUT":alert(l("%warn_geo_timeout"));break;default:alert(l("%warn_geo_unknown_error"))}return GD.resetGeoFieldChooser(t.$el)}},t.mapObj.plugin("AMap.Geolocation",function(){var e;return e=new AMap.Geolocation({timeout:5e3,showButton:!1,showCircle:!1,zoomToAccuracy:!0}),t.mapObj.addControl(e),AMap.event.addListener(e,"complete",i),AMap.event.addListener(e,"error",n),e.getCurrentPosition()})}}(this),e=function(t){return function(e){var n;return n=function(){if(!t._useNextGeoMethod(e))return t.onGetLocationFail()},t.mapObj.plugin("AMap.CitySearch",function(){var i;return i=new AMap.CitySearch,AMap.event.addListener(i,"complete",function(i){var r;return i&&i.city&&i.bounds?(r=i.city,t.$el.find(".geo-map-address").text(r),t.$el.find(".geo-map-coord").empty(),t.$el.find("input[name$='[address]']").val(r),t.mapObj.setBounds(i.bounds),e.onComplete?e.onComplete():void 0):n()}),AMap.event.addListener(i,"error",n),i.getLocalCity()})}}(this),[t,e]},n.prototype.setMarker=function(t,e){var n,i;return null==e&&(e=null),this.mapObj.clearMap(),i={map:this.mapObj,icon:"https://webapi.amap.com/images/marker_sprite.png",position:t},this.options.staticMap||this.options.mobile&&!this.options.localizable?new AMap.Marker(i):(n=new AMap.Marker($.extend(i,{draggable:!0,animation:"AMAP_ANIMATION_DROP",cursor:"move",raiseOnDrag:!0})),AMap.event.addListener(n,"dragend",function(t){return function(e){return t.updateMap(e.lnglat)}}(this))),this.mapObj.setZoomAndCenter(null!=e?e:16,t)},n.prototype._showAddressFromLocation=function(t,e){return this.mapObj.plugin("AMap.Geocoder",function(n){return function(){var i;return i=new AMap.Geocoder({radius:1e3,extensions:"all"}),AMap.event.addListener(i,"complete",function(t){var i;return i=t.regeocode.formattedAddress,n._showAddress(i,e,t.regeocode.addressComponent)}),i.getAddress(t)}}(this))},n.prototype.searchLocation=function(t){return GD.disableBtn(this.$el.find(".map-search-btn")),AMap.service(["AMap.Geocoder"],function(e){return function(){var n;return n=new AMap.Geocoder,n.getLocation(t,function(t,n){var i,r,o;switch(t){case"complete":i=n.geocodes[0],i&&(r=i.level,o=function(){switch(r){case"\u7701":return 5;case"\u5e02":return 10;case"\u533a\u53bf":return 12;default:return 16}}(),e.updateMap(i.location,i.formattedAddress,{zoom:o,addressComponent:i.addressComponent}));break;case"no_data":alert(l("%geo_no_address"));break;default:alert(n)}return GD.enableBtn(e.$el.find(".map-search-btn"))})}}(this))},n}(GD.Geo)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.GeoGoogle=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype._initMap=function(t){var e;return e={zoom:4,mapTypeId:google.maps.MapTypeId.ROADMAP,streetViewControl:!1,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_TOP}},this.mapObj=new google.maps.Map(t,e),
this.marker=new google.maps.Marker({position:this.mapObj.getCenter(),map:this.mapObj,animation:google.maps.Animation.Drop,draggable:!this.options.staticMap})},n.prototype.initMapEvent=function(){return google.maps.event.addListener(this.mapObj,"click",function(t){return function(e){return t.updateMap(t._latLngFromGoogleLatLng(e.latLng))}}(this)),google.maps.event.addListener(this.marker,"dragend",function(t){return function(e){return t.updateMap(t._latLngFromGoogleLatLng(e.latLng))}}(this))},n.prototype._geoArray=function(){var t;return t=function(t){return function(e){var n,i;return i=function(n){var i;return i={lat:n.coords.latitude,lng:n.coords.longitude},t.onGetLocationSuccess(i,e)},n=function(n){if(null==n&&(n=null),!t._useNextGeoMethod(e)){if(n)switch(n.code){case n.PERMISSION_DENIED:alert(l("%warn_geo_permission_denied"));break;case n.POSITION_UNAVAILABLE:alert(l("%warn_geo_position_unavailable"));break;case n.TIMEOUT:alert(l("%warn_geo_timeout"));break;default:alert(l("%warn_geo_unknown_error"))}return GD.resetGeoFieldChooser(t.$el)}},navigator.geolocation?navigator.geolocation.getCurrentPosition(i,n,{timeout:5e3,maximumAge:0}):n()}}(this),[t]},n.prototype._googleLatLng=function(t){return new google.maps.LatLng(t.lat,t.lng)},n.prototype._latLngFromGoogleLatLng=function(t){return{lat:t.lat(),lng:t.lng()}},n.prototype.setMarker=function(t,e){var n;return null==e&&(e=null),n=this._googleLatLng(t),this.mapObj.setZoom(null!=e?e:16),this.mapObj.setCenter(n),this.marker.setPosition(n)},n.prototype._showAddressFromLocation=function(t,e){var n;return n=this._googleLatLng(t),(new google.maps.Geocoder).geocode({latLng:n},function(n){return function(i,r){var o,a;if(r===google.maps.GeocoderStatus.OK&&i[0]&&(o=$.trim(i[0].formatted_address.replace(/\u90ae\u653f\u7f16\u7801.*/,""))),a=n.convertAddressComponent(i[0].address_components),o?(n.$el.find(".geo-map-address").text(l("%geo_address",{address:o})),n.$el.find("input[name$='[address]']").val(o),n.updateAddressComponent(a)):n.$el.find(".geo-map-address").text(l("%geo_no_address")+l("%geo_coord",{"long":t.lng,lat:t.lat})),e.onComplete)return e.onComplete()}}(this))},n.prototype.searchLocation=function(t){return GD.disableBtn(this.$el.find(".map-search-btn")),(new google.maps.Geocoder).geocode({address:t},function(t){return function(e,n){var i;return n===google.maps.GeocoderStatus.OK?(i=t.convertAddressComponent(e[0].address_components),t.updateMap(t._latLngFromGoogleLatLng(e[0].geometry.location),null,i)):alert(l("%geo_no_address")),GD.enableBtn(t.$el.find(".map-search-btn"))}}(this))},n.prototype.convertAddressComponent=function(t){var e;if(t&&(e=_(t).reduce(function(t,e){return _(e.types).each(function(n){return t[n]=e.long_name}),t},{}),"\u4e2d\u56fd"===e.country))return{province:e.administrative_area_level_1,city:e.locality,district:e.sublocality}},n}(GD.Geo)}.call(this),function(){var t;t=function(){function t(t,e,n){this.$container=t,this.useGoogle=null!=e&&e,this.staticMap=null!=n&&n,this.mobile=this.$container.closest(".mobile-device").length>0,this.localizable=this.$container.hasClass("localizable"),this.initialMap(),this.staticMap||this.initialEvents(),this.$container.data("geo-initialized",!0)}return t.prototype.initialMap=function(){return this.staticMap||GD.resetGeoFieldChooser(this.$container),this.initialExistedPosition()},t.prototype.ensureGeo=function(){if(void 0===this.geo)return this.useGoogle?this.geo=new GD.GeoGoogle(this.$container,{mobile:this.mobile,staticMap:this.staticMap}):this.geo=new GD.GeoAutonavi(this.$container,{mobile:this.mobile,staticMap:this.staticMap,localizable:this.localizable})},t.prototype.initialExistedPosition=function(){var t,e,n,i,r,o,a;return this.staticMap?(t=this.$container.find(".map-container"),r=t.data("latitude"),o=t.data("longitude"),e=t.data("address")):(r=this.$container.find("input[name$='[latitude]']").val(),o=this.$container.find("input[name$='[longitude]']").val(),e=this.$container.find("input[name$='[address]']").val(),a=this.$container.find("input[name$='[province]']").val(),n=this.$container.find("input[name$='[city]']").val(),i=this.$container.find("input[name$='[district]']").val()),this.setLocation(r,o,e,{province:a,city:n,district:i})},t.prototype.setLocation=function(t,e,n,i){var r;return null==i&&(i={}),t&&e?(this.ensureGeo(),r=this.useGoogle?{lat:parseFloat(t),lng:parseFloat(e)}:new AMap.LngLat(parseFloat(e),parseFloat(t)),this.geo.updateMap(r,n,{addressComponent:i})):n?(this.ensureGeo(),this.geo.searchLocation(n)):void 0},t.prototype.initialEvents=function(){return this.$container.find(".geo-field-chooser").click(function(t){return function(){return t.ensureGeo(),t.geo.currentLocation(),t.$container.find(".geo-map-container").show(),t.$container.find(".geo-field-chooser").hide(),GD.recalcFormHeight()}}(this)),this.$container.find(".clear-location-btn").click(function(t){return function(){return t.$container.find(".geo-field-chooser").css("display","inline-block"),t.$container.find(".geo-map-container").hide(),t.$container.find("input[name$='[latitude]']").val(""),t.$container.find("input[name$='[longitude]']").val(""),t.$container.find("input[name$='[address]']").val(""),t.$container.find("input[name$='[province]']").val(""),t.$container.find("input[name$='[city]']").val(""),t.$container.find("input[name$='[district]']").val(""),GD.recalcFormHeight()}}(this)),this.$container.find(".map-search-btn").click(function(t){return function(){var e;if(e=t.$container.find(".map-search").val())return t.geo.searchLocation(e)}}(this)),this.$container.find(".current-location-btn").click(function(t){return function(){return t.ensureGeo(),t.geo.currentLocation({onComplete:function(){return GD.enableBtn(t.$container.find(".current-location-btn.disabled")),t.$container.trigger("change")}})}}(this)),this.$container.on("restore-exist-location",function(t){return function(){return t.ensureGeo(),t.$container.find(".geo-map-container").show(),t.$container.find(".geo-field-chooser").hide(),GD.recalcFormHeight(),t.initialExistedPosition()}}(this))},t}(),GD.initGeoView=function(e){var n,i,r,o;for(null==e&&(e=!1),o=$("[data-role=geo]"),i=0,r=o.length;i<r;i++)n=o[i],$(n).data("geo-initialized")||new t($(n),e);return GD.initStaticGeoView(e)},GD.initStaticGeoView=function(e){var n,i,r,o,a;for(null==e&&(e=!1),o=$("[data-role=static-geomap]"),a=[],i=0,r=o.length;i<r;i++)n=o[i],$(n).data("geo-initialized")?a.push(void 0):a.push(new t($(n),e,!0));return a},$(document).on("keypress",".field-geo-field .map-search",function(t){if(13===t.keyCode)return $(this).closest(".geo-map-action").find(".map-search-btn").click()})}.call(this),function(){window.GD||(window.GD={}),$(function(){return GD.AddressSelector=function(){function t(){this.renderQueue=[]}return t.prototype.load=function(t){var e;return this.data=t,this.provinces=function(){var t;t=[];for(e in this.data)t.push(e);return t}.call(this),_(this.renderQueue).each(function(t){return function(e){return t.doRender.apply(t,e)}}(this))},t.prototype.render=function(t,e,n,i,r,o){return null==i&&(i=""),null==r&&(r=""),null==o&&(o=""),this.data?this.doRender(t,e,n,i,r,o):this.renderQueue.push([t,e,n,i,r,o])},t.prototype.doRender=function(t,e,n,i,r,o){var a,s,l,u,d;for(t.html("<option value=''>- \u7701/\u81ea\u6cbb\u533a/\u76f4\u8f96\u5e02 -</option>"),d=this.provinces,a=0,s=d.length;a<s;a++)u=d[a],l=$("<option value='"+u+"'>"+u+"</option>"),u===i&&l.prop("selected",!0),t.append(l);return this.renderCityOptions(i,e,r),this.renderDistrictOptions(i,r,n,o),t.on("change",function(i){return function(){return i.renderCityOptions(t.val(),e),i.renderDistrictOptions(t.val(),"",n)}}(this)),e.on("change",function(i){return function(){return i.renderDistrictOptions(t.val(),e.val(),n)}}(this))},t.prototype.renderCityOptions=function(t,e,n){var i,r,o,a,s,l;if(null==n&&(n=""),e.html("<option value=''>- \u5e02 -</option>"),this.data.hasOwnProperty(t)){for(s=_.keys(this.data[t]),l=[],r=0,o=s.length;r<o;r++)i=s[r],a=$("<option value='"+i+"'>"+i+"</option>"),i===n&&a.prop("selected",!0),l.push(e.append(a));return l}},t.prototype.renderDistrictOptions=function(t,e,n,i){var r,o,a,s,l,u,d;if(null==i&&(i=""),n.html("<option value=''>- \u533a/\u53bf -</option>"),null!=(l=this.data[t])?l[e]:void 0){for(u=this.data[t][e],d=[],o=0,a=u.length;o<a;o++)r=u[o],s=$("<option value='"+r+"'>"+r+"</option>"),r===i&&s.prop("selected",!0),d.push(n.append(s));return d}},t}(),GD.initAddressSelector=function(t){var e,n,i,r,o,a,s,l;if(GD.addressSelector){for(s=$(t).find("[data-role=address]"),l=[],r=0,o=s.length;r<o;r++)e=s[r],a=$(e).find("[data-role=province]"),n=$(e).find("[data-role=city]"),i=$(e).find("[data-role=district]"),l.push(GD.addressSelector.render(a,n,i,a.data("value"),n.data("value"),i.data("value")));return l}},$(document).on("turbolinks:load ajax:complete",function(){if(!($(".dashboard").length>0))return GD.initAddressSelector(document)})})}.call(this),function(){window.GD||(window.GD={}),GD.resetAttachment=function(t){return t.find(".progress-bar").css("width","0%"),t.siblings().size()>0?t.remove():(t.find("[data-role=attachment_id]").val(""),t.hide())},GD.updateSubmitBtnForUploadAttachment=function(t,e){var n,i,r;return null==e&&(e=!1),i=t.find(".attachment:visible").size(),e&&(i=t.find(".attachment").size()),r=t.find(".uploaded").size(),n=t.closest("form").find(".submit-field input.submit, .entry-show .actions [data-role='submit']"),n.data("fileUploading",i-r),GD.updateSubmitBtn()}}.call(this),function(){var t,e,n,i=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};window.GD||(window.GD={}),n=function(t){var e;return e=t.data("prompt"),e?t.html("<option value=''>"+e+"</option>"):(e=t.find("option:first").text(),t.data("prompt",e))},t=function(t,e){var i,r,o,a,s,l,u,d,c;for(n(e),c=t.find("option:selected"),u=null!=(l=c.data("choices"))?l:[],a=0,s=u.length;a<s;a++)i=u[a],"object"==typeof i?(r=i.name,o=null!=(d=i.value)?d:r):(r=i,o=i),e.append("<option value='"+o+"'>"+r+"</option>");if(e.val(e.data("value")),$.mobile)return e.selectmenu("refresh",!0)},GD.initCascadeSelector=function(e){var n,i,r,o,a,s;for(a=$(e).find("[data-role=cascade]"),s=[],i=0,r=a.length;i<r;i++)n=a[i],o=$(n).find("[data-role=level_1]"),t(o,$(n).find("[data-role=level_2]")),s.push(o.on("change",function(){var e;return e=$(this).parents("[data-role=cascade]").find("[data-role=level_2]"),e.data("value",null),t($(this),e)}));return s},e=function(t,r){var o,a,s,u,d,c,h,p,f,g,m,v,y,b;if(o=$(r).find("[data-level="+(1+t.data("level"))+"]"),o.length>0){for(n(o),f=$(r).data("quota-blank-warning"),b=t.find("option:selected"),d=[],m=null!=(g=b.data("choices"))?g:[],h=0,p=m.length;h<p;h++)a=m[h],s=a.name,u=null!=(v=a.value)?v:s,d.push(u),c=GD.htmlSafe(s),$(r).data("show-quota")&&(a.quota>0?c+=l("%choice_quota",{quota:a.quota}):0===a.quota&&(c+=f?"\uff08"+f+"\uff09":l("%choice_quota",{quota:a.quota}))),o.append("<option value='"+u+"' "+(0===a.quota?'disabled="disabled"':void 0)+" data-choices='"+GD.htmlSafe(JSON.stringify(a.sub_choices))+"'>"+c+"</option>");return y=o.data("value"),i.call(d,y)>=0&&o.val(o.data("value")),$.mobile&&o.selectmenu("refresh",!0),o.trigger("change.formLogic"),GD.updateQuotaChoices(o.parents(".field").data("api-code")),e(o,r)}},GD.initMultipleCascadeSelector=function(t){var n,i,r,o,a,s;for(a=$(t).find("[data-role=multiple-cascade]"),s=[],i=0,r=a.length;i<r;i++)n=a[i],o=$(n).find("[data-role=level_1]"),e(o,$(n)),s.push($(n).find("select").on("change",function(){var t;return t=$(this),t.parents("[data-role=multiple-cascade]").find("[data-level]").each(function(){if($(this).data("level")>t.data("level"))return $(this).data("value",null)}),e(t,t.closest("[data-role=multiple-cascade]"))}));return s},$(document).on("turbolinks:load ajax:complete",function(){if($(".dashboard").length>0||GD.initCascadeSelector(document),!($(".dashboard").length>0))return GD.initMultipleCascadeSelector(document)})}.call(this),function(){var t,e;t=function(){return function(t){var e,n,i,r;return e=t.find(".field-label .label-hint"),i=e.data("label-hint"),r=t.find("input:checked").length,r?(n=l("%form_field_checkbox_current_select_hit",{count:r}),i?e.html("\uff08"+i+"\uff0c"+n+"\uff09"):e.html("\uff08"+n+"\uff09")):e.html(i?"\uff08"+i+"\uff09":"")}}(),e=function(){return function(e,n){var i;return i=e.find(n),e.on("autosave:recover",function(){return i.each(function(e){return t($(i[e]))})}),i.on("click",function(e){return t($(e.target).closest(".field"))}),i.each(function(e){return t($(i[e]))})}}(),GD.initCheckbox=function(t){return e(t,".field-check-box")},GD.initImageCheckbox=function(t){return e(t,".field-image-check-box")},$(document).on("turbolinks:load",function(){if($(".dashboard").length>0||GD.initCheckbox($("form")),!($(".dashboard").length>0))return GD.initImageCheckbox($("form"))})}.call(this),function(){var t;t=function(t){var e,n;return n=$(t.target),n.val()?(e=n.hasClass("need-select2")?n.closest(".field").find(".select2-selection__rendered"):n,e.addClass("opaque")):n.removeClass("opaque")},GD.DimensionedTabularField={cellValue:function(t){return GD.DimensionedTabularField["cellValueFor"+t.data("type")].call(this,t)},cellValueForTextField:function(t){return t.find("input").val()},cellValueForTextArea:function(t){return t.find("textarea").val()},cellValueForDropDown:function(t){return t.find("select").val()},cellValueForCascadeDropDown:function(t){return _(t.find("select")).map(function(t){var e;return e=$(t),{level:e.data("role"),value:e.val()}})},cellValueForMobileField:function(t){return t.find("input").val()},cellValueForNumberField:function(t){return t.find("input").val()},cellValueForDateField:function(t){return t.find("input").val()},cellValueForAttachmentField:function(t){return t.find('input[data-role="attachment_id"]').val()},cellValueForFormulaField:function(t){return t.find("input").val()},rowHasValue:function(t){return _(t.find("td.dimension")).some(function(t){return GD.DimensionedTabularField.cellValue($(t))})},initCellVisibilityHandler:function(e,n){return n.find("table tbody").on("change","tr:not(:first-child) select",t),e.on("autosave:recover",function(){return n.find("table tbody").find("tr:not(:first-child) select").change()})}}}.call(this),function(){var t,e,n,i,r;window.GD||(window.GD={}),i=function(t){return t.find(".preview-area .preview").html("<img src='"+GD.attachmentIconPath["default"]+"'>"),GD.disableBtn(t.find(".hide-on-save"))},r=function(t,e,n){var i;return null!=e.image_url&&(i="<a href='"+e.image_url_for_lightbox+"' rel='lightbox["+n+"]'><img src='"+e.image_url+"'></a>",t.find(".preview-area .preview").html(i)),t.find("input[data-role=attachment_id]").val(e.attachment_id).trigger("change"),t.find(".e-signature-error-message").html(""),t.find("canvas").hide().after("<img class='preview-signature' src='"+e.image_url_for_lightbox+"'>")},n=function(t){return 2===t.errors.length&&t.errors[0]===t.errors[1]&&t.errors[0].includes("Failed to manipulate with rmagick")},e=function(t,e){var o,a;return o=$(".entry-container .submit-field input.submit, .entry-show .actions [data-role='submit']"),a=function(){return t.find(".e-signature-select-trigger").show(),t.find(".sign-e-signature-wrapper").hide(),GD.enableBtn(o),e.clear(),GD.disableBtn(t.find(".clear")),e.on()},t.on("click",".clear",function(){return GD.disableBtn($(this)),e.clear()}),t.on("click",".delete",function(){return t.find(".delete-signature-desc").hide(),t.find(".hide-on-save, canvas").show(),t.find("input[data-role=attachment_id]").val("").trigger("change"),t.find(".preview-signature").remove(),a()}),t.on("click",".cancel",function(){return a()}),t.off("click",".save-e-signature"),t.on("click",".save-e-signature",function(){var a,s,l,u,d,c;if(e.isEmpty())return alert("\u7b7e\u540d\u9762\u677f\u4e3a\u7a7a");if(c=t.find(".sign-e-signature-wrapper").data("callback-url"))return s=t.closest(".field[data-api-code]"),i(s),d=s.find(".progress-bar"),d.addClass("initial").css({width:"0%"}).show(),l=e.toDataURL(),a=s.data("api-code"),u=t.closest("form").data("form-token"),c=t.find(".sign-e-signature-wrapper").data("callback-url"),$.ajax({type:"POST",url:c,data:{data:l,form_id:u,field_api_code:a},dataType:"json",xhr:function(){var t;return t=$.ajaxSettings.xhr(),t.upload.onprogress=function(t){var e,n;e=parseInt(t.loaded/t.total*100,10),n=Math.min(e,99)+"%",d.css("width",n)},t}}).fail(function(){return function(t){var e;if(e=JSON.parse(t.responseText),!n(e))return alert("\u4e0a\u4f20\u7b7e\u540d\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5")}}()).done(function(t){return d.css("width","100%").fadeOut(),GD.enableBtn(s.find(".hide-on-save")),s.find(".hide-on-save").hide(),s.find(".delete-signature-desc").removeClass("hidden").show(),e.off(),r(s,t,a),s.find(".attachment").addClass("uploaded"),GD.updateSubmitBtnForUploadAttachment(s,!0),GD.enableBtn(o)})})},t=function(t){var n,i,r;if(n=t.find("canvas")[0])return r=new SignaturePad(n,{onBegin:function(){return GD.enableBtn(t.find(".clear"))}}),e(t,r),i=function(){return n.width=t.width(),r.clear()},i(),window.addEventListener("resize",i,!1),window.addEventListener("orientationchange",i,!1)},GD.initESignatureField=function(e){var n,i,r,o,a;for(o=e.find(".field-e-signature-field"),a=[],i=0,r=o.length;i<r;i++)n=o[i],a.push($(n).on("click",".e-signature-select-trigger",function(){var e;return $(this).hide(),n=$(this).closest(".field-e-signature-field"),n.find(".sign-e-signature-wrapper").show(),t(n),e=$(".entry-container .submit-field input.submit, .entry-show .actions [data-role='submit']"),GD.disableBtn(e)}));return a},$(document).on("turbolinks:load ajax:complete",function(){if(!($(".dashboard").length>0))return GD.initESignatureField($(document))})}.call(this),function(){var t,e,n,i,r,o,a,s,u,d,c,h,p,f,g,m,v,y,b,w,C,x,D;window.GD||(window.GD={}),D=$.support.xhrFormDataFileUpload,f=function(t,e,n){var i,r;return null==e&&(e=""),null==n&&(n=null),null!=(r=t.find("[data-role=cancel]").data("jqXHR"))&&r.abort(),t.removeClass("error"),i=t.find(".status").show(),i.removeClass("error"),i.find(".file-name").removeClass("error").text(e),i.find(".error").remove(),i.find(".file-size-status").show(),i.nextAll(".error").remove(),t.find(".progress-bar").css({width:"0%"}).show(),t.find(".preview-area").show(),i.find(".file-size").text(n),i.show(),t.find(".select-area .preview").empty(),t.find("input[data-role=attachment_id]").val("")},m=function(t,e,n){return t.addClass("error"),t.find("input[data-role=attachment_id]").val(""),t.find(".progress-bar").addClass("initial").css({width:"0%"}),t.find(".status .file-size-status").hide(),t.find(".status").addClass("error"),(null!=n?n.simple:void 0)?(t.find(".preview-area").hide(),t.find(".status").hide().after("<span class='error'><i class='gd-icon-times-circle "+(GD.isMobile?"gd-hide":void 0)+"'></i> "+e+"</span>")):(t.find(".actions").removeClass("hide"),t.find(".status .file-name").addClass("error").after("<span class='error'>"+l("%bracket",{content:e})+"</span>"))},a=function(e,n){var i,r,o,a,s,u,d,c,h,p,f,g;for(null==n&&(n=""),e.find(".attachment-select-trigger").hide(),e.data("api-code"),d=e.find("input:file"),h=d.data("max-size"),s=d.attr("accept"),r="*"!==s?_.map(s.split(","),function(t){return t.split(".").pop()}):[],_.isEmpty(r)||(o=r.join(l("%common_separator"))),p=d.attr("name").replace("_files",""),g=e.find(".attachment"),u=0,c=g.length;u<c;u++)a=g[u],i=$(a),f=$("<input class='origin-file-input' type='file' name='"+p+"' data-max-size='"+h+"' accept='"+s+"'>"),t(e,f),n&&f.after($("<div class='help-block inline-error'><i class='gd-icon-times-circle'></i>"+n+"</div>")),i.html(f).show(),_.isEmpty(r)||i.after($("<p class='text-muted accept-file-extensions-text'>"+l("%attachment_media_type_support")+" "+o+"</p>"));return e.closest("form").attr("enctype","multipart/form-data")},d=function(t){var e;if(t)return e=t.join("|"),RegExp(".*\\.("+e+")$","gi")},t=function(t,e){return e.off("change").on("change",function(e){var n,i,r,o,a;if(r=null!=(a=e.target)?a.files[0]:void 0)return n=$(this).data("extensions"),n&&(o=d(n)),i=GD.validateFile(r,$(this).data("max-size"),o),s(t,i)})},s=function(t,e){var n,i;if(i=t.find(".attachment"),n=t.closest("form").find(".submit-field input.submit, .entry-show .actions [data-role='submit']"),GD.clearErrorMessageBelow(i),GD.enableBtn(n),!_.isEmpty(e))return GD.disableBtn(n),_.each(e,function(t){return GD.showErrorMessageBelow(i,t)})},b=function(t){var e,n;return n=t.find(".attachment:visible").size(),e=t.find(".attachment-select-trigger"),e.toggle(n<e.data("max-file-quantity"))},C=function(t,e,n){var i;return null!=n.image_url&&(i="<a href='"+n.image_url_for_lightbox+"' rel='lightbox["+t.field+"]'><img src='"+n.image_url+"'></a>",e.find(".preview-area .preview").html(i)),e.find("input[data-role=attachment_id]").val(n.attachment_id).trigger("change")},x=function(t,e){var n;return n=_.isArray(e)?e.join(l("%common_separator")):e,m(t,n)},w=function(t,e,n){var i,r;return r=e.context,i=t.find(".jquery-file-upload-file-input").data("callback-url"),$.ajax({type:"POST",url:i,data:n,dataType:"json"}).done(function(e){return setTimeout(function(){return r.find(".progress-bar").css("width","100%").fadeOut(),GD.updateSubmitBtnForUploadAttachment(t)},200),C(n,r,e)}).fail(function(t){var e;return e=$.parseJSON(t.responseText),x(r,e.errors)})},g=function(t,e){var n,i,r,o;return n=e.name.split("."),i=n[n.length-1].toLowerCase(),r=null!=(o=GD.attachmentIconPath[i])?o:GD.attachmentIconPath["default"],t.find(".preview-area .preview").html("<img src='"+r+"'>")},u=function(t){return setTimeout(function(){return t.find(".attachment-error-message").html("")},3e3)},v=function(t,e){var n,i,r;return r=t.find(".attachment.rechoosing"),n=t.find(".attachment").first(),1===t.find(".attachment:hidden").size()?e.context=n.show():r.size()>0?(e.context=r,r.removeClass("rechoosing")):(i=n.clone().show(),t.find(".attachments").append(i),e.context=i),e.context.removeClass("uploaded")},p=function(t){var e;return e=t.find("input:file"),e.prop("multiple",e.data("origin-multiple"))},y=function(t,e,n){var i;return i=Date.parse(new Date)+"_"+_.random(0,1e3)+"_"+n,t.formData={accept:"text/plain; charset=utf-8",token:e,"x:field_api_code":t.context.closest(".field[data-api-code]").data("api-code"),"x:timestamp_with_random_number":i}},e=function(t,e){return e.field=t.data("api-code"),e.maxFileQuantity=t.find(".attachment-select-trigger").data("max-file-quantity"),e.availableFileQuantity=e.maxFileQuantity-t.find(".attachment:visible").size()},i=function(t){return t.on("click",".attachment a[data-role=cancel]",function(){var e;return GD.resetAttachment($(this).closest(".attachment")),b(t),null!=(e=$(this).data("jqXHR"))&&e.abort(),GD.updateSubmitBtnForUploadAttachment(t)})},o=function(t){return t.on("click",".attachment [data-role=rechoose]",function(){return t.find("input:file").prop("multiple",!1),$(this).closest(".attachment").addClass("rechoosing")})},r=function(t){return i(t),o(t),t.find(".attachment-select-trigger").on("dragleave",function(){return $(this).removeClass("drag-over")})},n=function(t,e){var n,i,r;return n=t.find(".attachment-error-message"),r=t.find(".attachment:visible").hasClass("rechoosing"),i=r||e.availableFileQuantity>0,i?n.empty():n.html(l("%max_file_quantity",{maxFileQuantity:e.maxFileQuantity})),i},h=function(t,e,n,i){var r;return i||(i={}),r=t.find(".jquery-file-upload-file-input").data("token-url"),$.post(r,function(r){return y(e,r.token,n),e.context.find("[data-role=cancel]").data("jqXHR",e.submit()),b(t),"function"==typeof i.success?i.success():void 0},"json").fail(function(){return function(t){var n;return n=JSON.parse(t.responseText),m(e.context,n.errors.join(l("%common_separator"))),"function"==typeof i.error?i.error():void 0}}())},c=function(t){var i,o,s;if("function"==typeof $("input:file").fileupload)return r(t),o=0,s=t.is("td"),i=t.find(".attachment-select-trigger"),t.find(".jquery-file-upload-file-input").fileupload({dataType:"json",dropZone:i,paramName:"file",sequentialUploads:!0,url:"https://up.qbox.me/",dragover:function(){return i.addClass("drag-over")},drop:function(){return i.removeClass("drag-over")},add:function(r,a){var u,c,p,y;return e(t,a),!!n(t,a)&&(v(t,a),p=a.files[0],g(a.context,p),f(a.context,p.name,GD.numberToHumanSize(p.size)),u=$(this).data("extensions"),(null!=u?u.length:void 0)>0&&(y=d(u)),c=GD.validateFile(p,$(this).data("max-size"),y,{simple:s}),c.length>0?(GD.updateSubmitBtnForUploadAttachment(t),i.hide(),m(a.context,c.join(l("%common_separator")),{simple:s})):a.context.hasClass("preview")?b(t):(h(t,a,o,{success:function(){return o+=1},error:function(){return i.hide()}}),GD.updateSubmitBtnForUploadAttachment(t)))},progress:function(t,e){var n,i;return n=parseInt(e.loaded/e.total*100,10),i=Math.min(n,99)+"%",e.context.find(".progress-bar").css("width",i)},fail:function(e,n){var i;return 401===(i=n.jqXHR.status)||0===i?m(n.context,l("%upload_failed_"+n.jqXHR.status)):400===n.jqXHR.status?a(t,l("%upload_failed_400")):(0!==n.jqXHR.status&&$.post("/qiniu_failures",{url:url(),status:n.jqXHR.status,message:n.jqXHR.responseText,file_name:n.files[0].name,authenticity_token:n.context.closest("form").find("[name=authenticity_token]").val(),user_agent:navigator.userAgent,comment:"window.FormData = "+D+", isMobile = "+!!GD.isMobile}),m(n.context,l("%upload_failed",{status:n.jqXHR.status})))},done:function(e,n){var i;return u(t),p(t),n.context.addClass("uploaded"),i=n.result,i?w(t,n,i):m(n.context,l("%upload_failed_401"))}})},GD.initializeFileUploads=function(t){var e,n,i,r,o;for(r=t.find(".field-attachment-field"),o=[],n=0,i=r.length;n<i;n++)e=r[n],D?o.push(c($(e))):o.push(a($(e)));return o},$(document).on("turbolinks:load ajax:complete",function(){return GD.initializeFileUploads($(document))}),$(document).on("mouseenter",".field-attachment-field:not(td) .attachment:not(.error)",function(){return $(this).find(".web-actions").removeClass("hide")}),$(document).on("mouseleave",".field-attachment-field:not(td) .attachment:not(.error)",function(){return $(this).find(".web-actions").addClass("hide")}),$(document).on("mouseenter","td.field-attachment-field .attachment",function(){if(!GD.isMobile)return $(this).find(".preview-area, .status, .status + .error").hide(),$(this).find(".web-actions").removeClass("hide")}),$(document).on("mouseleave","td.field-attachment-field .attachment",function(){if(!GD.isMobile)return $(this).hasClass("error")?$(this).find(".status + .error").show():$(this).find(".preview-area, .status").show(),$(this).find(".web-actions").addClass("hide")})}.call(this),function(){var t;t=function(t){var e,n;return n=$.trim(t.val()),e=t.closest(".field").data("api-code"),[n,e]},$(document).on("click","[data-role='verification_sender'] a.send-token-link:not(.disabled):not(.preview)",function(){var e,n,i,r,o,a,s;if(!($(this).closest(".preview-mode").length>0)&&$(this).data("url"))return e=$(this).closest("[data-role='verification_sender']"),GD.clearErrorMessageBelow(e),a=t(e.find(".mobile-input")),r=a[0],o=a[1],GD.isMobileNumber(r)?(s={mobile:r,field_api_code:o},n=$(this).closest("form").find("[name='authenticity_token']").val(),i={field_verification:s,authenticity_token:n,form_id:$(this).data("form-id")},new GD.SMSSender($(this),$(this).data("url"),e).send(i)):GD.showErrorMessageBelow(e,l("%warn_wrong_mobile_number"))})}.call(this),function(){var t,e,n,i,r,o,a,s,l,u;t='<table class="table table-bordered table-hover">\n  <thead>\n    <tr>\n      <th></th>\n      [[ _(dimensions).each(function(dimension) { ]]\n        <th>{{- dimension }}</th>\n      [[ }) ]]\n    </tr>\n  </thead>\n  <tbody>\n    [[ _(statements).each(function(statement) { ]]\n      <tr>\n        <td class="statement">{{- statement.label }}</td>\n        [[ _(dimensions.length).times(function(index) { ]]\n          <td>{{- (statement.values || [])[index] }}</td>\n        [[ }) ]]\n      </tr>\n    [[ }) ]]\n  </tbody>\n</table>',e='<table class="table table-bordered table-hover">\n  <thead>\n    <tr>\n      [[ _(dimensions).each(function(dimension) { ]]\n        <th>{{- dimension }}</th>\n      [[ }) ]]\n    </tr>\n  </thead>\n  <tbody>\n    [[ if (values && values.length > 0) { ]]\n      [[ _(values).each(function(row) { ]]\n        <tr>\n          [[ _(row).each(function(cell) { ]]\n            <td>{{- cell }}</td>\n          [[ }) ]]\n        </tr>\n      [[ }) ]]\n    [[ } else { ]]\n      <tr><td class="text-center" colspan="{{ dimensions.length }}"><span class="text-muted">\u6682\u65e0\u6570\u636e</span></td></tr>\n    [[ } ]]\n  </tbody>\n</table>',s=function(e,n){var i,r;return r=_.template(t),i=r(n),e.html(i)},l=function(t,n){var i,r;return r=_.template(e),i=r(n),t.html(i)},a=function(t){var e;return e=t.find("select[data-role=select], .form-association-openid").data("display-values"),e?_(e).each(function(e,n){var i;return i=t.find("[data-display-field-api-code="+n+"]"),e&&e.dimensions&&e.statements?s(i,e):e&&e.dimensions?l(i,e):e&&"geo-field"===i.data("display-field-type")?i.html("<a href='https://uri.amap.com/marker?position="+e.longitude+","+e.latitude+"' target='_blank'>"+e.address+"</a>"):i.text(e)}):n(t)},n=function(t){return t.find(".display-field-content").text("")},o=function(t,e){var n;if((null!=(n=e.data.pagination)?n.more:void 0)&&t.$results[0].scrollHeight===t.$results.height())return t.results.hideMessages(),t.results.loadMore()},i=function(t,e){return t.find("select[data-role=select_filter]").filter(function(){return $(this).data("role-index")>e.data("role-index")}).find("option[value!='']").remove(),t.find("select[data-role=select]").find("option[value!='']").remove().trigger("change")},u=function(t){var e;return e=t.find("select[data-role=select]").data("associated-field-values"),_(e).each(function(e,n){var i;if(i=t.find("[data-filter-key="+n+"]"),!i.val())return i.append(new Option(e.text,e.code)),i.val(e.code)})},r=function(t){var e,n;if(e=t.closest(".field.field-form-association"),n=$("[name=x_field_weixin_openid]").val())return $.ajax({type:"GET",url:t.data("base-url")+"/"+n,dataType:"json",complete:function(n,i){return"success"!==i?GD.showErrorMessageBelow(e,"\u83b7\u53d6\u4fe1\u606f\u5931\u8d25"):(t.data("display-values",n.responseJSON),a(e))}})},GD.initFormAssociation=function(t){var e;return e=t.find(".field.field-form-association"),e.find(".form-association-openid").length>0&&r(e.find(".form-association-openid")),e.on("change","select[data-role=select]",function(){return a($(this).closest(".field.field-form-association")),u($(this).closest(".field.field-form-association"))}),e.on("change","select[data-role=select_filter]",function(t){return i($(this).closest(".field.field-form-association"),$(t.target))}),e.on("select2:select","select",function(t){var e,n,i;return e=$(this),e.data("should-verify")&&(i=+t.params.data.text,n=e.closest(".field").find('[data-role="verification_sender"]'),n.find(".mobile-input").val(i)),e.data("display-values",t.params.data.display_values),e.data("associated-field-values",t.params.data.associated_field_values),e.trigger("change")}),e.on("select2:open","select",function(){var t;if(!$(this).data("loadMoreEnhancement"))return $(this).data("loadMoreEnhancement",!0),t=$(this).data("select2"),t.on("results:all",function(e){return o(t,e)}),t.on("results:append",function(e){return o(t,e)})}),e.find("select[data-role=select]").each(function(){var t,e,n;if(t=$(this),t.data("should-verify"))return n=t.data("token-length"),e=t.closest(".field").find('[data-role="verification_sender"]'),e.find(".verification-token").on("keyup",function(){var i,r,o,a;if(a=$(this).val(),a.length===n)return GD.clearErrorMessageBelow(e),o=t.find("option:selected").text(),e.find(".mobile-input").val(o),r=t.val(),i=t.data("ajax--url"),$.ajax({type:"GET",url:i+"/"+r,data:{mobile_verification:a,q:$.trim(e.find(".mobile-input").val())},dataType:"json",complete:function(n,i){return"success"!==i?GD.showErrorMessageBelow(e,"\u9a8c\u8bc1\u5931\u8d25"):(t.data("display-values",n.responseJSON),t.trigger("change"))}})})})},$(document).on("turbolinks:load ajax:complete",function(){if(!($(".dashboard").length>0))return GD.initFormAssociation($("form"))})}.call(this),function(){var t=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};window.GD||(window.GD={}),$(function(){var e,n,i;return i=function(t,e){var n,i,r,o,a,s,l,u,d,c,h,p,f,g;if(null==e&&(e=!1),e&&null!=GD.cachedFieldValue[t])return GD.cachedFieldValue[t];for(s=$(".field:not(.logic-hidden) #entry_"+t).filter(":not([type=radio])"),n=$(".field:not(.logic-hidden) #entry_"+t+"_level_1"),i=$(".field:not(.logic-hidden) #entry_"+t+"_level_2"),r=$(".field:not(.logic-hidden) #entry_"+t+"_level_3"),o=$(".field:not(.logic-hidden) #entry_"+t+"_level_4"),
c=$(".field:not(.logic-hidden) [type=radio][name='entry["+t+"]']:checked"),a=$(".field:not(.logic-hidden) [type=checkbox][name='entry["+t+"][]']:checked"),d=$(".non-editable-field-value-for-field-rule"),u=s.add(n).add(i).add(r).add(o).add(c).add(a).add(d),g=[],p=0,f=u.length;p<f;p++)h=u[p],l=$(h),(0===l.closest(".form-page").length||l.closest(".form-page").length&&l.closest(".form-page").is(":visible"))&&(l=l.filter(":visible"),!l.length)||(l.parents("[data-role=multiple-cascade]")?g.push(l.val()||l.data("value")):g.push(l.val()));return g=_.flatten(g),e?GD.cachedFieldValue[t]=g:g},n=function(){function t(t,e){var n;this.apiCode=e,this.targets=[],this.element=t.find("#entry_"+this.apiCode),n=this.apiCode.replace(/_level_\d$/,""),this.elementContainer=t.find(".field[data-api-code='"+n+"']"),this.elementContainer.addClass("logic-trigger")}return t.prototype._informTargets=function(t,e){var n,i,r,o,a;for(e=null==e||e,r=this.targets,o=[],n=0,i=r.length;n<i;n++)a=r[n],o.push(a.set(this.apiCode,t,e));return o},t.prototype.run=function(t){return this.element.on("change.formLogic",function(e){return function(n){if(e._informTargets(i(e.apiCode),t),!$(n.target).hasClass("with-other-choice"))return n.stopPropagation()}}(this)),this.elementContainer.on("change.formLogic",function(t){return function(){return t._informTargets(i(t.apiCode),!1)}}(this))},t}(),e=function(){function e(t,e,n,r){var o,a,s,l,u;for(this.apiCode=e,this.triggerConditions=n,this.mode=r,this.element=t.find("[name^='entry["+this.apiCode+"]']"),this.elementContainer=t.find(".field[data-api-code='"+this.apiCode+"']:not([data-dimension-api-code])"),l=this.element,a=0,s=l.length;a<s;a++)o=l[a],$(o).data("disabled",$(o).prop("disabled"));for(u in this.triggerConditions)this.set(u,i(u,!0),!1)}return e.prototype._onElementContainerShowHide=function(){return this.elementContainer.trigger("change.formLogic"),GD.recalcFormHeight(),$(window).trigger("formContentShowHide")},e.prototype.set=function(e,n,i){var r,o,a,s,l;if(null==i&&(i=!0),l=null!=(a=this.elementContainer.data("triggered-by-mode-"+this.mode))?a:[],"show"===this.mode&&(o=!_.isEmpty(_.compact(n))&&_.intersection(n,this.triggerConditions[e]).length>0),"hide"===this.mode&&(o=!_.isEmpty(_.compact(n))&&0===_.intersection(n,this.triggerConditions[e]).length),o?t.call(l,e)<0&&l.push(e):l=_.without(l,e),this.elementContainer.data("triggered-by-mode-"+this.mode,l),r=this.elementContainer.hasClass("logic-hidden"),s=l.length>0,s&&r&&this._showTarget(i),!s&&!r)return this._hideTarget(i)},e.prototype._showTarget=function(t){return this.elementContainer.removeClass("logic-hidden"),this.elementContainer.slideDown(t?"fast":0,function(t){return function(){var e,n,i,r;for(t.elementContainer.trigger("shown.logic"),autosize(t.elementContainer.find("textarea")),r=t.element,n=0,i=r.length;n<i;n++)e=r[n],0===$(e).closest(".display-only").length&&$(e).prop("disabled",!1);return t._onElementContainerShowHide()}}(this)),GD.updateMathJax()},e.prototype._hideTarget=function(t){return this.elementContainer.addClass("logic-hidden"),this.elementContainer.slideUp(t?"fast":0,function(t){return function(){var e,n,i,r;for(t.elementContainer.trigger("hidden.logic"),r=t.element,n=0,i=r.length;n<i;n++)e=r[n],$(e).prop("disabled",!0);return t._onElementContainerShowHide()}}(this))},e}(),GD.FormLogic=function(){function t(t,i){var r,o,a,s,l,u,d;null==i&&(i=$(document)),this.triggers={},this.targets={};for(a in t){s=t[a],this.triggers[a]={},this.targets[a]={};for(l in s){d=s[l],(r=this.targets[a])[l]||(r[l]=new e(i,l,d,a));for(u in d)(o=this.triggers[a])[u]||(o[u]=new n(i,u)),this.triggers[a][u].targets.push(this.targets[a][l])}}}return t.prototype.run=function(t){var e,n,i,r,o,a;r=this.triggers,o=[];for(i in r)a=r[i],o.push(function(){var i;i=[];for(e in a)n=a[e],i.push(n.run(t));return i}());return o},t}(),GD.initFormLogic=function(t,e){return null==e&&(e=$(document)),GD.cachedFieldValue={},GD.formLogic=new GD.FormLogic(t,e),GD.formLogic.run()}})}.call(this),function(){var t,e,n,i;window.GD||(window.GD={}),i=function(t,e){if(GD.DimensionedTabularField.rowHasValue(t))return _(e).reduce(function(e,n){var i;return i=t.find("[data-dimension-api-code="+n+"]"),e[n]=GD.DimensionedTabularField.cellValue(i),e},{})},n=function(){function t(t,e){this.$fieldDom=t,this.apiCode=this.$fieldDom.data("api-code"),this.fieldType=GD.pascalCase(this.$fieldDom.data("field-type")),this.dimensionApiCodes=this.dimensionApiCodesWithFormulaExpanded(e)}return t.prototype.change=function(t){var e;return this.dimensionApiCodes.length>0?this.$fieldDom.on("change","td input",function(e){return function(n){var i;if(i=$(n.target).closest("[data-dimension-api-code]").data("dimension-api-code"),e.dimensionApiCodes.includes(i))return t()}}(this)):this.$fieldDom.hasClass("field-cascade-drop-down")?(e=this.$fieldDom.data("levels"),this.$fieldDom.find("select[data-level="+e+"]").change(t)):this.$fieldDom.hasClass("field-form-association")?this.$fieldDom.find("select[data-role=select]").change(t):this.$fieldDom.change(t)},t.prototype.value=function(){return this.$fieldDom.hasClass("logic-hidden")?null:this["valueBy"+this.fieldType].call(this)},t.prototype.valueByDateField=function(){return this.$fieldDom.find("input").val()},t.prototype.valueByNumberField=function(){return this.$fieldDom.find("input[type=number]").val()},t.prototype.valueByRadioButton=function(){return this.$fieldDom.find("input:checked").val()},t.prototype.valueByCheckBox=function(){return _(this.$fieldDom.find("input:checked")).map(function(t){return t.value})},t.prototype.valueByImageRadioButton=function(){return this.$fieldDom.find("input:checked").val()},t.prototype.valueByImageCheckBox=function(){return _(this.$fieldDom.find("input:checked")).map(function(t){return t.value})},t.prototype.valueByDropDown=function(){return this.$fieldDom.find("select").val()},t.prototype.valueByLikertField=function(){return _(this.$fieldDom.find("tr")).reduce(function(t,e){var n;return n=$(e),t[n.data("api-code")]=n.find("input:checked").val(),t},{})},t.prototype.valueByFormAssociation=function(){return this.$fieldDom.find("select[data-role=select]").val()},t.prototype.valueByTableField=function(){var t;return t=_(this.$fieldDom.find("tbody tr")).reduce(function(t){return function(e,n){var r;return r=i($(n),t.dimensionApiCodes),r&&e.push(r),e}}(this),[]),_.isEmpty(t)?null:t},t.prototype.valueByMatrixField=function(){var t;return t=_(this.$fieldDom.find("tbody tr")).reduce(function(t){return function(e,n){var r,o;return r=$(n),o=i(r,t.dimensionApiCodes),o&&(e[r.data("statement-api-code")]=o),e}}(this),{}),_.isEmpty(t)?null:t},t.prototype.valueByCascadeDropDown=function(){return this.$fieldDom.data("levels"),_(this.$fieldDom.find("select[data-level]")).reduce(function(t,e){var n;return n=$(e),t["level_"+n.data("level")]=n.val(),t},{})},t.prototype.dimensionApiCodesWithFormulaExpanded=function(t){var e;return t?(e=_(t).reduce(function(t){return function(e,n){var i;return i=t.$fieldDom.find("input[data-role=formula-field][data-api-code="+n+"]"),i.length>0&&e.push(i.data("required-fields")),e.push(n),e}}(this),[]),_(e).chain().flatten().uniq().value()):[]},t}(),e=function(){function t(t){this.$fieldInput=$("input[data-role=formula-field]",t),this.apiCode=this.$fieldInput.data("api-code"),this.requiredApiCodes=this.$fieldInput.data("required-fields"),this.$fieldInput.data("display-as-percentage")&&this.initPercentageStyle()}return t.prototype.updateResult=function(t){return this.$fieldInput.val(t)},t.prototype.initPercentageStyle=function(){var t,e,n;if(n=this.$fieldInput.val(),!GD.isEmpty(n))return t=this.$fieldInput.data("precision"),e=GD.prettyFormatNumber(n,t,!0),this.updateResult(e)},t}(),t=function(){function t(t){var i,r,o;this.form=t,this.url=this.form.data("calculation-path"),this.url&&(this.formulas=_(this.form.find(".field.field-formula-field:not(.dimension)")).map(function(t){return new e(t)}),r=this.requiredApiCodesWithDimensions(),i=r[0],o=r[1],this.formulaTriggers=_(i).uniq().map(function(t){return function(e){var i,r,a;if(i=t.form.find(".field[data-api-code="+e+"]"),0!==i.size())return r=_(o[e]).uniq(),a=new n(i,r),a.change(t.triggerChanged.bind(t)),a}}(this)),this.formulaTriggers=_.compact(this.formulaTriggers),this.initFullPageRecalculationEvent(),this.formulaTriggers.some(function(t){return!_.isEmpty(t.value())})&&this.triggerChanged())}return t.prototype.requiredApiCodesWithDimensions=function(){var t,e;return t=[],e={},_(this.formulas).each(function(n){return _(n.requiredApiCodes).each(function(n){var i;if(i=n.split(".")[0],t.push(i),n.includes("."))return e[i]||(e[i]=[]),e[i].push(n.split(".")[1])})}),[t,e]},t.prototype.triggerChanged=function(){var t,e;if(!this.form.hasClass("restoring")&&(e=this.targetApiCodes(),e.length>0))return t={calculation:{targets:e,variables:this.variableValues()}},$.ajax({url:this.url,type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(t)}).done(function(t){return function(e){return t.updateResults(e)}}(this)).fail(function(t){return alert("error: "+t.responseText)})},t.prototype.updateResults=function(t){return _(t).each(function(t){return function(e,n){return t.findFormulaByCode(n).updateResult(e)}}(this))},t.prototype.targetApiCodes=function(){return _(this.formulas).map(function(t){return t.apiCode})},t.prototype.variableValues=function(){return _(this.formulaTriggers).reduce(function(t,e){return t[e.apiCode]=e.value(),t},{})},t.prototype.findFormulaByCode=function(t){return _(this.formulas).findWhere({apiCode:t})},t.prototype.initFullPageRecalculationEvent=function(){return this.form.on("recalculation",function(t){return function(){return t.triggerChanged()}}(this))},t}(),GD.initFormula=function(e){return new t(e)},$(document).on("turbolinks:load ajax:complete",function(){var t;if(t=$("form"),t.data("calculation-path"))return GD.initFormula(t)})}.call(this),function(){$(function(){var t,e,n,i;return t=function(){function t(t){var e,n,i,r,o;o=t.sku,this.fieldApiCode=t.fieldApiCode,this.goodsApiCode=t.goodsApiCode,null==o&&(o={}),this.specification=null!=(n=o.specification)?n:{},this.price=parseFloat(null!=(i=o.price)?i:t.price),e=null!=(r=o.inventory)?r:t.inventory,this.inventory=null!=e?parseInt(e):null}return t.prototype.priceDisplay=function(){return"<span class='currency'>&yen;</span>"+this.price.toFixed(2)},t.prototype.inventoryDisplay=function(t,e){return null==this.inventory?"":this.inventory>0?t+" "+this.inventory+" "+e:l("%sold_out")},t}(),e=function(){function e(t,e){var n;this.$el=t,this.shoppingCart=e,this.initialPriceDisplay=this.$el.find(".price").html(),this.initialInventoryDisplay=this.$el.find(".inventory").html(),this.unit=this.$el.data("unit"),this.numberEditable=!this.$el.find(".number-container").hasClass("fixed-number"),this.predefinedNumber=this.$el.find(".number-container").data("predefined-number"),n=this.$el.is(".disabled"),this._initializeCurrentSpecification(),this._initializeGoodsSKUs(n),(this.$el.is(":visible")||this._mobileGoodsVisible())&&this._updateCurrentGoodsSKU(n),n||(this._bindOnDimensionChangeEvent(),this._bindOnIncreaseDecreaseClickEvent(),this._bindOnNumberChangeEvent(),this._updateDecreaseIncreaseBtn(this._currentNumber()))}return e.prototype._addGoodsSKU=function(e,n,i,r,o){var a;return null==i&&(i=null),null==r&&(r=null),null==o&&(o=null),a=new t({fieldApiCode:e,goodsApiCode:n,sku:i,price:r,inventory:o}),this.goodsSKUs.push(a)},e.prototype._initializeGoodsSKUs=function(t){var e,n,i,r,o,a,s,l,u;if(this.goodsSKUs=[],a=this.$el.find("input.number"),e=a.data("field-api-code"),n=a.data("goods-api-code"),u=this.$el.find(".dimensions").data("skus"),!_.isEmpty(u))for(i=0,o=u.length;i<o;i++)l=u[i],this._addGoodsSKU(e,n,l);if(0===this.goodsSKUs.length&&(s=a.data("goods-price"),r=a.data("inventory"),this._addGoodsSKU(e,n,null,s,r),!t))return this._updateNumberInput(),this._updateDecreaseIncreaseBtn(0)},e.prototype._matchedGoodsSKU=function(){return _.find(this.goodsSKUs,function(t){return function(e){return _.isEqual(e.specification,t.currentSpecification)}}(this))},e.prototype._updateNumberInput=function(){var t,e,n;return n=this.$el.find("input.number[type=number]"),e=this._matchedGoodsSKU(),this.numberEditable?n.prop("disabled",null==e||null!=e.inventory&&0===e.inventory):(0===this.$el.find("input.number[type=hidden]").length&&(t=n.clone().attr("type","hidden").prop("disabled",!1).appendTo(this.$el.find(".number-container")),n.on("change",function(){return t.val(n.val())})),n.prop("readonly",!0))},e.prototype._updateDecreaseIncreaseBtn=function(t){var e,n,i;if(i=this._matchedGoodsSKU(),n=$(this.$el.find(".increase")),e=$(this.$el.find(".decrease")),n.toggleClass("disabled",!this.numberEditable||null==i||null!=i.inventory&&i.inventory<=t),e.toggleClass("disabled",!this.numberEditable||t<=0),GD.isLowVersionIE())return n.html(n.html()),e.html(e.html())},e.prototype._updatePriceAndInventoryDisplay=function(){var t;return t=this._matchedGoodsSKU(),null!=t?(this.$el.find(".price").html(t.priceDisplay()),this.$el.find(".inventory").html(t.inventoryDisplay(this.$el.data("inventory-label"),this.$el.data("unit")))):(this.$el.find(".price").html(this.initialPriceDisplay),this.$el.find(".inventory").html(this.initialInventoryDisplay))},e.prototype._changeDimensionInput=function(t,e,n){var i;return t.val(n).change(),e.find("label.selected").removeClass("selected"),i=e.find("input:radio:checked"),i.next("label").addClass("selected"),this.currentSpecification[i.data("dimension")]=i.val(),this._updatePriceAndInventoryDisplay(),this._updateNumberInput(),this._updateDecreaseIncreaseBtn(n)},e.prototype._bindOnDimensionChangeEvent=function(){return this.$el.find(".dimension-options input:radio").change(function(t){return function(e){var n,i;return n=$(e.target),i=t.$el.find("input.number"),t._changeDimensionInput($(i),n.closest(".dimension-options"),0),t._changeDimensionInput($(i),n.closest(".dimension-options"),t.predefinedNumber)}}(this)),this.$el.find(".dimension-options label").click(function(t){return function(){var e,n;return e=$(event.target),n=e.attr("for"),t.$el.find("#"+n).prop("checked",!0).trigger("change")}}(this))},e.prototype._bindOnIncreaseDecreaseClickEvent=function(){var t;return t=this,this.$el.find(".number-container a").click(function(e){var n,i,r;return!$(this).hasClass("disabled")&&(e.preventDefault(),i=t._matchedGoodsSKU(),null!=i&&(r=t._currentNumber(),(n=$(this).is(".increase")?r+1:r-1)>=0&&!(null!=i.inventory&&n>i.inventory))?t.$el.find("input.number").val(n).trigger("change"):void 0)})},e.prototype._bindOnNumberChangeEvent=function(){return this.$el.find("input.number").on("keydown",function(t){if(!(-1!==$.inArray(t.keyCode,[46,8,9,27,13])||t.keyCode>=35&&t.keyCode<=40))return(t.shiftKey||t.keyCode<48||t.keyCode>57)&&(t.keyCode<96||t.keyCode>105)?t.preventDefault():void 0}),this.$el.find("input.number").on("change change.restore",function(t){return function(e){var n,i,r;return n=$(e.target),i=n.val(),i&&$.isNumeric(i)&&i>0?n.val(parseInt(i)):n.val(0),r=t._matchedGoodsSKU(),null!=r&&null!=r.inventory&&i>r.inventory&&t.numberEditable&&n.val(r.inventory),t._updateDecreaseIncreaseBtn(i),t._addCurrentGoodsSKUsToShoppingCart()}}(this))},e.prototype._addCurrentGoodsSKUsToShoppingCart=function(t){return null==t&&(t=!1),this._updateShoppingCart(this._currentNumber(),t)},e.prototype._updateShoppingCart=function(t,e){var n;if(null!=(n=this._matchedGoodsSKU()))return this.shoppingCart.updateGoodsSKUNumber(n,t,this.unit,e),this.$el.toggleClass("active",t>0)},e.prototype._updateCurrentGoodsSKU=function(t){if(this._updatePriceAndInventoryDisplay(),!t)return this._updateNumberInput()},e.prototype._mobileGoodsVisible=function(){return GD.isPhone&&this.$el.parents(".field [data-role=collapsible]").is(":visible")},e.prototype._initializeCurrentSpecification=function(){var t,e,n,i,r;for(this.currentSpecification={},n=this.$el.find(".dimensions input:radio:checked"),i=[],t=0,e=n.length;t<e;t++)r=n[t],i.push(this.currentSpecification[$(r).data("dimension")]=$(r).val());return i},e.prototype._currentNumber=function(){return parseInt(this.$el.find("input.number").val())},e}(),n=function(){function t(){this.goodsList=[],this.eventHandlers={}}return t.prototype.on=function(t,e){return this.eventHandlers[t]=e},t.prototype.trigger=function(){var t,e,n,i;if(t=[].slice.call(arguments),n=t[0],i=t.slice(1),null!=(e=this.eventHandlers[n])&&"function"==typeof e)return e.apply(this,i)},t.prototype.updateGoodsSKUNumber=function(t,e,n,i){var r,o,a;if(null==i&&(i=!1),r=_.find(this.goodsList,function(e){return _.isEqual(e.goodsSKU.fieldApiCode+"-"+e.goodsSKU.goodsApiCode,t.fieldApiCode+"-"+t.goodsApiCode)}),o=_.indexOf(this.goodsList,r),a={goodsSKU:t,number:e,unit:n},o>-1?this.goodsList[o]=a:this.goodsList.push(a),!i)return this.trigger("change",this,[a],"update")},t.prototype.totalPrice=function(){var t,e,n,i,r;for(r=0,i=this.goodsList,e=0,n=i.length;e<n;e++)t=i[e],r+=t.goodsSKU.price*t.number;return r},t.prototype._findGoodsByFieldApiCode=function(t){return _.filter(this.goodsList,function(e){return e.goodsSKU.fieldApiCode===t})},t.prototype.clearOnField=function(t){var e,n,i,r;for(e=this._findGoodsByFieldApiCode(t),i=0,r=e.length;i<r;i++)n=e[i],this.goodsList.splice(this.goodsList.indexOf(n),1);return this.trigger("change",this,e,"clear")},t}(),GD.initGoods=function(t){var i,r,o,a,s,u,d,c,h,p,f,g,m;if(f=new n,r=function(e){var n;return n=$(t).find(".fields .field[data-api-code='"+e+"'] .field-label"),$.trim(n.clone().children().remove().end().text())},o=function(e){var n,i,r;return n=$(t).find(".field[data-api-code='"+e.fieldApiCode+"'] [data-goods-api-code='"+e.goodsApiCode+"']").parents("[data-role=goods]"),i=$.trim(n.find(".name").text()),r=n.find(".dimensions input:radio:checked").map(function(t,e){return $.trim($(e).next("label").text())}).get().join(l("%common_separator")),""===r?""+i:i+"\uff08"+r+"\uff09"},m=function(e,n,i){var a,s,u,d,c,h,p,f,g,m,v,y,b,w,C,x,D,k,S;if(_.any(e.goodsList,function(t){return t.number>0})){if(s=$(t).find("#shopping_cart"),S=s.find(".content").length?s.find(".content"):s.append('<div class="content"></div>').find(".content"),"clear"===i)for(v=0,b=n.length;v<b;v++)h=n[v],m=h.goodsSKU,c=m.fieldApiCode,S.find(".cart-field[data-api-code='"+c+"']").remove();else if("update"===i||"init"===i)for(x=e.goodsList,y=0,w=x.length;y<w;y++)h=x[y],m=h.goodsSKU,c=m.fieldApiCode,p=m.goodsApiCode,"update"===i&&null!=(null!=(D=n[0])?D.goodsSKU:void 0)&&(null!=(k=n[0])?k.goodsSKU.fieldApiCode:void 0)!==c||(u=S.find(".cart-field[data-api-code='"+c+"']"),u.length>0?d=u:(d=$("<div class='cart-field' data-api-code='"+c+"'><div class='cart-field-label'>"+GD.htmlSafe(r(c))+"\uff1a</div><ul></ul></div>"),S.append(d)),g=d.find("ul"),a=g.find("[data-goods-api-code='"+p+"']"),f="<span class='goods-name'>"+GD.htmlSafe(o(m))+"</span><span class='price-number'><span class='currency'>&yen;</span>"+m.price.toFixed(2)+"/"+h.unit+" &times; "+h.number+"</span><span class='price-result'><span class='currency'>&yen;</span>"+(m.price*h.number).toFixed(2)+"</span>",a.length>0?h.number>0?a.html(f):a.remove():h.number>0&&g.append("<li data-goods-api-code='"+p+"'>"+f+"</li>"),d.find("[data-goods-api-code]").length>0||d.remove());S.find(".summary").remove(),S.append("<div class='summary'>"+l("%total")+"<span class='total-price'><span class='currency'>&yen;</span>"+e.totalPrice().toFixed(2)+"</span></div>"),$(t).find("#shopping_cart").html(S)}else $(t).find("#shopping_cart").empty();return C=_.isEmpty(e.goodsList)&&$("[data-role=goods]").closest(".form-group").find(".field-label:visible").length>0,$(".submit-field.payment input.submit").data("no-goods-selected",C),"function"==typeof GD.updateSubmitBtn&&GD.updateSubmitBtn(),"function"==typeof GD.recalcFormHeight?GD.recalcFormHeight():void 0},$(t).find("[data-role=goods]").length>0){for(f.on("change",m),$(t).on("hidden.logic",".field[data-api-code]",function(){return f.clearOnField($(this).data("api-code"))}),$(t).on("shown.logic",".field[data-api-code]",function(){var t,e,n,i,r;for(i=$(this).find("[data-role=goods] input.number"),r=[],e=0,n=i.length;e<n;e++)t=i[e],$(t).val()>0?r.push($(t).trigger("change")):r.push(void 0);return r}),p=$(t).find("[data-role=goods]"),d=0,c=p.length;d<c;d++)a=p[d],u=new e($(a),f),i=$(a).parents(".field[data-api-code]:not(.logic-hidden)"),h=$(a).find("input.number").val(),g=u.unit,null!=(s=u._matchedGoodsSKU())&&h&&(i.length&&f.goodsList.push({goodsSKU:s,number:h,unit:g}),u.$el.toggleClass("active"));return f.trigger("change",f,f.goodsList,"init")}},i=function(t){var e,n;if(n=function(){var n,i,r,o;for(r=t.find("input:checked").next("label"),o=[],n=0,i=r.length;n<i;n++)e=r[n],o.push($(e).text());return o}(),n.length>0)return t.prev("[data-role=spec_toggle]").find("span").text(n.join(l("%common_separator")))},$(document).on("change",".field .dimensions input:radio",function(){return i($(this).closest(".dimensions"))}),$(document).on("turbolinks:load",function(){if(!($(".dashboard").length>0))return GD.initGoods(document)})})}.call(this),function(){window.GD||(window.GD={}),GD.initLikert=function(t){return $(t).on("click",".likert td",function(t){var e,n;if(!($("#form_design").length>0||$(t.target).is("input:radio")))return n=$(this).find("input:radio"),n.length>0?(e=n.prop("checked"),n.prop("checked",!e).change()):void 0}),document.addEventListener("scroll",function(t){if($(t.target).hasClass("likert"))return GD.blurEdge(t)},!0)},$(document).on("turbolinks:load",function(){if(!($(".dashboard").length>0))return GD.initLikert($("form")),GD.forceBlurEdge($(".likert .overflow-wrapper"))})}.call(this),function(){window.GD||(window.GD={}),GD.initMatrix=function(t){return tableColumnCalculation.init($(".matrix table, .matrix-field table")),GD.DimensionedTabularField.initCellVisibilityHandler(t,t.find(".matrix, .matrix-field")),document.addEventListener("scroll",function(t){if($(t.target).hasClass("matrix"))return GD.blurEdge(t)},!0)},$(document).on("turbolinks:load",function(){if(!($(".dashboard").length>0))return GD.initMatrix($("form")),GD.forceBlurEdge($(".matrix .overflow-wrapper"))})}.call(this),function(){GD.initNumber=function(t){return t.find('input[type=number][data-display-as-percentage="true"], input[type=number][data-thousands-separator="true"]').enhancedNumberInput()},$(document).on("turbolinks:load ajax:complete",function(){var t;return t=$("form"),GD.initNumber(t)})}.call(this),function(){var t,e;e=function(t,e){var n;return n=$(t).closest(".field").find("input.other-choice-input"),$(t).find(".other-choice-item").is(":selected")?(n.show(),n.removeClass("gd-hide"),e&&!$(t).prop("multiple")&&n.focus(),n.closest(".ui-input-text").show()):(n.hide(),n.addClass("gd-hide"),n.closest(".ui-input-text").hide())},t=function(){return function(t,e){return $(e).closest(".other-choice, .other-choice").find("input."+t)}}(),GD.initialDropdownOtherChoice=function(t,n){return $(t).find(".field select.with-other-choice").each(function(){return e(this,n)})},$(document).on("turbolinks:load",function(){return GD.initialDropdownOtherChoice(document,!1),$(".entry form, #new_entry").on("submit",function(){return $(this).find("input.other_choice").each(function(){if(!$(this).is(":checked"))return t("other-choice-input",this).val("")}),$(this).find("option.other-choice-item").each(function(){if(!$(this).is(":selected"))return $(this).closest(".field").find("input.other-choice-input").val("")})})}),$(document).on("click",".other-choice-input",function(){var e;if(e=t("other_choice",this),!e.is(":checked")&&(e.click(),null!=e.checkboxradio))return $("input[type=radio], input[type=checkbox]").checkboxradio("refresh")}),$(document).on("click","input.other_choice",function(){if(null!=$(this).checkboxradio&&$(this).checkboxradio("refresh"),$(this).is(":checked"))return t("other-choice-input",this).focus()}),$(document).on("change","form .field select.with-other-choice",function(){return e($(this),!0)})}.call(this),function(){GD.setPreviousValueForRadioChoice=function(t){return t.find(".field .choices input[type=radio]:checked").data("previous-value","checked")},GD.initRadioChoice=function(t){var e;return e=$(t),GD.setPreviousValueForRadioChoice(e),e.find(".field .choices input[type=radio]").on("click",function(){var t;return t=$(this),"checked"===t.data("previous-value")?t.data("previous-value",null).prop("checked",!1).trigger("change.formLogic"):(t.closest(".choices").find("input[type=radio]").data("previous-value",null),t.data("previous-value","checked"))})},$(document).on("turbolinks:load",function(){if($(document).find(".field .choices input[type=radio]").length>0)return GD.initRadioChoice(document)})}.call(this),function(){function t(n,i){if(n=n||"",i=i||{},n instanceof t)return n;if(!(this instanceof t))return new t(n,i);var r=e(n);this._originalInput=n,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=N(100*this._a)/100,this._format=i.format||r.format,this._gradientType=i.gradientType,this._r<1&&(this._r=N(this._r)),this._g<1&&(this._g=N(this._g)),this._b<1&&(this._b=N(this._b)),this._ok=r.ok,this._tc_id=L++}function e(t){var e={r:0,g:0,b:0},i=1,o=!1,s=!1;return"string"==typeof t&&(t=O(t)),"object"==typeof t&&(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")?(e=n(t.r,t.g,t.b),o=!0,s="%"===String(t.r).substr(-1)?"prgb":"rgb"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v")?(t.s=E(t.s),t.v=E(t.v),e=a(t.h,t.s,t.v),o=!0,s="hsv"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")&&(t.s=E(t.s),t.l=E(t.l),e=r(t.h,t.s,t.l),o=!0,s="hsl"),t.hasOwnProperty("a")&&(i=t.a)),i=C(i),{ok:o,format:t.format||s,r:j(255,q(e.r,0)),g:j(255,q(e.g,0)),b:j(255,q(e.b,0)),a:i}}function n(t,e,n){return{r:255*x(t,255),g:255*x(e,255),b:255*x(n,255)}}function i(t,e,n){t=x(t,255),e=x(e,255),n=x(n,255);var i,r,o=q(t,e,n),a=j(t,e,n),s=(o+a)/2;if(o==a)i=r=0;else{var l=o-a;switch(r=s>.5?l/(2-o-a):l/(o+a),o){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:r,l:s}}function r(t,e,n){function i(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var r,o,a;if(t=x(t,360),e=x(e,100),n=x(n,100),0===e)r=o=a=n;else{var s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;r=i(l,s,t+1/3),o=i(l,s,t),a=i(l,s,t-1/3)}return{r:255*r,g:255*o,b:255*a}}function o(t,e,n){t=x(t,255),e=x(e,255),n=x(n,255);var i,r,o=q(t,e,n),a=j(t,e,n),s=o,l=o-a;if(r=0===o?0:l/o,o==a)i=0;else{switch(o){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:r,v:s}}function a(t,e,n){t=6*x(t,360),e=x(e,100),n=x(n,100);var i=R.floor(t),r=t-i,o=n*(1-e),a=n*(1-r*e),s=n*(1-(1-r)*e),l=i%6;return{r:255*[n,a,o,o,s,n][l],g:255*[s,n,n,a,o,o][l],b:255*[o,o,s,n,n,a][l]}}function s(t,e,n,i){var r=[A(N(t).toString(16)),A(N(e).toString(16)),A(N(n).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function l(t,e,n,i){return[A(P(i)),A(N(t).toString(16)),A(N(e).toString(16)),A(N(n).toString(16))].join("")}function u(e,n){n=0===n?0:n||10;var i=t(e).toHsl();return i.s-=n/100,i.s=D(i.s),t(i)}function d(e,n){n=0===n?0:n||10;var i=t(e).toHsl();return i.s+=n/100,i.s=D(i.s),t(i)}function c(e){return t(e).desaturate(100)}function h(e,n){n=0===n?0:n||10;var i=t(e).toHsl();return i.l+=n/100,i.l=D(i.l),t(i)}function p(e,n){n=0===n?0:n||10;var i=t(e).toRgb();return i.r=q(0,j(255,i.r-N(-n/100*255))),i.g=q(0,j(255,i.g-N(-n/100*255))),i.b=q(0,j(255,i.b-N(-n/100*255))),t(i)}function f(e,n){n=0===n?0:n||10;var i=t(e).toHsl();return i.l-=n/100,i.l=D(i.l),t(i)}function g(e,n){var i=t(e).toHsl(),r=(N(i.h)+n)%360;return i.h=r<0?360+r:r,t(i)}function m(e){var n=t(e).toHsl();return n.h=(n.h+180)%360,t(n)}function v(e){var n=t(e).toHsl(),i=n.h;return[t(e),t({h:(i+120)%360,s:n.s,l:n.l}),t({h:(i+240)%360,s:n.s,l:n.l})]}function y(e){var n=t(e).toHsl(),i=n.h;return[t(e),t({h:(i+90)%360,s:n.s,l:n.l}),t({h:(i+180)%360,s:n.s,l:n.l}),t({h:(i+270)%360,s:n.s,l:n.l})]}function b(e){var n=t(e).toHsl(),i=n.h;return[t(e),t({h:(i+72)%360,s:n.s,l:n.l}),t({h:(i+216)%360,s:n.s,l:n.l})]}function w(e,n,i){n=n||6,i=i||30;var r=t(e).toHsl(),o=360/i,a=[t(e)];for(r.h=(r.h-(o*n>>1)+720)%360;--n;)r.h=(r.h+o)%360,a.push(t(r));return a}function _(e,n){n=n||6;for(var i=t(e).toHsv(),r=i.h,o=i.s,a=i.v,s=[],l=1/n;n--;)s.push(t({h:r,s:o,v:a})),a=(a+l)%1;return s}function $(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function C(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function x(t,e){S(t)&&(t="100%");var n=T(t);return t=j(e,q(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),R.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function D(t){return j(1,q(0,t))}function k(t){return parseInt(t,16)}function S(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function T(t){return"string"==typeof t&&-1!=t.indexOf("%")}function A(t){return 1==t.length?"0"+t:""+t}function E(t){return t<=1&&(t=100*t+"%"),t}function P(t){return Math.round(255*parseFloat(t)).toString(16)}function M(t){return k(t)/255}function O(t){t=t.replace(F,"").replace(G,"").toLowerCase();var e=!1;if(z[t])t=z[t],e=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=U.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=U.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=U.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=U.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=U.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=U.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=U.hex8.exec(t))?{a:M(n[1]),r:k(n[2]),g:k(n[3]),b:k(n[4]),format:e?"name":"hex8"}:(n=U.hex6.exec(t))?{r:k(n[1]),g:k(n[2]),b:k(n[3]),format:e?"name":"hex"}:!!(n=U.hex3.exec(t))&&{r:k(n[1]+""+n[1]),g:k(n[2]+""+n[2]),b:k(n[3]+""+n[3]),format:e?"name":"hex"}}function I(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:e,size:n}}var F=/^\s+/,G=/\s+$/,L=0,R=Math,N=R.round,j=R.min,q=R.max,H=R.random;t.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,i,r,o,a=this.toRgb();return t=a.r/255,e=a.g/255,n=a.b/255,i=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4),r=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4),o=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),.2126*i+.7152*r+.0722*o},setAlpha:function(t){return this._a=C(t),this._roundA=N(100*this._a)/100,this},toHsv:function(){var t=o(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=o(this._r,this._g,this._b),e=N(360*t.h),n=N(100*t.s),i=N(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+i+"%)":"hsva("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=i(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=i(this._r,this._g,this._b),e=N(360*t.h),n=N(100*t.s),r=N(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return s(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(){return l(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:N(this._r),g:N(this._g),b:N(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+N(this._r)+", "+N(this._g)+", "+N(this._b)+")":"rgba("+N(this._r)+", "+N(this._g)+", "+N(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:N(100*x(this._r,255))+"%",g:N(100*x(this._g,255))+"%",b:N(100*x(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+N(100*x(this._r,255))+"%, "+N(100*x(this._g,255))+"%, "+N(100*x(this._b,255))+"%)":"rgba("+N(100*x(this._r,255))+"%, "+N(100*x(this._g,255))+"%, "+N(100*x(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(B[s(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var n="#"+l(this._r,this._g,this._b,this._a),i=n,r=this._gradientType?"GradientType = 1, ":"";if(e){i=t(e).toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+n+",endColorstr="+i+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,i=this._a<1&&this._a>=0;return e||!i||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),
"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return t(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(h,arguments)},brighten:function(){return this._applyModification(p,arguments)},darken:function(){return this._applyModification(f,arguments)},desaturate:function(){return this._applyModification(u,arguments)},saturate:function(){return this._applyModification(d,arguments)},greyscale:function(){return this._applyModification(c,arguments)},spin:function(){return this._applyModification(g,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(w,arguments)},complement:function(){return this._applyCombination(m,arguments)},monochromatic:function(){return this._applyCombination(_,arguments)},splitcomplement:function(){return this._applyCombination(b,arguments)},triad:function(){return this._applyCombination(v,arguments)},tetrad:function(){return this._applyCombination(y,arguments)}},t.fromRatio=function(e,n){if("object"==typeof e){var i={};for(var r in e)e.hasOwnProperty(r)&&(i[r]="a"===r?e[r]:E(e[r]));e=i}return t(e,n)},t.equals=function(e,n){return!(!e||!n)&&t(e).toRgbString()==t(n).toRgbString()},t.random=function(){return t.fromRatio({r:H(),g:H(),b:H()})},t.mix=function(e,n,i){i=0===i?0:i||50;var r,o=t(e).toRgb(),a=t(n).toRgb(),s=i/100,l=2*s-1,u=a.a-o.a;r=l*u==-1?l:(l+u)/(1+l*u),r=(r+1)/2;var d=1-r;return t({r:a.r*r+o.r*d,g:a.g*r+o.g*d,b:a.b*r+o.b*d,a:a.a*s+o.a*(1-s)})},t.readability=function(e,n){var i=t(e),r=t(n);return(Math.max(i.getLuminance(),r.getLuminance())+.05)/(Math.min(i.getLuminance(),r.getLuminance())+.05)},t.isReadable=function(e,n,i){var r,o,a=t.readability(e,n);switch(o=!1,r=I(i),r.level+r.size){case"AAsmall":case"AAAlarge":o=a>=4.5;break;case"AAlarge":o=a>=3;break;case"AAAsmall":o=a>=7}return o},t.mostReadable=function(e,n,i){var r,o,a,s,l=null,u=0;i=i||{},o=i.includeFallbackColors,a=i.level,s=i.size;for(var d=0;d<n.length;d++)(r=t.readability(e,n[d]))>u&&(u=r,l=t(n[d]));return t.isReadable(e,l,{level:a,size:s})||!o?l:(i.includeFallbackColors=!1,t.mostReadable(e,["#fff","#000"],i))};var z=t.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},B=t.hexNames=$(z),U=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+r),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+r),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+r),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!=typeof module&&module.exports?module.exports=t:"function"==typeof define&&define.amd?define(function(){return t}):window.tinycolor=t}(),function(){var t=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};$(function(){var e,n,i,r,o,a,s;return a=!0,r=function(t){return performance.now(),tinycolor(t).lighten(20).toString()},o=function(t,e,n,i){var o,a;return o=$(t).find(".rating-group[data-field-id="+e+"] i"),o.removeClass("hover"),a=o[0].dataset.highlightColor,""!==i?($(t).find(".rating-group[data-field-id="+e+"] i:lt("+i+")").addClass("highlight").css("color",a),$(t).find(".rating-group[data-field-id="+e+"] i:gt("+(i-1)+")").removeClass("highlight").css("color",r($(this).data("highlightColor")))):$(t).find(".rating-group[data-field-id="+e+"] i").removeClass("highlight")},e=function(t){var e;return $(t).off("click touchend",".rating-group i"),e=function(e){var n,i,r,s,l,u;return e.stopPropagation(),GD.isMobile&&(a=!1),i=$(this).parents(".rating-group").data("field-id"),s=$(this).parents(".rating-group").data("rating-type"),l=$(this).data("value"),n=$(t).find("#entry_"+i),u=n.val().toString()===l.toString()?"":l,n.val(u).trigger("click"),r=$(t).find("[data-api-code='"+i+"'] .field-rating-rating"),r.length&&(u?r.text(u+"\u5206"):r.text("")),o(t,i,s,u)},GD.isMobile?$(t).on("touchend",".rating-group i",e):$(t).on("click",".rating-group i",e)},n=function(e){return $(e).off("mouseenter touchstart",".rating-group i"),$(e).on("mouseenter touchstart",".rating-group i",function(e){var n,i,o,s;if(e.stopPropagation(),e.preventDefault(),GD.isMobile&&(a=!0),a)return n=$(this).data("value"),s=$(this).parents(".rating-group"),i=s.data("field-id"),o=+s.find("input[id='entry_"+i+"']").val(),s.find("i").each(function(e){var i,a,s,l;return n>o?e+1<=o?($(this).addClass("highlight"),$(this).css("color",$(this).data("highlightColor"))):(i=e+1,t.call(function(){s=[];for(var t=a=o+1;a<=n?t<=n:t>=n;a<=n?t++:t--)s.push(t);return s}.apply(this),i)>=0?($(this).addClass("hover"),$(this).css("color",r($(this).data("highlightColor")))):($(this).removeClass("hover"),$(this).css("color",$(this).data("highlightColor")))):e+1<=n?($(this).removeClass("hover").addClass("highlight"),$(this).css("color",$(this).data("highlightColor"))):t.call(function(){l=[];for(var t=n;n<=o?t<o:t>o;n<=o?t++:t--)l.push(t);return l}.apply(this),e)>=0?($(this).removeClass("hover").removeClass("highlight"),$(this).hasClass("rating-text")&&$(this).addClass("hover"),$(this).css("color",r($(this).data("highlightColor")))):($(this).removeClass("hover").removeClass("highlight"),$(this).css("color",$(this).data("highlightColor")))})})},i=function(t){return $(t).off("mouseleave touchend",".rating-group"),$(t).on("mouseleave touchend",".rating-group",function(e){var n;return e.stopPropagation(),n=$(t).find("#entry_"+$(this).data("field-id")).val(),o(t,$(this).data("field-id"),$(this).data("rating-type"),n),a=!0})},s=function(t){var e,n,i,r,a,s,l,u,d;for(u=$(t).find(".rating-group"),d=[],i=0,a=u.length;i<a;i++)s=u[i],n=$(s).find("#entry_"+$(s).data("field-id")).val(),n?(e=$(s),r=e.data("field-id"),l=e.data("rating-type"),d.push(o(t,r,l,n))):d.push(void 0);return d},GD.initRating=function(t){return null==t&&(t=document),n(t),e(t),i(t),s(t)},$(document).on("turbolinks:load",function(){if(!($(".dashboard").length>0||$("#form_design").length>0))return $(document).find(".rating-group:not(.display-only)").length>0?GD.initRating(document):void 0})})}.call(this),function(){var t,e;t=/^(CODE_128|IFT|CODE_39|CODE_93|EAN_8|EAN_13|UPC_A|UPC_E),/i,e=function(e){return e.replace(t,"")},GD.initWechatScan=function(){return $(".wechat-scan").removeClass("disabled").on("click",function(){var t;return t=$(this).closest(".gd-input-group").find("input[type=text]"),"undefined"!=typeof wx&&null!==wx?wx.scanQRCode({needResult:1,scanType:["qrCode","barCode"],success:function(n){return t.val(e(n.resultStr))},fail:function(t){return alert(t.errMsg)}}):void 0})},$(document).on("turbolinks:load",function(){if("undefined"!=typeof wx&&null!==wx)return $(".wechat-scan").removeClass("hide").addClass("disabled")})}.call(this),function(){var t,e,n;window.GD||(window.GD={}),n=function(){function t(t,e){this.table=t,this.dimensionApiCode=e.data("dimension-api-code"),this.fieldType=GD.pascalCase(e.data("field-type"))}return t.prototype.change=function(t){return this.table.on("change",".dimension.field[data-dimension-api-code="+this.dimensionApiCode+"]",t)},t.prototype.value=function(t){var e;return e=this.table.find("tr[data-row-index="+t+"] td.dimension[data-dimension-api-code="+this.dimensionApiCode+"]"),this["valueBy"+this.fieldType].call(this,e)},t.prototype.valueByNumberField=function(t){return t.find("input[type=number]").val()},t.prototype.valueByDropDown=function(t){return t.find("select").val()},t.prototype.valueByDateField=function(t){return t.find("input").val()},t}(),e=function(){function t(t,e){var n;this.table=t,n=e.find("input[data-role=formula-field]"),this.dimensionApiCode=e.data("dimension-api-code"),this.requiredDimensionApiCodes=n.data("required-fields")}return t.prototype.updateResult=function(t,e){var n;return n=this.table.find("tr[data-row-index="+e+"] td.dimension[data-dimension-api-code="+this.dimensionApiCode+"]"),n.find("input.formula-field").val(t).trigger("change")},t}(),t=function(){function t(t,i){this.form=t,this.table=i,this.url=this.form.data("calculation-path"),this.url&&(this.tableApiCode=this.table.data("api-code"),this.tableFormulas=_(this.table.find("tbody tr:first-child .dimension.field.field-formula-field")).map(function(t){return function(n){return new e(t.table,$(n))}}(this)),this.allRequiredApiCodes=_(this.tableFormulas).chain().map(function(t){return t.requiredDimensionApiCodes}).flatten().uniq().value(),this.formulaTriggers=this.allRequiredApiCodes.map(function(t){return function(e){var i,r;if(i=t.table.find("tbody tr:first-child .dimension.field[data-dimension-api-code="+e+"]"),0!==i.size())return r=new n(t.table,i),r.change(t.triggerChanged.bind(t)),r}}(this)),this.formulaTriggers=_.compact(this.formulaTriggers),this.initFullPageRecalculationEvent())}return t.prototype.triggerChanged=function(t){var e,n,i;if(n=$(t.target).closest("tr").data("row-index"),i=this.targetApiCodes(),i.length>0)return e={calculation:{table:this.tableApiCode,targets:i,variables:this.variableValues(n)}},$.post(this.url,e,function(t){return function(e){return t.updateResults(e,n),t.form.trigger("recalculation")}}(this)).fail(function(t){return alert("error: "+t.responseText)})},t.prototype.updateResults=function(t,e){return _(t).each(function(t){return function(n,i){return t.findFormulaByCode(i).updateResult(n,e)}}(this))},t.prototype.targetApiCodes=function(){return _(this.tableFormulas).map(function(t){return t.dimensionApiCode})},t.prototype.variableValues=function(t){return _(this.formulaTriggers).reduce(function(e,n){return e[n.dimensionApiCode]=n.value(t),e},{})},t.prototype.findFormulaByCode=function(t){return _(this.tableFormulas).findWhere({dimensionApiCode:t})},t.prototype.initFullPageRecalculationEvent=function(){return this.table.on("recalculation","tr",function(t){return function(e){return e.stopPropagation(),t.triggerChanged(e)}}(this))},t}(),GD.initTableFormula=function(e){return e.find(".field.field-table-field, .field.field-matrix-field").each(function(){return new t(e,$(this))})},$(document).on("turbolinks:load ajax:complete",function(){var t;if(t=$("form"),t.data("calculation-path"))return GD.initTableFormula(t)})}.call(this),function(){var t,e;window.GD||(window.GD={}),e=function(t){if(t.find("tbody tr").length>=t.data("max-row-count"))return t.find(".table-field-actions").hide()},t=function(t){var e,n,i;return n=t.find("table tbody tr").length,i=_.template(t.find(".table-add-row-template").html()),t.find("table tbody").append(i({index:n})),e=t.find("table tbody tr:last"),GD.transformAllFields(e),GD.initDatePicker(e),GD.initializeFileUploads(e),GD.initMultipleCascadeSelector(e),autosize(e.find("textarea")),GD.refreshTablesaw(t.find("table.tablesaw")),GD.setMinHeightAndWidthForCellInputs(t.closest(".field-table-field:not(.stack-mode)")),e.find("input:first").focus()},GD.initTableField=function(n){return tableColumnCalculation.init($(".table-field table")),n.on("click",".table-field .table-add-row",function(){var n;if(!($("#form_design").length>0))return n=$(this).closest(".table-field"),t(n),e(n)}),GD.DimensionedTabularField.initCellVisibilityHandler(n,n.find(".table-field")),document.addEventListener("scroll",function(t){if($(t.target).hasClass("overflow-wrapper"))return GD.blurEdge(t)},!0)},$(document).on("turbolinks:load",function(){if(!($(".dashboard").length>0))return GD.initTableField($("form")),GD.forceBlurEdge($(".table-field .overflow-wrapper"))})}.call(this),function(){var t;window.GD||(window.GD={}),GD.SMSSender=function(){function t(t,e,n){this.$trigger=t,this.url=e,this.$triggerContainer=n}return t.prototype.send=function(t){if(this.url)return GD.countDown(this.$trigger,60),$.post(this.url,t,function(t){return function(e){return t.$trigger.parent().after(e)}}(this)).fail(function(t){return function(e){return GD.showErrorMessageBelow(t.$triggerContainer||t.$trigger,e.responseText),GD.enableBtn(t.$trigger)}}(this))},t}(),t=function(){function t(t,e,n){this.elContent=t,this.elSignature=e,this.elSubmit=n,this.SMS_CHAR_COUNT_THRESHOLD=500,this.rawContent="",this.totalCharCount=0,this.initContainerHtml(),this.initObserver()}return t.prototype.initContainerHtml=function(){return this.$countInfo=$('<div class="count-info"><span class="has-fields-1"></span>\u5df2\u8f93\u5165<span class="char-count"></span>\u4e2a\u5b57\uff08\u542b\u7b7e\u540d\uff09\uff0c<span class="has-fields-2"></span>\u6309<span class="sms-count"></span>\u6761\u8ba1\u8d39</div>'),this.$countWarning=$("<div class='count-warning gd-hide'>\u8f93\u5165\u5b57\u7b26\u8d85\u8fc7"+this.SMS_CHAR_COUNT_THRESHOLD+"\u5b57\u53d1\u9001\u9650\u5236\uff0c\u8bf7\u5220\u51cf\u77ed\u4fe1\u5185\u5bb9</div>"),this.$statisticsContainer=$('<div class="sms-count-statistics pull-right mt-10"></div>').append(this.$countInfo).append(this.$countWarning),this.$charCount=this.$statisticsContainer.find(".char-count"),this.$smsCount=this.$statisticsContainer.find(".sms-count"),this.$hasFields1=this.$statisticsContainer.find(".has-fields-1"),this.$hasFields2=this.$statisticsContainer.find(".has-fields-2"),this.$statisticsContainer.hide().insertAfter(this.elContent)},t.prototype.initObserver=function(){return this.elSignature.add(this.elContent).on("keypress keyup keydown change",function(t){return function(){return t.rawContent=t.elContent.val(),t.totalCharCount=t.contentLength()+t.signatureContentLength(),t.toggleElements(),0===t.totalCharCount?t.$statisticsContainer.hide():t.totalCharCount<=t.SMS_CHAR_COUNT_THRESHOLD?(t.$charCount.text(t.totalCharCount),t.$smsCount.text(t.smsCount()),t.toggleFieldsInfo(),t.$statisticsContainer.show()):void 0}}(this))},t.prototype.contentLength=function(){var t;return t=this.elContent.val().trim()||"",t.length},t.prototype.signatureContentLength=function(){var t;return t=this.elSignature.val().trim()||"",t.length+2},t.prototype.fieldExists=function(){return this.rawContent.search(this.fieldsRegex())},t.prototype.fieldsRegex=function(){return/\$\([^)]*\)/g},t.prototype.smsCount=function(){return this.totalCharCount<70?1:Math.ceil(this.totalCharCount/67)},t.prototype.toggleElements=function(){return this.$countInfo.toggleClass("gd-hide",this.totalCharCount>this.SMS_CHAR_COUNT_THRESHOLD),this.$countWarning.toggleClass("gd-hide",this.totalCharCount<=this.SMS_CHAR_COUNT_THRESHOLD),this.toggleSubmitBtn()},t.prototype.toggleFieldsInfo=function(){return-1!==this.fieldExists()?(this.$hasFields1.text("\u9664\u8868\u5355\u5b57\u6bb5\uff0c"),this.$hasFields2.text("\u81f3\u5c11")):(this.$hasFields1.text(""),this.$hasFields2.text(""))},t.prototype.toggleSubmitBtn=function(){var t;return t=0===this.rawContent.length||this.totalCharCount>this.SMS_CHAR_COUNT_THRESHOLD,t?GD.disableElement(this.elSubmit):GD.enableElement(this.elSubmit)},t}(),GD.ObserveSmsCountStatistics=function(e,n,i){return new t($(e),$(n),$(i))}}.call(this),function(){window.GD||(window.GD={}),GD.FormPagination=function(){function t(t){this.options=null!=t?t:{},this.container=this.options.container,this.fieldsContainer=$(this.container.find(".fields")),this.currentPage=1,this.pageCount=1,this._init()}return t.prototype.onFormContentShowHide=function(){return this._updatePageDisplayedIndex(),this._render()},t.prototype._render=function(){var t;return this.fieldsContainer.find(".form-page").hide(),this._updatePageButton(),t=this.container.find(".field.submit-field"),this.container.find(".form-description").toggleClass("hide",this._hasPreviousPage()),t.find(".page-number").html(l("%page_number",{currentPage:this.currentPage,totalPage:this.pageCount})).toggleClass("hide",this._hasOnlyOnePage()),this.container.find(".field.submit-field .submit, #shopping_cart, .captcha-container").toggleClass("hide",this._hasNextPage()),t.toggleClass("has-pagination-action",!this._hasOnlyOnePage()),this.fieldsContainer.find(".form-page[data-page-index="+this.currentPage+"]").show(),GD.isMobile&&$(window).resize(),this._forceTriggerAppear()},t.prototype._updatePageButton=function(){var t,e,n,i;return n=this.container.find(".pagination-action.previous-page"),e=this.container.find(".pagination-action.next-page"),t=$(this.container.find(".field-page-break")[this.currentPage-1]),n.text(t.data("previous-page-text")),e.text(t.data("next-page-text")),i=!this._hasPreviousPage()||!0===t.data("disable-previous-page"),n.toggleClass("hide",i),e.toggleClass("hide",!this._hasNextPage())},t.prototype._goToPreviousPage=function(){if(this._hasPreviousPage())return this.currentPage--,this._render(),$(window).scrollTop(0),this._resetPaginationActionBtns()},t.prototype._goToNextPage=function(){var t;if(this._hasNextPage())return t=this.fieldsContainer.closest("form").data("validate-url"),t?this._validateCurrentPageOnClient()&&this._validateCurrentPage(t,function(t){return function(){return t._doGoToNextPage()}}(this),function(){return function(){return $(window).scrollTop(0)}}()):this._doGoToNextPage(),this._resetPaginationActionBtns()},t.prototype._doGoToNextPage=function(){return this.currentPage++,this._render(),$(window).scrollTop(0)},t.prototype._hasPreviousPage=function(){return this.currentPage>1},t.prototype._hasNextPage=function(){return this.currentPage<this.pageCount},t.prototype._hasOnlyOnePage=function(){return this.pageCount<=1},t.prototype._validateCurrentPage=function(t,e,n){var i,r;return r=this._getFieldsDataToValidate(),i=$("meta[name=csrf-token]").attr("content"),$.ajax(t,{type:"post",data:$.param(r),beforeSend:function(t){return t.setRequestHeader("X-CSRF-Token",i)},success:function(t){return function(){return t._clearFieldsErrorMessages(),e()}}(this),error:function(t){return function(e){var i;if(400===e.status)return i=$.parseJSON(e.responseText),t._showErrorMessages(i.errors),n()}}(this)})},t.prototype._validateCurrentPageOnClient=function(t,e){return null==t&&(t=null),null==e&&(e=null),GD.clientValidator.validate()},t.prototype._getFieldsDataToValidate=function(){var t,e,n,i,r;return e=$(this.fieldsContainer.find(".form-page[data-page-index="+this.currentPage+"]")).find("input, textarea, select"),r=_.reject(this.fieldsContainer.find(".logic-trigger"),function(t){return function(e){var n;return!(n=$(e).closest(".form-page").data("page-index"))||n>=t.currentPage}}(this)),i=e.add("function"==typeof(t=$(r)).find?t.find("input, textarea, select"):void 0),n=i.serializeArray(),n=this._appendUncheckedInputsData(n,i),n=this._appendOtherRequiredData(n)},t.prototype._appendUncheckedInputsData=function(t,e){return _.each(e,function(){return function(e){var n,i,r;if(i=_.pluck(t,"name"),r=$(e).attr("name"),($(e).is("input:radio")||$(e).is("input:checkbox"))&&!_.contains(i,r)&&(n=r.replace(/\[\]$/,""),!_.contains(i,n)))return t.push({name:n,value:""})}}()),t},t.prototype._appendOtherRequiredData=function(t){var e;return e=$("[name=x_field_weixin_openid]").val(),e&&t.push({name:"x_field_weixin_openid",value:e}),t},t.prototype._showErrorMessages=function(t){return this._clearFieldsErrorMessages(),_.each(t,function(t){return function(e){var n,i;return n=e[0],i=e[1],t._addErrorMessageToField(n,i)}}(this))},t.prototype._clearFieldsErrorMessages=function(){var t;return t=this.fieldsContainer.find(".form-page[data-page-index="+this.currentPage+"] .field.has-error"),t.removeClass("has-error"),t.find("> .inline-error").remove(),t.find(".field_with_errors").children().unwrap()},t.prototype._addErrorMessageToField=function(t,e){var n,i,r;return n=t.match(/^field_\d+/),r=this.fieldsContainer.find("[data-api-code="+n+"]"),r.addClass("has-error"),this._wrapErrorInput(r,t,n),i=r.find("> .inline-error"),i.length>0?i.append(""+l("%common_separator")+e):r.append($("<div class='help-block inline-error'><i class='gd-icon-times-circle'></i> "+e+"</div>"))},t.prototype._wrapErrorInput=function(t,e,n){var i,r;return i=t.find("[name^='"+this._inputName(e,n)+"']"),r=".radio-button-wrapper, .check-box-wrapper, .dropdown-wrapper",i.parent().is(r)&&(i=i.parent(r)),i.wrap('<div class="field_with_errors"></div>')},t.prototype._inputName=function(t,e){var n,i,r,o,a;for(r="entry["+e+"]",o=t.replace(e,"").split("_"),n=0,i=o.length;n<i;n++)(a=o[n])&&(r+="["+a+"]");return r},t.prototype._wrapFieldsInPage=function(){return _.each(this.fieldsContainer.find(".field-page-break"),function(){return function(t,e,n){var i,r,o;return r=e+1===n.length,i=r?$(t).nextAll().addBack():$(t).nextUntil(".field-page-break",".field:not(.field-page-break)").addBack(),o=$("<div class='form-page'></div>"),i.wrapAll(o)}}()),this.container.find(".field.submit-field").addClass("has-form-pagination")},t.prototype._updatePageDisplayedIndex=function(){var t;return t=0,_.each(this.fieldsContainer.find(".form-page"),function(){return function(e){return $(e).find(".field:not(.logic-hidden):not(.field-page-break)").length>0?(t++,$(e).attr("data-page-index",t)):$(e).removeAttr("data-page-index")}}()),this.pageCount=t},t.prototype._goToFirstErrorPage=function(){var t;if(t=this.fieldsContainer.find(".field.has-error"),t.length>0)return this.currentPage=$(t[0]).closest(".form-page").attr("data-page-index")||1},t.prototype._init=function(){return this._wrapFieldsInPage(),this._updatePageDisplayedIndex(),this._goToFirstErrorPage(),this._bindEvents(),this._initCountdown(),this._render(),this._checkCurrentPageCountDown()},t.prototype._disablePagination=function(){return this.container.find(".pagination-action.working").addClass(".working")},t.prototype._bindEvents=function(){return this.container.on("click",".pagination-action.previous-page:not(.working)",GD.debounce(function(t){return function(){return t._disablePagination(),t._goToPreviousPage(),"function"==typeof t.clearCountdown&&t.clearCountdown(),"function"==typeof t.countDownRollback?t.countDownRollback():void 0}}(this),100,!1)),this.container.on("click",".pagination-action.next-page:not(.working, .disabled)",GD.debounce(function(t){return function(){return t._disablePagination(),t._goToNextPage(),t._checkCurrentPageCountDown()}}(this),100,!1))},t.prototype._resetPaginationActionBtns=function(){return this.container.find(".pagination-action.working").removeClass("working")},t.prototype._forceTriggerAppear=function(){if($.force_appear)return setTimeout($.force_appear,0)},t.prototype._checkCurrentPageCountDown=function(){var t,e,n,i;return t=$(".form-page:visible"),e=t.find("[data-count-down]"),i=parseInt(e.attr("data-count-down"),10),n=$(".pagination-action.next-page"),n.toggleClass("disabled",!!i)},t.prototype._initCountdown=function(){if($(".fields [data-count-down]").length)return $(".field.submit-field").appear().on("appear",function(t){return function(){var e,n,i,r,o;if(e=$(".form-page:visible"),n=e.find(".field-page-break"),r=parseInt(n.attr("data-count-down"),10))return o=e.is(":last-of-type"),i=$(".pagination-action.next-page"),t.countDownRollback=function(){if(!n.hasClass("count-down-done"))return n.attr("data-count-down",r)},r&&!o?(n.removeAttr("data-count-down"),i.text(),t.clearCountdown=GD.countDownWithUndo(i,r,l("%second"),function(){return n.addClass("count-down-done")})):void 0}}(this)),this._forceTriggerAppear()},t}(),GD.initFormPagination=function(t){return null==t&&(t=null),t||(t=$("body")),$(t).find(".fields .field-page-break").length>0?0===$(t).find(".form-page").length?GD.formPagination=new GD.FormPagination({container:t}):void 0:GD.formPagination=null},$(window).on("formContentShowHide",function(){if(GD.formPagination)return GD.formPagination.onFormContentShowHide()})}.call(this),function(){}.call(this),function(){window.GD||(window.GD={}),GD.isLowVersionIE=function(){var t;return t=navigator.userAgent.toLowerCase(),-1!==t.indexOf("msie")&&parseInt(myNav.split("msie")[1])<10},GD.showErrorMessageBelow=function(t,e){var n;if(t&&e)return n=$("<div class='error-message'>"+e+"</div>"),t.parent().is(".input-group")&&(t=t.parent()),t.wrap("<div class='has-error'>"),t.after(n)},GD.clearErrorMessageBelow=function(t){if(t)return t.parent().is(".input-group")&&(t=t.parent()),t.parent().is(".has-error")?(t.parent().find(".error-message").remove(),t.unwrap()):void 0},$(document).on("click",'.form-description a[href^="tel:"], .field-description a[href^="tel:"]',function(t){return GD.isMobile||t.preventDefault(),t.stopImmediatePropagation()}),$(document).on("turbolinks:load",function(){return GD.isMobile=$(".mobile-device").length>0,GD.isPhone=$(".phone-device").length>0})}.call(this),function(){window.GD||(window.GD={}),GD.ShareIt=function(){function t(){}return t.prototype.setEntry=function(t){return this.title=encodeURIComponent(t.title||document.title),this.url=encodeURIComponent((t.url||document.location).replace("https://","http://")),this.pic=encodeURIComponent(t.pic||""),this.description=encodeURIComponent(t.description||"")},t.prototype.weibo=function(){var t,e,n;return t=1843447738,e="http://v.t.sina.com.cn/share/share.php?appkey="+t+"&title="+this.title+"&url="+this.url+"&pic="+this.pic,n="width=700,height=480, top="+(screen.height-430)/2+", left="+(screen.width-440)/2+", toolbar=no, menubar=no, scrollbars=no, location=yes, resizable=1, status=no",window.open(e,"\u5206\u4eab\u5230\u5fae\u535a",n)},t.prototype.qzone=function(){var t,e,n;return t=this.title+" - "+this.description,e="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?title="+t+"&url="+this.url,n="width=700, height=600, top="+(screen.height-700)/2+", left="+(screen.width-600)/2+", toolbar=no, menubar=no, scrollbars=no, location=yes, resizable=no, status=no",window.open(e,"\u5206\u4eab\u5230QZONE",n)},t.prototype.mingdao=function(){var t,e,n;return t="76AE474AF1B8DC75A387FEC4EECF4CAB",e="http://www.mingdao.com/share?title="+this.title+"&url="+this.url+"&pic="+this.pic+"&appkey="+t,n="width=700, height=600, top="+(screen.height-700)/2+", left="+(screen.width-600)/2+", toolbar=no, menubar=no, scrollbars=no, location=yes, resizable=no, status=no",window.open(e,"\u5206\u4eab\u5230\u660e\u9053",n)},t}(),window.shareIt=new GD.ShareIt}.call(this),function(){window.GD||(window.GD={}),GD.initWxjs=function(t){return wx.config({debug:!1,appId:t.appid,timestamp:t.timestamp,nonceStr:t.noncestr,signature:t.signature,jsApiList:["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","hideOptionMenu","chooseWXPay","scanQRCode"]}),wx.ready(function(){var e,n,i,r,o,a;return $(".wxpay-loading-container").remove(),n=$("#form_share_info"),e=null,$("#form_thumbnail_selected").length>0&&(e=$("#form_thumbnail_selected img")),e||$("img").each(function(){var t;if(t=$(this),!e&&(t.width()>=300&&t.height()>=300||t.parents("#form_thumbnail_default").length>0))return e=t}),r=e?e[0].src:"",a=n.data("form-name"),o=n.data("form-url"),i=n.data("hide-option-menu"),i?wx.hideOptionMenu():(wx.onMenuShareTimeline({title:a,link:o,imgUrl:r}),wx.onMenuShareAppMessage({title:a,desc:$.trim(n.text()),link:o,imgUrl:r})),"function"==typeof t.onReady?t.onReady():void 0})}}.call(this),function(){GD.Field=function(){function t(t){this.field=t,this.apiCode=this.field.data("api-code"),this.label=$.trim(this.field.data("label")),this.type=$.trim(this.field.data("type")),this.levels=$.trim(this.field.data("levels")),this.precision=this.field.data("precision"),this.dimensionApiCode=this.field.data("dimension-api-code"),this.rowIdentity=this.field.data("row-identity"),this.validations=this.buildValidations()}return t.prototype.buildValidations=function(){var t;return t=_.filter(this.field.data("validations"),function(){return function(t){return GD[t+"Validation"]}}()),_.map(t,function(t){return function(e){return new GD[e+"Validation"](t,t.field)}}(this))},t.prototype.validate=function(){var t,e,n,i,r;for(e=this.field.hasClass("editing"),this.field.removeClass("need-validate"),this.field.removeClass("editing"),e&&this.field.trigger("field:after-edit"),i=this.validations,t=0,n=i.length;t<n&&(r=i[t],r.validate());t++);return this.isValid()},t.prototype.isValid=function(){return _.every(this.validations,function(t){return t.isValid()})},t.prototype.isPresence=function(){return this.isPresenceOn(this.fieldName())},t.prototype.isFormatValid=function(){var t,e;return t=this.type.underscore().toLowerCase().split("_")[0],e=GD.REGEXP[t],!this.isPresence()||!e||e.test(this.value())},t.prototype.valueLength=function(){var t;return null!=(t=GD.formData[this.fieldName()])?t.length:void 0},t.prototype.isPresenceOn=function(t){return!!GD.formData[t]&&(_.isArray(GD.formData[t])?_(GD.formData[t]).any(function(t){return t&&0!==t.length}):0!==GD.formData[t].length)},t.prototype.presentCellCount=function(t){return GD.formData[t]?_(GD.formData[t]).select(function(t){return t&&t.length>0}).length:0},t.prototype.isAllPresenceOf=function(t){return _.every(t,function(t){return function(e){return t.isPresenceOn("entry["+t.apiCode+"]["+e+"]")}}(this))},t.prototype.isAllNotPresenceOf=function(t){return _.every(t,function(t){return function(e){return!t.isPresenceOn("entry["+t.apiCode+"]["+e+"]")}}(this))},t.prototype.is=function(t){return this.field.data("type")===t},t.prototype.isNumberOf=function(t){return 0===t.length||GD.isNumber(t)},t.prototype.isNumber=function(){return this.isNumberOf(this.value())},t.prototype.value=function(){return GD.formData[this.fieldName()]},t.prototype.fieldName=function(){var t;return this.dimensionApiCode?(t="entry["+this.apiCode+"]["+this.rowIdentity+"]["+this.dimensionApiCode+"]",this.is("AttachmentField")&&(t+="[]"),t):(t="entry["+this.apiCode+"]",
(this.is("ImageCheckBox")||this.is("CheckBox")||this.is("AttachmentField"))&&(t+="[]"),t)},t.prototype.valueForAutosave=function(){return{value:this.field.find("input[name^=entry]:not([type=hidden]), select[name^=entry]").val()}},t.prototype.restoreAutoavedValue=function(t){return this.field.find("input[name^=entry], select[name^=entry]").val(t.value)},t}()}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.AddressField=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.isPresence=function(){var t;return t=this.field.find("[data-role='address']").data("address-items"),this.isAllPresenceOf(t)},n.prototype.withStreet=function(){return 0!==this.field.find("[name *='street']:visible").length},n.prototype.valueForAutosave=function(){return{value:{province:this.field.find("select[data-role=province]").val(),city:this.field.find("select[data-role=city]").val(),district:this.field.find("select[data-role=district]").val(),street:this.field.find("input.street-input").val()}}},n.prototype.restoreAutoavedValue=function(t){if(GD.addressSelector)return GD.addressSelector.render(this.field.find("select[data-role=province]"),this.field.find("select[data-role=city]"),this.field.find("select[data-role=district]"),t.value.province,t.value.city,t.value.district),this.field.find("input.street-input").val(t.value.street)},n}(GD.Field)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.AttachmentField=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.valueForAutosave=function(){return{value:_(this.field.find(".attachment")).reduce(function(){return function(t,e){var n,i;return n=$(e),i=n.find("input[data-role=attachment_id]").val(),i&&t.push({id:i,url:n.find("img").attr("src"),fileName:n.find(".file-name").text(),fileSize:n.find(".file-size").text()}),t}}(),[])}},n.prototype.restoreAutoavedValue=function(t){var e;return e=_.template($("#autosave_attachment_template").html()),_(t.value).each(function(t){return function(n){var i;return i=e({attachment:n,fieldApiCode:t.fieldName()}),t.field.find(".attachments").append(i)}}(this)),this._updateSelectTrigger()},n.prototype._updateSelectTrigger=function(){var t,e;return e=this.field.find(".attachment:visible").size(),t=this.field.find(".attachment-select-trigger"),t.toggle(e<t.data("max-file-quantity"))},n}(GD.Field)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.CascadeDropDown=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.isPresence=function(){var t;return t=_.range(0,this.levels).map(function(t){return"level_"+(t+1)}),this.isAllPresenceOf(t)},n.prototype.valueForAutosave=function(){return{value:_(this.field.find("select")).map(function(t){var e;return e=$(t),{level:e.data("role"),value:e.val()}})}},n.prototype.restoreAutoavedValue=function(t){return _(t.value).each(function(t){return function(e){return setTimeout(function(){return t.field.find("select[data-role="+e.level+"]").val(e.value).trigger("change")},0)}}(this)),this.field.trigger("change.formLogic")},n}(GD.Field)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.CheckBox=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.valueLength=function(){var t;return t=GD.formData[this.fieldName()],$.isArray(t)?t.length:"string"==typeof t?1:void 0},n.prototype.valueForAutosave=function(){return{value:_(this.field.find("input:checked")).map(function(t){return t.value}),otherValue:this.field.find(".other-choice-input").val()}},n.prototype.restoreAutoavedValue=function(t){return _(t.value).each(function(t){return function(e){return t.field.find("input[value="+e+"]").prop("checked",!0)}}(this)),t.otherValue&&this.field.find(".other-choice-input").val(t.otherValue),this.field.trigger("change.formLogic")},n.prototype.isPresenceOn=function(t){return!!GD.formData[t]&&!this._valueNotGivenWhenOtherChoiceChecked()},n.prototype._valueNotGivenWhenOtherChoiceChecked=function(){if(this.field.find("input:checked").closest(".other-choice").length>0)return GD.isEmpty(this.field.find(".other-choice-input").val())},n}(GD.Field),GD.ImageCheckBox=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n}(GD.CheckBox)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.DropDown=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.isPresenceOn=function(t){return!!GD.formData[t]&&!this._otherChoiceSelectedButNoValueGiven()},n.prototype._otherChoiceSelectedButNoValueGiven=function(){if(this.field.find("option:selected").hasClass("other-choice-item"))return GD.isEmpty(this.field.find(".other-choice-input").val())},n.prototype.restoreAutoavedValue=function(t){return this.field.find("select[name^=entry]").val(t.value),this.field.trigger("change.formLogic")},n}(GD.Field)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.EmailField=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.value=function(){return GD.formData[this.fieldName()].replace(GD.REGEXP.nonPrintableGeneralPunctuation,"")},n}(GD.Field)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.FormAssociation=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.isPresence=function(){var t;return(t=this.field.find(".form-association-openid").length>0?$("[name=x_field_weixin_openid]").val():GD.formData[this.fieldName()])&&t.length>0},n.prototype.valueForAutosave=function(){return{value:_(this.field.find("select")).reduce(function(){return function(t,e){var n,i;return n=$(e),i=n.data("associated-field-api-code"),t[i]={id:n.find("option:selected").val(),text:n.find("option:selected").text()},t}}(),{}),associatedFormToken:this.field.find("select").data("associated-form-token"),displayFields:_(this.field.find(".display-fields .display-field-content")).map(function(t){return function(e){var n;return t.field.find("select").data("should-verify")?{displayFieldApiCode:null,html:null}:(n=$(e),{displayFieldApiCode:n.data("display-field-api-code"),html:n.html()})}}(this))}},n.prototype.restoreAutoavedValue=function(t){var e,n;if(e=this.field.find("select[data-role=select]"),n=e.data("associated-form-token"),t.associatedFormToken===n)return e.data("should-verify")&&e.closest(".field").find('[data-role="verification_sender"]').find(".mobile-input").val(t.value.text),_(this.field.find("select")).each(function(){return function(e){var n,i,r;if(n=$(e),i=n.data("associated-field-api-code"),(r=t.value[i])&&r.text&&r.id)return n.append(new Option(r.text,r.id)),n.val(r.id).trigger("change")}}()),_(t.displayFields).each(function(t){return function(e){return t.field.find(".display-field-content[data-display-field-api-code="+e.displayFieldApiCode+"]").append(e.html)}}(this))},n}(GD.Field)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.FormulaField=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.valueForAutosave=function(){},n.prototype.restoreAutoavedValue=function(){},n}(GD.Field)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.GeoField=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.isPresence=function(){return this.isAllPresenceOf(["latitude","longitude","address"])},n.prototype.valueForAutosave=function(){return{value:{latitude:this.field.find("input[data-role=latitude]").val(),longitude:this.field.find("input[data-role=longitude]").val(),address:this.field.find("input[data-role=address]").val(),province:this.field.find("input[data-role=province]").val(),city:this.field.find("input[data-role=city]").val(),district:this.field.find("input[data-role=district]").val()}}},n.prototype.restoreAutoavedValue=function(t){if(this.field.find("input[data-role=latitude]").val(t.value.latitude),this.field.find("input[data-role=longitude]").val(t.value.longitude),this.field.find("input[data-role=address]").val(t.value.address),this.field.find("input[data-role=province]").val(t.value.province),this.field.find("input[data-role=city]").val(t.value.city),this.field.find("input[data-role=district]").val(t.value.district),t.value.latitude&&t.value.longitude)return this.tryToTriggerMap()},n.prototype.tryToTriggerMap=function(t){var e;return null==t&&(t=10),e=this.field.find('[data-role="geo"]'),e.data("geo-initialized")?e.trigger("restore-exist-location"):t>0?setTimeout(function(e){return function(){return e.tryToTriggerMap(t-1)}}(this),500):void 0},n}(GD.Field)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.BasicGoodsField=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.isPresence=function(){var t,e;return!!this.field.find(".goods-items").hasClass("disabled-when-paid")||(t=this.field.find(".goods-items .goods-item").length,_.some(function(){e=[];for(var n=0;0<=t?n<t:n>t;0<=t?n++:n--)e.push(n);return e}.apply(this),function(t){return function(e){var n;return n="entry["+t.apiCode+"]["+e+"][number]",GD.formData[n]&&"0"!==GD.formData[n]}}(this)))},n.prototype.valueForAutosave=function(){return{value:_(this.field.find(".goods-item")).map(function(){return function(t){var e;return e=$(t),{apiCode:e.find("[data-role=api-code]").val(),number:e.find("[data-role=number]").val(),specifications:_(e.find("[data-dimension]:checked")).reduce(function(t,e){var n,i;return n=$(e).data("dimension"),i=$(e).val(),n&&i&&(t[n]=i),t},{})}}}())}},n.prototype.restoreAutoavedValue=function(t){return _(t.value).each(function(t){return function(e){var n;if(n=t.field.find(".goods-item[data-api-code="+e.apiCode+"]"),_(e.specifications).each(function(t,e){return n.find("label[data-dimension="+e+"][data-option="+t+"]").click()}),n.find("[data-role=number]").val(e.number),n.is(":visible"))return n.find("[data-role=number]").trigger("change.restore")}}(this))},n}(GD.Field),GD.GoodsField=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n}(GD.BasicGoodsField)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.LikertField=function(e){function n(){n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.isPresence=function(){var t;return t=this.field.find(".likert").data("statement-api-codes"),_.every(t,function(t){return function(e){return t.isPresenceOn("entry["+t.apiCode+"]["+e+"]")}}(this))},n.prototype.valueForAutosave=function(){var t;return t=_(this.field.find("tbody tr")).reduce(function(t,e){var n,i,r;return n=$(e),i=n.data("api-code"),r=n.find("input:checked").val(),t[i]=r,t},{}),{value:t}},n.prototype.restoreAutoavedValue=function(t){return _(t.value).each(function(t){return function(e,n){return t.field.find("tr[data-api-code="+n+"] input[value="+e+"]").prop("checked",!0)}}(this))},n}(GD.Field)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.MatrixField=function(e){function n(){n.__super__.constructor.apply(this,arguments),this.statementApiCodes=this.field.find(".matrix").data("statement-api-codes"),this.dimensionApiCodes=this.field.find(".matrix").data("dimension-api-codes"),this.$tbody=this.field.find("table tbody")}return t(n,e),n.prototype.isPresence=function(){return _.every(this.statementApiCodes,function(t){return function(e){return _.every(t.dimensionApiCodes,function(n){return t.isPresenceOn("entry["+t.apiCode+"]["+e+"]["+n+"]")||t.isPresenceOn("entry["+t.apiCode+"]["+e+"]["+n+"][]")})}}(this))},n.prototype.isNumber=function(){return _.every(this.statementApiCodes,function(t){return function(e){return _.every(t.dimensionApiCodes,function(n){return t.isNumberOf(GD.formData["entry["+t.apiCode+"]["+e+"]["+n+"]"])})}}(this))},n.prototype.valueForAutosave=function(){var t;return t=_(this.$tbody.find("tr")).reduce(function(t,e){var n;return n=$(e),GD.DimensionedTabularField.rowHasValue(n)&&(this.autosaver=new GD.TableFieldsClientAutosaver($(e)),t[n.data("statement-api-code")]={fieldsValue:this.autosaver.prepareAutosaveValues()}),t},{}),{value:t}},n.prototype.restoreAutoavedValue=function(t){return _(t.value).each(function(t){return function(e,n){var i;if(i=t.$tbody.find("tr[data-statement-api-code="+n+"]"),i.length>0)return t.autosaver=new GD.TableFieldsClientAutosaver(i),t.autosaver.recover(e)}}(this))},n}(GD.Field)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.MobileField=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.restoreAutoavedValue=function(t){return this.field.find("input[name^=entry]:not([name$=_verification_token\\]])").val(t.value)},n.prototype.value=function(){return GD.formData[this.fieldName()].replace(GD.REGEXP.nonPrintableGeneralPunctuation,"")},n}(GD.Field)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.RadioButton=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.valueForAutosave=function(){return{value:this.field.find("input:checked").val(),otherValue:this.field.find(".other-choice-input").val()}},n.prototype.restoreAutoavedValue=function(t){return this.field.find("input[value="+t.value+"]").prop("checked",!0),t.otherValue&&this.field.find(".other-choice-input").val(t.otherValue),this.field.trigger("change.formLogic")},n.prototype.isPresenceOn=function(t){return!!GD.formData[t]&&!this._otherChoiceSelectedButNoValueGiven()},n.prototype._otherChoiceSelectedButNoValueGiven=function(){if(this.field.find("input:checked").closest(".other-choice").length>0)return GD.isEmpty(this.field.find(".other-choice-input").val())},n}(GD.Field),GD.ImageRadioButton=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n}(GD.RadioButton)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.RatingField=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.restoreAutoavedValue=function(t){var e;if(this.field.find("input[name^=entry], select[name^=entry]").val(t.value),e=parseInt(t.value))return _(e).times(function(t){return function(e){return t.field.find(".rating-group i[data-value="+(e+1)+"]").addClass("highlight")}}(this))},n}(GD.Field)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.TableField=function(e){function n(){n.__super__.constructor.apply(this,arguments),this.dimensionApiCodes=this.field.find(".table-field").data("dimension-api-codes"),this.nonFormulaDimensionLength=this.field.find(".table-field tbody tr:first-child td.dimension:not(.field-formula-field)").length,this.$tbody=this.field.find("table tbody")}return t(n,e),n.prototype.isPresence=function(){var t,e;return t=!1,e=_.map(this.$tbody.find("tr"),function(e){return function(n,i){var r,o;return r=$(n),o=_.countBy(e.dimensionApiCodes,function(n){var o,a,s,l;return o=r.find("[data-dimension-api-code="+n+"]"),s=o.data("field-type"),"cascade-drop-down"===s?(l=o.find("[data-levels]").data("levels"),a=_.range(0,l).reduce(function(t,r){return e.isPresenceOn("entry["+e.apiCode+"]["+i+"]["+n+"][level_"+(r+1)+"]")&&(t+=1),t},0),a>0&&a<l&&(t=!0),a===l):e.isPresenceOn("entry["+e.apiCode+"]["+i+"]["+n+"]")||e.isPresenceOn("entry["+e.apiCode+"]["+i+"]["+n+"][]")}),o[!0]||0}}(this)),!t&&(!!_.any(e,function(t){return function(e){return e===t.nonFormulaDimensionLength}}(this))&&_.all(e,function(t){return function(e){return e===t.nonFormulaDimensionLength||0===e}}(this)))},n.prototype.valueForAutosave=function(){var t;return t=_(this.$tbody.find("tr")).reduce(function(t,e){var n;return n=$(e),GD.DimensionedTabularField.rowHasValue(n)&&(this.autosaver=new GD.TableFieldsClientAutosaver($(e)),t.push({fieldsValue:this.autosaver.prepareAutosaveValues()})),t},[]),{value:t}},n.prototype.restoreAutoavedValue=function(t){return _(t.value).each(function(t){return function(e,n){var i;if(i=t.findOrBuildRow(n),i.length>0)return t.autosaver=new GD.TableFieldsClientAutosaver(i),t.autosaver.recover(e)}}(this))},n.prototype.findOrBuildRow=function(t){var e;return e=this.$tbody.find("tr:nth-child("+(t+1)+")"),e.length>0?e:(this.field.find(".table-add-row").click(),this.$tbody.find("tr:nth-child("+(t+1)+")"))},n}(GD.Field)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.TextArea=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.valueForAutosave=function(){return{value:this.field.find("textarea").val()}},n.prototype.restoreAutoavedValue=function(t){return this.field.find("textarea").val(t.value)},n}(GD.Field)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.TimeField=function(e){function n(){n.__super__.constructor.apply(this,arguments),this.isIncludeSecond=this.field.find(".time-selects").data("include-second")}return t(n,e),n.prototype.isPresence=function(){return this.isIncludeSecond?this.isAllPresenceOf(["hour","minute","second"]):this.isAllPresenceOf(["hour","minute"])},n.prototype.isFormatValid=function(){var t;return t=this.isIncludeSecond?["hour","minute","second"]:["hour","minute"],this.isAllNotPresenceOf(t)||this.isAllPresenceOf(t)},n.prototype.valueForAutosave=function(){return{value:{hour:this.field.find(".select-hour").val(),minute:this.field.find(".select-minute").val(),second:this.field.find(".select-second").val()}}},n.prototype.restoreAutoavedValue=function(t){return{hour:this.field.find(".select-hour").val(t.value.hour),minute:this.field.find(".select-minute").val(t.value.minute),second:this.field.find(".select-second").val(t.value.second)}},n}(GD.Field)}.call(this),function(){GD.Validation=function(){function t(t,e){this.field=t,this.fieldDom=e}return t.prototype.validate=function(){var t;return this.clearError(),t=this.isValid(),t||this.showError(),t},t.prototype.showError=function(){return this.wrapFieldWithValidationError(),this.appendErrorMessage()},t.prototype.wrapFieldWithValidationError=function(){var t,e;if(this.fieldDom.addClass("has-error"),this.needWrapWithErrorClass())return t=this.fieldDom.find(".field-content"),e=$("<div class='field_with_errors'></div>").append(t.children()),t.append(e)},t.prototype.appendErrorMessage=function(){var t,e,n,i,r;return n=(null!=(r=this.fieldDom.data("customized-validation-message"))?r.toString():void 0)||"",i=_.isEmpty(n)?this.errorMessage():n,this.fieldDom.is("td")?(e=this.fieldDom.find(".tablesaw-cell-content").length?this.fieldDom.find(".tablesaw-cell-content"):this.fieldDom,e.css({position:"relative"}),t=$("<i class='gd-icon-exclamation-circle inline-error with-tooltip'>").attr({title:i}).data({tooltipTheme:"gd-tooltip-error"}),e.append(t),setTimeout(function(){return t.tooltipster("show")},100)):this.fieldDom.append($("<div class='help-block inline-error'><i class='gd-icon-times-circle'></i> "+GD.htmlSafe(i)+"</div>"))},t.prototype.needWrapWithErrorClass=function(){return this.field.is("TextField")||this.field.is("AddressField")||this.field.is("NumberField")},t.prototype.clearError=function(){var t;if(this.fieldDom.hasClass("has-error"))return this.fieldDom.removeClass("has-error"),this.needWrapWithErrorClass()&&(t=this.fieldDom.find(".field_with_errors"),this.fieldDom.find(".field-content").append(t.children()),t.remove()),this.fieldDom.find(".inline-error").remove()},t}()}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.RangeValidation=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.isBetween=function(t,e,n){return e&&n?e<=t&&t<=n:e?e<=t:!n||t<=n},n.prototype.isValid=function(){return!this.field.isPresence()||this.isInValidRange()},n.prototype.isInValidRange=function(){return!0},n.prototype.errorMessage=function(){return this.field.label+this.fieldDom.data("label-hint")},n}(GD.Validation)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.DateRangeValidation=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.isInValidRange=function(){var t,e,n,i,r;return r=this.fieldDom.find(".field-content input").attr("min"),n=this.fieldDom.find(".field-content input").attr("max"),i=r?new Date(r):null,e=n?new Date(n):null,t=new Date(this.field.value()),this.isBetween(t,i,e)},n}(GD.RangeValidation)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.FormatValidation=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.isValid=function(){return this.field.isFormatValid()},n.prototype.errorMessage=function(){return"EmailField"===this.field.type?l("%email_format_error"):"TimeField"===this.field.type?this.field.isIncludeSecond?this.field.label+l("%format_error")+l("%invalid_time_with_second"):this.field.label+l("%format_error")+l("%invalid_time"):this.field.label+l("%format_error")},n}(GD.Validation)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty,n=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};GD.IdCardFormatValidation=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.weights=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],i.prototype.checkDigits=[1,0,"X",9,8,7,6,5,4,3,2],i.prototype.validAddressPrefix=[11,12,13,14,15].concat([21,22,23,24],[31,32,33,34,35,36,37,38],[41,42,43,44,45,46,47],[50,51,52,53,54,55],[61,62,63,64,65,66],[71,81,82]),i.prototype.isValid=function(){var t;return!(t=this.field.value())||this._formatValid(t)&&this._addressCodeValid(t)&&this._birthdayValid(t)&&("function"==typeof this._bitValid?this._bitValid(t):void 0)},i.prototype.errorMessage=function(){return l("%id_card_format_error")},i.prototype._formatValid=function(t){return/^\d{17}[\dx]$/i.test(t)},i.prototype._addressCodeValid=function(t){var e;return e=parseInt(t.slice(0,2)),n.call(this.validAddressPrefix,e)>=0},i.prototype._birthdayValid=function(){return!0},i.prototype._bitValid=function(t){var e;return e=_.reduce([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],function(e){return function(n,i){return n+parseInt(t[i])*e.weights[i]}}(this),0),this.checkDigits[e%11].toString().toUpperCase()===t[17].toString().toUpperCase()},i}(GD.Validation)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.LengthValidation=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.isInValidRange=function(){return this.minimumLength=this.fieldDom.data("minimum-length"),this.maximumLength=this.fieldDom.data("maximum-length"),this.isBetween(this.field.valueLength(),this.minimumLength,this.maximumLength)},n}(GD.RangeValidation)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.NumberRangeValidation=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.isInValidRange=function(){var t,e,n;return this.rangeMin=this.fieldDom.data("range-min"),this.rangeMax=this.fieldDom.data("range-max"),n=parseFloat(this.field.value()),e=parseFloat(this.rangeMin),t=parseFloat(this.rangeMax),this.isBetween(n,e,t)},n}(GD.RangeValidation)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.NumericValidation=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.isValid=function(){return this.field.isNumber()},n.prototype.errorMessage=function(){return this.field.label+l("%format_error")},n}(GD.Validation)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.PrecisionValidation=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.isValid=function(){var t;return!this.field.value()||(t=new RegExp("^(\\d+\\.\\d{0,"+this.field.precision+"}|[^\\.]+)$"),t.test(this.field.value()))},n.prototype.errorMessage=function(){return this.field.label+l("%precision_error",{precision:this.field.precision})},n}(GD.Validation)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.PresenceValidation=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.isValid=function(){return this.field.isPresence()},n.prototype.errorMessage=function(){return l("%presence_error",{label:this.field.label})},n}(GD.Validation)}.call(this),function(){GD.FormClientValidator=function(){function t(t){this.form=t,this.fields=this.findOrBuildFields()}return t.prototype.validate=function(){var t;return this.fields=this.findOrBuildFields(),this.refreshFormData(),_.each(this.fields,function(t){return t.validate()}),t=_.every(this.fields,function(t){return t.isValid()}),t||this.highlightFirstErrorField(),t},t.prototype.run=function(){return this.form.on("focus, click",".fields .field input, .fields .field select, .fields .field textarea",function(t){return function(e){return t.markCurrentFieldEditingAndNeedValidate(e)}}(this)),this.form.on("click",".fields .field-likert-field .likert table tr td",function(t){return function(e){return t.markCurrentFieldEditingAndNeedValidate(e)}}(this)),this.form.on("change",".fields .goods-item input",function(t){return function(e){return t.markCurrentFieldEditingAndNeedValidate(e)}}(this)),this.form.on("change",".fields .attachment-field input[data-role=attachment_id]",function(t){return function(e){return t.validateAttachmentWhenUploadFinished(e)}}(this)),$(document).on("click",function(t){return function(e){return t.validateNeedValidateFields(e)}}(this)),$(document).on("click",".fields .field-rating-field .rating-icon",function(t){return function(e){return t.validateNeedValidateFields(e)}}(this))},t.prototype.markCurrentFieldEditingAndNeedValidate=function(t){var e;if(e=$(t.target).closest(".field"),e.hasClass("need-validate")||e.addClass("need-validate"),!e.hasClass("editing"))return e.addClass("editing")},t.prototype.validateNeedValidateFields=function(t){var e;if(e=this.getNeedValidateFields(t),0!==e.length)return this.doValidateNeedValidateFields(e)},t.prototype.doValidateNeedValidateFields=function(t){var e;return this.refreshFormData(),e=_.map(t,function(t){return function(e){return t.findOrBuildField($(e))}}(this)),_.each(e,function(t){return t.validate()})},t.prototype.validateAttachmentWhenUploadFinished=function(t){var e;return e=$(t.target).closest(".field"),this.markCurrentFieldEditingAndNeedValidate(t),this.doValidateNeedValidateFields([e])},t.prototype.getNeedValidateFields=function(t){var e,n;return e=$(t.target).closest(".field.editing"),n="need-validate",[],0!==e.length?this.form.find(".fields .field."+n+":visible").not(e[0]):this.form.find(".fields .field."+n+":visible")},t.prototype.findOrBuildFields=function(){return _.map(this.form.find(".fields .field:visible:not(.predefined)"),function(t){return function(e){return t.findOrBuildField($(e))}}(this))},t.prototype.refreshFormData=function(){return GD.formData=this.form.serializeObject()},t.prototype.findOrBuildField=function(t){return _.find(this.fields||[],function(e){return e.apiCode===t.data("api-code")&&e.dimensionApiCode===t.data("dimension-api-code")&&e.rowIndex===t.data("row-index")})||(GD[t.data("type")]?new(GD[t.data("type")])(t):new GD.Field(t))},t.prototype.highlightFirstErrorField=function(){var t;if(t=$(this.form.find(".field:visible.has-error")[0]),t.length>0)return $("html, body").animate({scrollTop:t.offset().top})},t}()}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.FieldsClientAutosaver=function(){function t(t,e,n){this.$container=t,this.fieldSelector=null!=e?e:".fields .field:not(td)",this.apiCodeKey=null!=n?n:"api-code"}return t.prototype.recover=function(t){return this.$container.addClass("restoring"),_.each(t.fieldsValue,function(t){return function(e,n){var i,r;return i=t.$container.find(t.fieldSelector+"[data-"+t.apiCodeKey+"='"+n+"']"),r=t.buildField(i),r.restoreAutoavedValue(e)}}(this)),this.$container.trigger("autosave:recover"),GD.setPreviousValueForRadioChoice(this.$container),setTimeout(function(t){return function(){return t.$container.removeClass("restoring"),t.recalculation()}}(this),50)},t.prototype.prepareAutosaveValues=function(){return _(this.$container.find(this.fieldSelector)).reduce(function(t){return function(e,n){var i,r,o,a;return i=$(n),o=t.buildField(i),r=i.data(t.apiCodeKey),a=o.valueForAutosave(),a&&(e[r]=a),e}}(this),{})},t.prototype.buildField=function(t){return GD[t.data("type")]?new(GD[t.data("type")])(t):new GD.Field(t)},t.prototype.recalculation=function(){return this.$container.trigger("recalculation")},t}(),
GD.TableFieldsClientAutosaver=function(e){function n(t,e,n){this.$container=t,this.fieldSelector=null!=e?e:"td.field",this.apiCodeKey=null!=n?n:"dimension-api-code"}return t(n,e),n}(GD.FieldsClientAutosaver)}.call(this),function(){GD.FormClientAutosaveManager=function(){function t(t,e){var n;this.$form=t,this.formLastUpdatedAt=e,n=this.$form.data("form-variant-token")||this.$form.data("form-token"),this.formAutosaveKey="goku_form_auto_save_"+n,this.autosaveInterval=1e4,this.expiration=2592e6,this.autosaver=new GD.FieldsClientAutosaver(this.$form),this.options=$.extend(!0,{},this.defaultOptions),this.playing=!1}return t.prototype.defaultOptions={recoveryNotification:{autoHide:!0,animationDuration:400},functionDiscard:GD.reloadCurrentPage},t.prototype.setOptions=function(t){return $.extend(!0,this.options,t)},t.prototype.run=function(){return this.play(!0)},t.prototype.disable=function(){return this.clearAutosaved()},t.prototype.play=function(t){if(!this.playing||t)return $(document).on("turbolinks:load.autosave",this.tryRecovery.bind(this)),this.$form.on("submit.autosave",this.clearAutosaved.bind(this)),this.$form.on("field:after-edit.autosave",".fields .field",this.tryInitAutosaving.bind(this)),this.$form.on("change.autosave",".fields .field.field-geo-field [data-role=longitude]",this.tryInitAutosaving.bind(this)),$(document).on("click.autosave",".client-autosave-discard-link",function(t){return function(e){return t.discardAutosave(e)}}(this)),this.playing=!0},t.prototype.pause=function(){return $(document).off("turbolinks:load.autosave"),this.$form.off("submit.autosave"),this.$form.off("field:after-edit.autosave",".fields .field"),this.$form.off("change.autosave",".fields .field.field-geo-field [data-role=longitude]"),$(document).off("click.autosave",".client-autosave-discard-link"),this.playing=!1},t.prototype.tryRecovery=function(){var t,e;try{if(t=store.storeWithExpiration.get(this.formAutosaveKey),_.isEmpty(t))return;return t.savedAt&&t.savedAt>this.formLastUpdatedAt?this.recover(t):this.clearAutosaved()}catch(t){return e=t,this.logError(e)}},t.prototype.recover=function(t){return this.autosaver.recover(t),this.showRecoveryNotification(),this.track("recover")},t.prototype.tryInitAutosaving=function(){var t;try{if(this.$form.hasClass("autosave-initialized"))return;return this.$form.addClass("autosave-initialized"),this.save(),this.autosaveTimer=setInterval(function(t){return function(){return t.save()}}(this),this.autosaveInterval)}catch(e){return t=e,store.remove(this.formAutosaveKey),this.logError(t)}},t.prototype.save=function(){var t;if(t=this.autosaver.prepareAutosaveValues(),this.shouldSave(t))return store.storeWithExpiration.set(this.formAutosaveKey,{fieldsValue:t,savedAt:(new Date).getTime()},this.expiration),this.savedFieldsValue=t},t.prototype.shouldSave=function(t){return(!_.isEmpty(this.savedFieldsValue)||!_.isEmpty(t))&&!_.isEqual(this.savedFieldsValue,t)},t.prototype.clearAutosaved=function(){return this.autosaveTimer&&clearTimeout(this.autosaveTimer),this.autosaveTimer=null,store.remove(this.formAutosaveKey)},t.prototype.showRecoveryNotification=function(){var t;if(t=$(".client-autosave-recovery-hint"),t.fadeIn(this.options.recoveryNotification.animationDuration),this.options.recoveryNotification.autoHide)return setTimeout(function(e){return function(){return t.fadeOut(e.options.recoveryNotification.animationDuration)}}(this),6e3)},t.prototype.discardAutosave=function(t){var e;return t.stopPropagation(),this.clearAutosaved(),this.track("discard"),"function"==typeof(e=this.options).functionDiscard?e.functionDiscard():void 0},t.prototype.logError=function(t){return console.log("Form client autosave error"),console.log(t),this.track("error")},t.prototype.track=function(t){return"undefined"!=typeof _smq&&null!==_smq?_smq.push(["custom","form-client-autosave",t]):void 0},t}()}.call(this),function(){$(document).on("click",".captcha-container img",function(){return $(this).attr("src","/rucaptcha/?"+(new Date).getTime())}),$(document).on("click","form:not(.remove-captcha-operation) .submit",function(t){var e,n;return t.preventDefault(),e=$(this),n=e.parents("form"),n.find("input:text").each(function(){return $(this).val($.trim($(this).val()))}),GD.clientValidator&&!GD.clientValidator.validate()?GD.enableBtn(e):$(".captcha-container").length>0?$.ajax({url:"/captcha/verify?_rucaptcha="+encodeURIComponent($(".captcha-box input").val()),beforeSend:function(){return n.find(".error-message").hide(),n.find(".has-error").removeClass("has-error"),n.find(".error").removeClass("error")}}).done(function(t){return"true"===t?n.submit():(GD.enableBtn(e),n.find(".captcha-container .captcha-box input").addClass("error"),n.find(".captcha-container .error-message").show(),n.find(".captcha-container img").trigger("click"))}):(n.submit(),$.cookie("formSubmitSuccess",!0,{path:"/f/"+n.data("form-token"),expires:GD.cookieExpireMinutes(1)}))})}.call(this),function(){var t,e,n;GD.showFormSubmitErrorModal=function(t){if(0!==$(".content-with-warning-image li").length)return t.modal("show"),t.on("hide.bs.modal",function(){var t;if(t=$($(".field.has-error")[0]),t.length>0)return $("html, body").animate({scrollTop:t.offset().top})})},GD.fetchWeixinOauthData=function(){var t;if(t=$("#new_entry input[type=submit]"),0!==t.length)return t.data("weixin-openid-fetching",!0),GD.updateSubmitBtn(),GD.pollingDataFromServer(500,10,t.data("weixin-oauth-url"),function(e,n){return e.errmsg?(clearInterval(n),alert("\u5fae\u4fe1\u4fe1\u606f\u83b7\u53d6\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u6253\u5f00\u8868\u5355\uff1a"+e.errmsg)):e.openid?(clearInterval(n),$("#new_entry .form-content").append("<input type='hidden' name='x_field_weixin_openid' value='"+e.openid+"'>"),$("#new_entry .form-content").append("<input type='hidden' name='weixin_access_token' value='"+e.access_token+"'>"),t.removeData("weixin-openid-fetching"),GD.updateSubmitBtn()):void 0},function(){return alert("\u5fae\u4fe1\u4fe1\u606f\u83b7\u53d6\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u6253\u5f00\u8868\u5355")})},GD.fetchWeixinQiyeOauthData=function(){var t;if(t=$("#new_entry input[type=submit]"),0!==t.length)return t.data("weixin-openid-fetching",!0),GD.updateSubmitBtn(),GD.pollingDataFromServer(500,10,t.data("weixin-qiye-oauth-url"),function(e,n){return e.errcode&&"0"!==e.errcode?(clearInterval(n),alert("\u5fae\u4fe1\u4fe1\u606f\u83b7\u53d6\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u6253\u5f00\u8868\u5355\uff1a"+e.errmsg)):e.userid?(clearInterval(n),$("#new_entry .form-content").append("<input type='hidden' name='x_field_weixin_user_id' value='"+e.userid+"'>"),0===$(".dingding-header").length&&$("#new_entry").before("<div class='dingding-header'>\u60a8\u6b63\u5728\u4ee5\u7528\u6237\u300c"+e.name+"\u300d\u8eab\u4efd\u586b\u5199\u8868\u5355</div>"),t.removeData("weixin-openid-fetching"),GD.updateSubmitBtn()):void 0},function(){return alert("\u5fae\u4fe1\u4fe1\u606f\u83b7\u53d6\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u6253\u5f00\u8868\u5355")})},GD.fetchDingdingUserInfo=function(){var t;if(t=$("#new_entry input[type=submit]"),0!==t.length)return t.data("dingding-user-info-fetching",!0),GD.updateSubmitBtn(),GD.pollingDataFromServer(500,10,t.data("dingding-user-url"),function(e,n){return e.errcode&&"0"!==e.errcode?(clearInterval(n),alert("\u9489\u9489\u4fe1\u606f\u83b7\u53d6\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u6253\u5f00\u8868\u5355\uff1a"+e.errmsg)):e.name?(clearInterval(n),$("#new_entry .form-content"),0===$(".dingding-header").length&&$("#new_entry").before("<div class='dingding-header'>\u60a8\u6b63\u5728\u4ee5\u9489\u9489\u7528\u6237"+e.name+"\u8eab\u4efd\u586b\u5199\u8868\u5355</div>"),$.cookie("dd_u",e.userid,{expires:1,path:"/"}),t.removeData("dingding-user-info-fetching"),GD.updateSubmitBtn()):void 0},function(){return alert("\u9489\u9489\u4fe1\u606f\u83b7\u53d6\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u6253\u5f00\u8868\u5355")})},n=function(){var t,e,n,i;if($(".phone-device").length>0){if(t=$("form .fields, .success-box"),t.css({minHeight:""}),i=$(window).height(),e=$("body").height(),!(i>e))return;return n=i-e+t.outerHeight(),t.css({minHeight:n})}},$(document).on("click",".user-info .logout-link",function(t){return t.preventDefault(),$.ajax({url:$(this).attr("href"),type:"delete",success:function(){return document.location.reload(!0)}})}),$(document).on("click","[data-role=collapse_toggle]",function(){var t,e;return t=$(this).closest("[data-role=collapsible]"),e=$(this).offset().top-$(window).scrollTop(),t.toggleClass("collapsed"),t.hasClass("collapsed")&&$(this).hasClass("collapse-bottom")&&$(window).scrollTop(t.offset().top-e),GD.recalcFormHeight()}),$(document).on("click","[data-role=spec_toggle]",function(){return $(this).toggleClass("collapsed")}),t=function(t){var e,n,i,r,o,a;for(a=0,o=t.find("input[type=number].number"),e=0,n=o.length;e<n;e++)i=o[e],a+=parseInt($(i).val());return a>0?(t.closest(".field").addClass("selected"),r=a>99?"\u22ef":a,t.find(".badge").length>0?t.find(".badge").text(r):t.append("<div class='badge'>"+r+"</div>")):(t.closest(".field").removeClass("selected"),t.find(".badge").remove())},$(document).on("change",".field [data-role=collapsible] input.number",function(){if(GD.isPhone)return t($(this).closest("[data-role=collapsible]"))}),e=function(t){var e,n;if(n=function(){var n,i,r,o;for(r=t.find("input:checked").next("label"),o=[],n=0,i=r.length;n<i;n++)e=r[n],o.push($(e).text());return o}(),n.length>0)return t.prev("[data-role=spec_toggle]").find("span").text(n.join(l("%common_separator")))},$(document).on("change",".field .dimensions input:radio",function(){return e($(this).closest(".dimensions"))}),$(document).on("change",".choices.image-choices input",function(){return $(this).closest(".image-choices").children(".radio.active").removeClass("active"),$(this).closest(".radio, .checkbox").toggleClass("active")}),$(document).on("turbolinks:load",function(){var i,r,o,a,s,l,u,d,c;for("function"==typeof(i=$("input, textarea")).placeholder&&i.placeholder(),d=["#login_modal","#access_password_modal"],o=0,s=d.length;o<s;o++)u=d[o],$(u).length>0&&$(u).modal("show");if($("form#new_entry input").on("keypress",function(t){if(13===t.keyCode)return t.preventDefault()}),GD.showFormSubmitErrorModal($("#form_error_messages_modal")),GD.isPhone?autosize($(".fields .field:not(:last-child) .field-content > textarea:visible, .tablesaw-cell-content > textarea:visible")):autosize($(".field-content > textarea:visible, .tablesaw-cell-content > textarea:visible")),GD.isPhone)for(c=$(".field [data-role=collapsible]"),a=0,l=c.length;a<l;a++)r=c[a],t($(r)),e($(r).find(".collapsible"));return n(),$(window).off("resize.gd.pub_form").on("resize.gd.pub_form",n)}),$(window).on("customLoad",n),$(function(){var t,e,n;return $(".entry-container-inner > .qrcode-box").length>0&&(t=$(".entry-container-inner > form"),$(".entry-container-inner > .qrcode-box").css({top:t.offset().top,marginLeft:t.width()/2+30})),$(".field.field-form-association .field-label").attr("for",""),/^\/f\/\w{6}\/?$/.test(location.pathname)&&(n=$("form[data-form-token]").data("form-token"),e="/f/"+n,$.removeCookie("formSubmitSuccess",{path:e})&&0===$(".field.has-error").length&&window.location.reload(!0)),GD.fitVids($(".form-description, .field-description"))})}.call(this),function(){$(document).on("click",".success-social-sharing .share-weixin",function(){return $(".weixin-share-guide").length>0?$(".weixin-share-guide").show():$("#weixin_qrcode_share_modal").length>0?$("#weixin_qrcode_share_modal").modal("show"):void 0}),window.onpopstate=function(t){var e;if(null!=(e=t.state)?e.paymentConfirm:void 0)return window.location.url=t.state.url},$(function(){if(!$.trim($(".success-actions").text()))return $(".success-separator").hide()})}.call(this),!pv)var pv={map:function(t,e){var n={};return e?t.map(function(t,i){return n.index=i,e.call(n,t)}):t.slice()},naturalOrder:function(t,e){return t<e?-1:t>e?1:0},sum:function(t,e){var n={};return t.reduce(e?function(t,i,r){return n.index=r,t+e.call(n,i)}:function(t,e){return t+e},0)},max:function(t,e){return Math.max.apply(null,e?pv.map(t,e):t)}};var MMCQ=function(){function t(t,e,n){return(t<<2*l)+(e<<l)+n}function e(t){function e(){n.sort(t),i=!0}var n=[],i=!1;return{push:function(t){n.push(t),i=!1},peek:function(t){return i||e(),t===undefined&&(t=n.length-1),n[t]},pop:function(){return i||e(),n.pop()},size:function(){return n.length},map:function(t){return n.map(t)},debug:function(){return i||e(),n}}}function n(t,e,n,i,r,o,a){var s=this;s.r1=t,s.r2=e,s.g1=n,s.g2=i,s.b1=r,s.b2=o,s.histo=a}function i(){this.vboxes=new e(function(t,e){return pv.naturalOrder(t.vbox.count()*t.vbox.volume(),e.vbox.count()*e.vbox.volume())})}function r(e){var n,i,r,o,a=1<<3*l,s=new Array(a);return e.forEach(function(e){i=e[0]>>u,r=e[1]>>u,o=e[2]>>u,n=t(i,r,o),s[n]=(s[n]||0)+1}),s}function o(t,e){var i,r,o,a=1e6,s=0,l=1e6,d=0,c=1e6,h=0;return t.forEach(function(t){i=t[0]>>u,r=t[1]>>u,o=t[2]>>u,i<a?a=i:i>s&&(s=i),r<l?l=r:r>d&&(d=r),o<c?c=o:o>h&&(h=o)}),new n(a,s,l,d,c,h,e)}function a(e,n){function i(t){var e,i,r,o,a,s=t+"1",u=t+"2",d=0;for(l=n[s];l<=n[u];l++)if(f[l]>p/2){for(r=n.copy(),o=n.copy(),e=l-n[s],i=n[u]-l,a=e<=i?Math.min(n[u]-1,~~(l+i/2)):Math.max(n[s],~~(l-1-e/2));!f[a];)a++;for(d=g[a];!d&&f[a-1];)d=g[--a];return r[u]=a,o[s]=r[u]+1,[r,o]}}if(n.count()){var r=n.r2-n.r1+1,o=n.g2-n.g1+1,a=n.b2-n.b1+1,s=pv.max([r,o,a]);if(1==n.count())return[n.copy()];var l,u,d,c,h,p=0,f=[],g=[];if(s==r)for(l=n.r1;l<=n.r2;l++){for(c=0,u=n.g1;u<=n.g2;u++)for(d=n.b1;d<=n.b2;d++)h=t(l,u,d),c+=e[h]||0;p+=c,f[l]=p}else if(s==o)for(l=n.g1;l<=n.g2;l++){for(c=0,u=n.r1;u<=n.r2;u++)for(d=n.b1;d<=n.b2;d++)h=t(u,l,d),c+=e[h]||0;p+=c,f[l]=p}else for(l=n.b1;l<=n.b2;l++){for(c=0,u=n.r1;u<=n.r2;u++)for(d=n.g1;d<=n.g2;d++)h=t(u,d,l),c+=e[h]||0;p+=c,f[l]=p}return f.forEach(function(t,e){g[e]=p-t}),i(s==r?"r":s==o?"g":"b")}}function s(t,n){function s(t,e){for(var n,i=1,r=0;r<d;)if(n=t.pop(),n.count()){var o=a(l,n),s=o[0],u=o[1];if(!s)return;if(t.push(s),u&&(t.push(u),i++),i>=e)return;if(r++>d)return}else t.push(n),r++}if(!t.length||n<2||n>256)return!1;var l=r(t),u=0;l.forEach(function(){u++});var h=o(t,l),p=new e(function(t,e){return pv.naturalOrder(t.count(),e.count())});p.push(h),s(p,c*n);for(var f=new e(function(t,e){return pv.naturalOrder(t.count()*t.volume(),e.count()*e.volume())});p.size();)f.push(p.pop());s(f,n-f.size());for(var g=new i;f.size();)g.push(f.pop());return g}var l=5,u=8-l,d=1e3,c=.75;return n.prototype={volume:function(t){var e=this;return e._volume&&!t||(e._volume=(e.r2-e.r1+1)*(e.g2-e.g1+1)*(e.b2-e.b1+1)),e._volume},count:function(e){var n=this,i=n.histo;if(!n._count_set||e){var r,o,a,s=0;for(r=n.r1;r<=n.r2;r++)for(o=n.g1;o<=n.g2;o++)for(a=n.b1;a<=n.b2;a++)index=t(r,o,a),s+=i[index]||0;n._count=s,n._count_set=!0}return n._count},copy:function(){var t=this;return new n(t.r1,t.r2,t.g1,t.g2,t.b1,t.b2,t.histo)},avg:function(e){var n=this,i=n.histo;if(!n._avg||e){var r,o,a,s,u,d=0,c=1<<8-l,h=0,p=0,f=0;for(o=n.r1;o<=n.r2;o++)for(a=n.g1;a<=n.g2;a++)for(s=n.b1;s<=n.b2;s++)u=t(o,a,s),r=i[u]||0,d+=r,h+=r*(o+.5)*c,p+=r*(a+.5)*c,f+=r*(s+.5)*c;n._avg=d?[~~(h/d),~~(p/d),~~(f/d)]:[~~(c*(n.r1+n.r2+1)/2),~~(c*(n.g1+n.g2+1)/2),~~(c*(n.b1+n.b2+1)/2)]}return n._avg},contains:function(t){var e=this,n=t[0]>>u;return gval=t[1]>>u,bval=t[2]>>u,n>=e.r1&&n<=e.r2&&gval>=e.g1&&n<=e.g2&&bval>=e.b1&&n<=e.b2}},i.prototype={push:function(t){this.vboxes.push({vbox:t,color:t.avg()})},palette:function(){return this.vboxes.map(function(t){return t.color})},size:function(){return this.vboxes.size()},map:function(t){for(var e=this.vboxes,n=0;n<e.size();n++)if(e.peek(n).vbox.contains(t))return e.peek(n).color;return this.nearest(t)},nearest:function(t){for(var e,n,i,r=this.vboxes,o=0;o<r.size();o++)((n=Math.sqrt(Math.pow(t[0]-r.peek(o).color[0],2)+Math.pow(t[1]-r.peek(o).color[1],2)+Math.pow(t[1]-r.peek(o).color[1],2)))<e||e===undefined)&&(e=n,i=r.peek(o).color);return i},forcebw:function(){var t=this.vboxes;t.sort(function(t,e){return pv.naturalOrder(pv.sum(t.color),pv.sum(e.color))});var e=t[0].color;e[0]<5&&e[1]<5&&e[2]<5&&(t[0].color=[0,0,0]);var n=t.length-1,i=t[n].color;i[0]>251&&i[1]>251&&i[2]>251&&(t[n].color=[255,255,255])}},{quantize:s}}();(function(){var t;window.GD||(window.GD={}),t=function(){function t(t,e,n){this.image=t,this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),document.body.appendChild(this.canvas),this.width=this.canvas.width=e,this.height=this.canvas.height=n,this.context.drawImage(this.image,0,0,this.width,this.height)}return t.prototype.getImageData=function(t,e,n,i){return this.context.getImageData(t,e,n,i)},t.prototype.removeCanvas=function(){return this.canvas.parentNode.removeChild(this.canvas)},t}(),GD.ColorExtractor=function(){function e(t,e,n){this.image=t,this.imageWidth=e,this.imageHeight=n,this.imageWidth||(this.imageWidth=this.image.width),this.imageHeight||(this.imageHeight=this.image.height)}return e.prototype.dominateColor=function(e,n,i,r){var o,a,s,l,u,d,c,h,p,f,g,m,v,y,b,w,_;for(s=6,y=10,e||(e=0),n||(n=0),i||(i=this.imageWidth),r||(r=this.imageHeight),d=new t(this.image,this.imageWidth,this.imageHeight),c=d.getImageData(e,n,i,r),v=c.data,m=i*r,g=[],u=h=0,w=m,_=y;_>0?h<=w:h>=w;u=h+=_)p=4*u,b=v[p],l=v[p+1],o=v[p+2],v[p+3]>=125&&!(b>250&&l>250&&o>250)&&g.push([b,l,o]);if(a=MMCQ.quantize(g,s),f=a?a.palette():null,d.removeCanvas(),f)return f[0]},e}()}).call(this),function(){var t,e,n,i,r;e=function(){return $(".entry-container footer.published .powered-by")},i=function(t){var n,i,r;return r="string"==typeof t?t:"rgb "+t.join(" "),i=tinycolor(r),n=i.getBrightness(),e().addClass(n<160?"light":"").css("opacity",1)},r=function(){return e().css("opacity",1)},n=function(){var t,n,i,r,o,a;return t=e(),i=t.width(),n=t.height(),o=($(window).width()-i)/2,r=$(window).height(),a=$(document).height()>r?r-parseInt($("footer").css("paddingBottom"))-n/2:t.offset().top,[o,a,i,n]},t=function(){var t,e,o,a;return o=null!=(a=$("body").css("background-image"))?a.replace("url(","").replace(")","").replace(/"/g,""):void 0,o&&"none"!==o?GD.isIE()?r():(t=$("<img />").attr("crossorigin","anonymous").attr("src",o),t.on("load",function(){var t,e,o,a,s,l,u,d,c,h;return Modernizr.canvas&&(d=$(window).width(),u=$(window).height(),a="repeat"===$("body").css("background-repeat")&&this.width<d&&this.height<u,a?e=new GD.ColorExtractor(this).dominateColor():(s=n(),c=s[0],h=s[1],l=s[2],o=s[3],t=new GD.ColorExtractor(this,d,u),e=t.dominateColor(c,h,l,o))),e?i(e):r()})):(e=$("body").css("background-color"),e&&"none"!==e?i(e):r())},$(document).on("turbolinks:load",function(){if(e().length>0)return t()})}.call(this),function(){$(document).on("turbolinks:load",function(){var t;if($(".report-link-placeholder").length>0)return t=$(".report-link-placeholder").data("url"),$(".report-link-placeholder").load(t)})}.call(this),function(){var t;t=function(){var t;if(null!=(t=parent.postMessage?parent:parent.document.postMessage?parent.document:void 0))return t.postMessage({event:"heightChanged",token:$("#new_entry").data("form-token"),value:$("body").height()+20},"*")},$(window).on("load customLoad",t),$("html").css("visibility","visible")}.call(this),function(){GD.initCarousel=function(t){if(!t.is(".slick-initialized"))return t.slick({dots:!0,autoplay:!0,autoplaySpeed:2e3,prevArrow:"<a href='#' class='slick-prev'><i class='gd-icon-angle-left'></i></a>",nextArrow:"<a href='#' class='slick-next'><i class='gd-icon-angle-right'></i></a>",customPaging:function(t,e){var n,i;return"thumbnail"===t.$slider.data("carousel-type")?(i=t.$slides.find("img"),n=i[e].src.replace(/\?imageView2.+$/,"?imageView2/1/w/70/h/26"),$("<img src='"+n+"' class='img-responsive' alt='"+(e+1)+"' />")):e+1},focusOnSelect:!0})},$(document).on("turbolinks:load",function(){var t,e,n,i,r;for(i=$(".theme-carousel"),r=[],e=0,n=i.length;e<n;e++)t=i[e],r.push(GD.initCarousel($(t)));return r})}.call(this),function(){GD.updateQuotaChoices=function(t){var e;return e=t?$(".quota-choices [data-field-api-code="+t+"]"):$(".quota-choices").children(),_.each(e,function(t){var e,n,i,r,o;if(e=$(t),r=$(t).data("field-api-code"),i=e.data("choice-api-code"),$(".field[data-api-code="+r+"] [data-choice-api-code="+i+"] .quota").text(e.data("quota-text")),0===e.data("quota")&&($(".field[data-api-code="+r+"] .choice[data-choice-api-code="+i+"], .field[data-api-code="+r+"] input[value="+i+"], .field[data-api-code="+r+"] .quota-container").attr("disabled",!0),$(".field[data-api-code="+r+"] .choice[data-choice-api-code="+i+"]").addClass("quota-empty")),n=$(".field[data-api-code="+r+"] option[value="+i+"]"),o=n.text())return 0===e.data("quota")&&n.attr("disabled",!0),n.text(o+e.data("quota-text"))})}}.call(this),function(){GD.updateGoodsInventory=function(){return _.each($(".inventory-items").children(),function(t){var e,n;if(n=$(t).data(),e=$(".field[data-api-code="+n.fieldApiCode+"] .goods-item[data-api-code="+n.itemApiCode+"]"),e.find("input.number").data("inventory",n.inventory),e.find(".inventory").text(n.inventoryText),0===n.inventory)return e.find(".add-on").addClass("disabled")})}}.call(this),function(){$(function(){return $(document).on("turbolinks:load",function(){if(GD.isLowVersionIE()&&0===$(".goods-warning").length&&($("body").prepend($('<div class="browser-version-warning">\u60a8\u4f7f\u7528\u7684\u6d4f\u89c8\u5668\u7248\u672c\u8f83\u4f4e\uff0c\u8bf7\u5347\u7ea7\u5230IE10\u6216\u4f7f\u7528<a href="http://rj.baidu.com/soft/detail/14744.html" target="_blank">\u8c37\u6b4c\u6d4f\u89c8\u5668</a>\u83b7\u5f97\u66f4\u4f73\u4f53\u9a8c\u3002</div>')),$(".browser-version-warning").css("margin-bottom",$("body").css("padding-top")),$("body").css("padding-top","0"),$("header.navbar.home-page").length>0))return $("header.navbar.home-page").css("top",$(".browser-version-warning").outerHeight())})})}.call(this),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){"use strict";var e=window.Slick||{};e=function(){function e(e,i){var r,o=this;o.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:t(e),appendDots:t(e),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,n){return t('<button type="button" />').text(n+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},o.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},t.extend(o,o.initials),o.activeBreakpoint=null,o.animType=null,o.animProp=null,o.breakpoints=[],o.breakpointSettings=[],o.cssTransitions=!1,o.focussed=!1,o.interrupted=!1,o.hidden="hidden",o.paused=!0,o.positionProp=null,o.respondTo=null,o.rowCount=1,o.shouldClick=!0,o.$slider=t(e),o.$slidesCache=null,o.transformType=null,o.transitionType=null,o.visibilityChange="visibilitychange",o.windowWidth=0,o.windowTimer=null,r=t(e).data("slick")||{},o.options=t.extend({},o.defaults,i,r),o.currentSlide=o.options.initialSlide,o.originalSettings=o.options,"undefined"!=typeof document.mozHidden?(o.hidden="mozHidden",o.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(o.hidden="webkitHidden",o.visibilityChange="webkitvisibilitychange"),o.autoPlay=t.proxy(o.autoPlay,o),o.autoPlayClear=t.proxy(o.autoPlayClear,o),o.autoPlayIterator=t.proxy(o.autoPlayIterator,o),o.changeSlide=t.proxy(o.changeSlide,o),o.clickHandler=t.proxy(o.clickHandler,o),o.selectHandler=t.proxy(o.selectHandler,o),o.setPosition=t.proxy(o.setPosition,o),o.swipeHandler=t.proxy(o.swipeHandler,o),o.dragHandler=t.proxy(o.dragHandler,o),o.keyHandler=t.proxy(o.keyHandler,o),o.instanceUid=n++,o.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,o.registerBreakpoints(),o.init(!0)}var n=0;return e}(),e.prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},e.prototype.addSlide=e.prototype.slickAdd=function(e,n,i){var r=this;if("boolean"==typeof n)i=n,n=null;else if(n<0||n>=r.slideCount)return!1;r.unload(),"number"==typeof n?0===n&&0===r.$slides.length?t(e).appendTo(r.$slideTrack):i?t(e).insertBefore(r.$slides.eq(n)):t(e).insertAfter(r.$slides.eq(n)):!0===i?t(e).prependTo(r.$slideTrack):t(e).appendTo(r.$slideTrack),r.$slides=r.$slideTrack.children(this.options.slide),r.$slideTrack.children(this.options.slide).detach(),r.$slideTrack.append(r.$slides),r.$slides.each(function(e,n){t(n).attr("data-slick-index",e)}),r.$slidesCache=r.$slides,r.reinit()},e.prototype.animateHeight=function(){var t=this;if(1===t.options.slidesToShow&&!0===t.options.adaptiveHeight&&!1===t.options.vertical){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.animate({height:e},t.options.speed)}},e.prototype.animateSlide=function(e,n){var i={},r=this;r.animateHeight(),!0===r.options.rtl&&!1===r.options.vertical&&(e=-e),!1===r.transformsEnabled?!1===r.options.vertical?r.$slideTrack.animate({left:e},r.options.speed,r.options.easing,n):r.$slideTrack.animate({top:e},r.options.speed,r.options.easing,n):!1===r.cssTransitions?(!0===r.options.rtl&&(r.currentLeft=-r.currentLeft),t({animStart:r.currentLeft}).animate({animStart:e},{duration:r.options.speed,easing:r.options.easing,step:function(t){t=Math.ceil(t),!1===r.options.vertical?(i[r.animType]="translate("+t+"px, 0px)",r.$slideTrack.css(i)):(i[r.animType]="translate(0px,"+t+"px)",r.$slideTrack.css(i))},complete:function(){n&&n.call()}})):(r.applyTransition(),e=Math.ceil(e),!1===r.options.vertical?i[r.animType]="translate3d("+e+"px, 0px, 0px)":i[r.animType]="translate3d(0px,"+e+"px, 0px)",r.$slideTrack.css(i),n&&setTimeout(function(){r.disableTransition(),n.call()},r.options.speed))},e.prototype.getNavTarget=function(){var e=this,n=e.options.asNavFor;return n&&null!==n&&(n=t(n).not(e.$slider)),n},e.prototype.asNavFor=function(e){var n=this,i=n.getNavTarget();null!==i&&"object"==typeof i&&i.each(function(){var n=t(this).slick("getSlick");n.unslicked||n.slideHandler(e,!0)})},e.prototype.applyTransition=function(t){var e=this,n={};!1===e.options.fade?n[e.transitionType]=e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:n[e.transitionType]="opacity "+e.options.speed+"ms "+e.options.cssEase,!1===e.options.fade?e.$slideTrack.css(n):e.$slides.eq(t).css(n)},e.prototype.autoPlay=function(){var t=this;t.autoPlayClear(),t.slideCount>t.options.slidesToShow&&(t.autoPlayTimer=setInterval(t.autoPlayIterator,t.options.autoplaySpeed))},e.prototype.autoPlayClear=function(){var t=this;t.autoPlayTimer&&clearInterval(t.autoPlayTimer)},e.prototype.autoPlayIterator=function(){var t=this,e=t.currentSlide+t.options.slidesToScroll;t.paused||t.interrupted||t.focussed||(!1===t.options.infinite&&(1===t.direction&&t.currentSlide+1===t.slideCount-1?t.direction=0:0===t.direction&&(e=t.currentSlide-t.options.slidesToScroll,t.currentSlide-1==0&&(t.direction=1))),t.slideHandler(e))},e.prototype.buildArrows=function(){var e=this;!0===e.options.arrows&&(e.$prevArrow=t(e.options.prevArrow).addClass("slick-arrow"),e.$nextArrow=t(e.options.nextArrow).addClass("slick-arrow"),e.slideCount>e.options.slidesToShow?(e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.prependTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),!0!==e.options.infinite&&e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},e.prototype.buildDots=function(){var e,n,i=this;if(!0===i.options.dots&&i.slideCount>i.options.slidesToShow){for(i.$slider.addClass("slick-dotted"),n=t("<ul />").addClass(i.options.dotsClass),e=0;e<=i.getDotCount();e+=1)n.append(t("<li />").append(i.options.customPaging.call(this,i,e)));i.$dots=n.appendTo(i.options.appendDots),i.$dots.find("li").first().addClass("slick-active")}},e.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,n){t(n).attr("data-slick-index",e).data("originalStyling",t(n).attr("style")||"")}),e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?t('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),!0!==e.options.centerMode&&!0!==e.options.swipeToSlide||(e.options.slidesToScroll=1),t("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),!0===e.options.draggable&&e.$list.addClass("draggable")},e.prototype.buildRows=function(){var t,e,n,i,r,o,a,s=this;if(i=document.createDocumentFragment(),o=s.$slider.children(),s.options.rows>0){for(a=s.options.slidesPerRow*s.options.rows,r=Math.ceil(o.length/a),t=0;t<r;t++){var l=document.createElement("div");for(e=0;e<s.options.rows;e++){var u=document.createElement("div");for(n=0;n<s.options.slidesPerRow;n++){var d=t*a+(e*s.options.slidesPerRow+n);o.get(d)&&u.appendChild(o.get(d))}l.appendChild(u)}i.appendChild(l)}s.$slider.empty().append(i),s.$slider.children().children().children().css({width:100/s.options.slidesPerRow+"%",display:"inline-block"})}},e.prototype.checkResponsive=function(e,n){var i,r,o,a=this,s=!1,l=a.$slider.width(),u=window.innerWidth||t(window).width();if("window"===a.respondTo?o=u:"slider"===a.respondTo?o=l:"min"===a.respondTo&&(o=Math.min(u,l)),a.options.responsive&&a.options.responsive.length&&null!==a.options.responsive){r=null;for(i in a.breakpoints)a.breakpoints.hasOwnProperty(i)&&(!1===a.originalSettings.mobileFirst?o<a.breakpoints[i]&&(r=a.breakpoints[i]):o>a.breakpoints[i]&&(r=a.breakpoints[i]));null!==r?null!==a.activeBreakpoint?(r!==a.activeBreakpoint||n)&&(a.activeBreakpoint=r,"unslick"===a.breakpointSettings[r]?a.unslick(r):(a.options=t.extend({},a.originalSettings,a.breakpointSettings[r]),!0===e&&(a.currentSlide=a.options.initialSlide),a.refresh(e)),s=r):(a.activeBreakpoint=r,"unslick"===a.breakpointSettings[r]?a.unslick(r):(a.options=t.extend({},a.originalSettings,a.breakpointSettings[r]),!0===e&&(a.currentSlide=a.options.initialSlide),a.refresh(e)),s=r):null!==a.activeBreakpoint&&(a.activeBreakpoint=null,a.options=a.originalSettings,!0===e&&(a.currentSlide=a.options.initialSlide),a.refresh(e),s=r),e||!1===s||a.$slider.trigger("breakpoint",[a,s])}},e.prototype.changeSlide=function(e,n){var i,r,o,a=this,s=t(e.currentTarget);switch(s.is("a")&&e.preventDefault(),s.is("li")||(s=s.closest("li")),o=a.slideCount%a.options.slidesToScroll!=0,i=o?0:(a.slideCount-a.currentSlide)%a.options.slidesToScroll,e.data.message){case"previous":r=0===i?a.options.slidesToScroll:a.options.slidesToShow-i,a.slideCount>a.options.slidesToShow&&a.slideHandler(a.currentSlide-r,!1,n);break;case"next":r=0===i?a.options.slidesToScroll:i,a.slideCount>a.options.slidesToShow&&a.slideHandler(a.currentSlide+r,!1,n);break;case"index":var l=0===e.data.index?0:e.data.index||s.index()*a.options.slidesToScroll;a.slideHandler(a.checkNavigable(l),!1,n),s.children().trigger("focus");break;default:return}},e.prototype.checkNavigable=function(t){var e,n,i=this;if(e=i.getNavigableIndexes(),n=0,t>e[e.length-1])t=e[e.length-1];else for(var r in e){if(t<e[r]){t=n;break}n=e[r]}return t},e.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&(t("li",e.$dots).off("click.slick",e.changeSlide).off("mouseenter.slick",t.proxy(e.interrupt,e,!0)).off("mouseleave.slick",t.proxy(e.interrupt,e,!1)),
!0===e.options.accessibility&&e.$dots.off("keydown.slick",e.keyHandler)),e.$slider.off("focus.slick blur.slick"),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide),!0===e.options.accessibility&&(e.$prevArrow&&e.$prevArrow.off("keydown.slick",e.keyHandler),e.$nextArrow&&e.$nextArrow.off("keydown.slick",e.keyHandler))),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),t(document).off(e.visibilityChange,e.visibility),e.cleanUpSlideEvents(),!0===e.options.accessibility&&e.$list.off("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&t(e.$slideTrack).children().off("click.slick",e.selectHandler),t(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),t(window).off("resize.slick.slick-"+e.instanceUid,e.resize),t("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),t(window).off("load.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.cleanUpSlideEvents=function(){var e=this;e.$list.off("mouseenter.slick",t.proxy(e.interrupt,e,!0)),e.$list.off("mouseleave.slick",t.proxy(e.interrupt,e,!1))},e.prototype.cleanUpRows=function(){var t,e=this;e.options.rows>0&&(t=e.$slides.children().children(),t.removeAttr("style"),e.$slider.empty().append(t))},e.prototype.clickHandler=function(t){!1===this.shouldClick&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault())},e.prototype.destroy=function(e){var n=this;n.autoPlayClear(),n.touchObject={},n.cleanUpEvents(),t(".slick-cloned",n.$slider).detach(),n.$dots&&n.$dots.remove(),n.$prevArrow&&n.$prevArrow.length&&(n.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),n.htmlExpr.test(n.options.prevArrow)&&n.$prevArrow.remove()),n.$nextArrow&&n.$nextArrow.length&&(n.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),n.htmlExpr.test(n.options.nextArrow)&&n.$nextArrow.remove()),n.$slides&&(n.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){t(this).attr("style",t(this).data("originalStyling"))}),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.detach(),n.$list.detach(),n.$slider.append(n.$slides)),n.cleanUpRows(),n.$slider.removeClass("slick-slider"),n.$slider.removeClass("slick-initialized"),n.$slider.removeClass("slick-dotted"),n.unslicked=!0,e||n.$slider.trigger("destroy",[n])},e.prototype.disableTransition=function(t){var e=this,n={};n[e.transitionType]="",!1===e.options.fade?e.$slideTrack.css(n):e.$slides.eq(t).css(n)},e.prototype.fadeSlide=function(t,e){var n=this;!1===n.cssTransitions?(n.$slides.eq(t).css({zIndex:n.options.zIndex}),n.$slides.eq(t).animate({opacity:1},n.options.speed,n.options.easing,e)):(n.applyTransition(t),n.$slides.eq(t).css({opacity:1,zIndex:n.options.zIndex}),e&&setTimeout(function(){n.disableTransition(t),e.call()},n.options.speed))},e.prototype.fadeSlideOut=function(t){var e=this;!1===e.cssTransitions?e.$slides.eq(t).animate({opacity:0,zIndex:e.options.zIndex-2},e.options.speed,e.options.easing):(e.applyTransition(t),e.$slides.eq(t).css({opacity:0,zIndex:e.options.zIndex-2}))},e.prototype.filterSlides=e.prototype.slickFilter=function(t){var e=this;null!==t&&(e.$slidesCache=e.$slides,e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(t).appendTo(e.$slideTrack),e.reinit())},e.prototype.focusHandler=function(){var e=this;e.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",function(n){n.stopImmediatePropagation();var i=t(this);setTimeout(function(){e.options.pauseOnFocus&&(e.focussed=i.is(":focus"),e.autoPlay())},0)})},e.prototype.getCurrent=e.prototype.slickCurrentSlide=function(){return this.currentSlide},e.prototype.getDotCount=function(){var t=this,e=0,n=0,i=0;if(!0===t.options.infinite)if(t.slideCount<=t.options.slidesToShow)++i;else for(;e<t.slideCount;)++i,e=n+t.options.slidesToScroll,n+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else if(!0===t.options.centerMode)i=t.slideCount;else if(t.options.asNavFor)for(;e<t.slideCount;)++i,e=n+t.options.slidesToScroll,n+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else i=1+Math.ceil((t.slideCount-t.options.slidesToShow)/t.options.slidesToScroll);return i-1},e.prototype.getLeft=function(t){var e,n,i,r,o=this,a=0;return o.slideOffset=0,n=o.$slides.first().outerHeight(!0),!0===o.options.infinite?(o.slideCount>o.options.slidesToShow&&(o.slideOffset=o.slideWidth*o.options.slidesToShow*-1,r=-1,!0===o.options.vertical&&!0===o.options.centerMode&&(2===o.options.slidesToShow?r=-1.5:1===o.options.slidesToShow&&(r=-2)),a=n*o.options.slidesToShow*r),o.slideCount%o.options.slidesToScroll!=0&&t+o.options.slidesToScroll>o.slideCount&&o.slideCount>o.options.slidesToShow&&(t>o.slideCount?(o.slideOffset=(o.options.slidesToShow-(t-o.slideCount))*o.slideWidth*-1,a=(o.options.slidesToShow-(t-o.slideCount))*n*-1):(o.slideOffset=o.slideCount%o.options.slidesToScroll*o.slideWidth*-1,a=o.slideCount%o.options.slidesToScroll*n*-1))):t+o.options.slidesToShow>o.slideCount&&(o.slideOffset=(t+o.options.slidesToShow-o.slideCount)*o.slideWidth,a=(t+o.options.slidesToShow-o.slideCount)*n),o.slideCount<=o.options.slidesToShow&&(o.slideOffset=0,a=0),!0===o.options.centerMode&&o.slideCount<=o.options.slidesToShow?o.slideOffset=o.slideWidth*Math.floor(o.options.slidesToShow)/2-o.slideWidth*o.slideCount/2:!0===o.options.centerMode&&!0===o.options.infinite?o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)-o.slideWidth:!0===o.options.centerMode&&(o.slideOffset=0,o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)),e=!1===o.options.vertical?t*o.slideWidth*-1+o.slideOffset:t*n*-1+a,!0===o.options.variableWidth&&(i=o.slideCount<=o.options.slidesToShow||!1===o.options.infinite?o.$slideTrack.children(".slick-slide").eq(t):o.$slideTrack.children(".slick-slide").eq(t+o.options.slidesToShow),e=!0===o.options.rtl?i[0]?-1*(o.$slideTrack.width()-i[0].offsetLeft-i.width()):0:i[0]?-1*i[0].offsetLeft:0,!0===o.options.centerMode&&(i=o.slideCount<=o.options.slidesToShow||!1===o.options.infinite?o.$slideTrack.children(".slick-slide").eq(t):o.$slideTrack.children(".slick-slide").eq(t+o.options.slidesToShow+1),e=!0===o.options.rtl?i[0]?-1*(o.$slideTrack.width()-i[0].offsetLeft-i.width()):0:i[0]?-1*i[0].offsetLeft:0,e+=(o.$list.width()-i.outerWidth())/2)),e},e.prototype.getOption=e.prototype.slickGetOption=function(t){return this.options[t]},e.prototype.getNavigableIndexes=function(){var t,e=this,n=0,i=0,r=[];for(!1===e.options.infinite?t=e.slideCount:(n=-1*e.options.slidesToScroll,i=-1*e.options.slidesToScroll,t=2*e.slideCount);n<t;)r.push(n),n=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return r},e.prototype.getSlick=function(){return this},e.prototype.getSlideCount=function(){var e,n,i=this;return n=!0===i.options.centerMode?i.slideWidth*Math.floor(i.options.slidesToShow/2):0,!0===i.options.swipeToSlide?(i.$slideTrack.find(".slick-slide").each(function(r,o){if(o.offsetLeft-n+t(o).outerWidth()/2>-1*i.swipeLeft)return e=o,!1}),Math.abs(t(e).attr("data-slick-index")-i.currentSlide)||1):i.options.slidesToScroll},e.prototype.goTo=e.prototype.slickGoTo=function(t,e){this.changeSlide({data:{message:"index",index:parseInt(t)}},e)},e.prototype.init=function(e){var n=this;t(n.$slider).hasClass("slick-initialized")||(t(n.$slider).addClass("slick-initialized"),n.buildRows(),n.buildOut(),n.setProps(),n.startLoad(),n.loadSlider(),n.initializeEvents(),n.updateArrows(),n.updateDots(),n.checkResponsive(!0),n.focusHandler()),e&&n.$slider.trigger("init",[n]),!0===n.options.accessibility&&n.initADA(),n.options.autoplay&&(n.paused=!1,n.autoPlay())},e.prototype.initADA=function(){var e=this,n=Math.ceil(e.slideCount/e.options.slidesToShow),i=e.getNavigableIndexes().filter(function(t){return t>=0&&t<e.slideCount});e.$slides.add(e.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==e.$dots&&(e.$slides.not(e.$slideTrack.find(".slick-cloned")).each(function(n){var r=i.indexOf(n);if(t(this).attr({role:"tabpanel",id:"slick-slide"+e.instanceUid+n,tabindex:-1}),-1!==r){var o="slick-slide-control"+e.instanceUid+r;t("#"+o).length&&t(this).attr({"aria-describedby":o})}}),e.$dots.attr("role","tablist").find("li").each(function(r){var o=i[r];t(this).attr({role:"presentation"}),t(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+e.instanceUid+r,"aria-controls":"slick-slide"+e.instanceUid+o,"aria-label":r+1+" of "+n,"aria-selected":null,tabindex:"-1"})}).eq(e.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var r=e.currentSlide,o=r+e.options.slidesToShow;r<o;r++)e.options.focusOnChange?e.$slides.eq(r).attr({tabindex:"0"}):e.$slides.eq(r).removeAttr("tabindex");e.activateADA()},e.prototype.initArrowEvents=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},t.changeSlide),t.$nextArrow.off("click.slick").on("click.slick",{message:"next"},t.changeSlide),!0===t.options.accessibility&&(t.$prevArrow.on("keydown.slick",t.keyHandler),t.$nextArrow.on("keydown.slick",t.keyHandler)))},e.prototype.initDotEvents=function(){var e=this;!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&(t("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),!0===e.options.accessibility&&e.$dots.on("keydown.slick",e.keyHandler)),!0===e.options.dots&&!0===e.options.pauseOnDotsHover&&e.slideCount>e.options.slidesToShow&&t("li",e.$dots).on("mouseenter.slick",t.proxy(e.interrupt,e,!0)).on("mouseleave.slick",t.proxy(e.interrupt,e,!1))},e.prototype.initSlideEvents=function(){var e=this;e.options.pauseOnHover&&(e.$list.on("mouseenter.slick",t.proxy(e.interrupt,e,!0)),e.$list.on("mouseleave.slick",t.proxy(e.interrupt,e,!1)))},e.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.initSlideEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),t(document).on(e.visibilityChange,t.proxy(e.visibility,e)),!0===e.options.accessibility&&e.$list.on("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&t(e.$slideTrack).children().on("click.slick",e.selectHandler),t(window).on("orientationchange.slick.slick-"+e.instanceUid,t.proxy(e.orientationChange,e)),t(window).on("resize.slick.slick-"+e.instanceUid,t.proxy(e.resize,e)),t("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),t(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),t(e.setPosition)},e.prototype.initUI=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.show(),t.$nextArrow.show()),!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&t.$dots.show()},e.prototype.keyHandler=function(t){var e=this;t.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===t.keyCode&&!0===e.options.accessibility?e.changeSlide({data:{message:!0===e.options.rtl?"next":"previous"}}):39===t.keyCode&&!0===e.options.accessibility&&e.changeSlide({data:{message:!0===e.options.rtl?"previous":"next"}}))},e.prototype.lazyLoad=function(){function e(e){t("img[data-lazy]",e).each(function(){var e=t(this),n=t(this).attr("data-lazy"),i=t(this).attr("data-srcset"),r=t(this).attr("data-sizes")||a.$slider.attr("data-sizes"),o=document.createElement("img");o.onload=function(){e.animate({opacity:0},100,function(){i&&(e.attr("srcset",i),r&&e.attr("sizes",r)),e.attr("src",n).animate({opacity:1},200,function(){e.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")}),a.$slider.trigger("lazyLoaded",[a,e,n])})},o.onerror=function(){e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),a.$slider.trigger("lazyLoadError",[a,e,n])},o.src=n})}var n,i,r,o,a=this;if(!0===a.options.centerMode?!0===a.options.infinite?(r=a.currentSlide+(a.options.slidesToShow/2+1),o=r+a.options.slidesToShow+2):(r=Math.max(0,a.currentSlide-(a.options.slidesToShow/2+1)),o=a.options.slidesToShow/2+1+2+a.currentSlide):(r=a.options.infinite?a.options.slidesToShow+a.currentSlide:a.currentSlide,o=Math.ceil(r+a.options.slidesToShow),!0===a.options.fade&&(r>0&&r--,o<=a.slideCount&&o++)),n=a.$slider.find(".slick-slide").slice(r,o),"anticipated"===a.options.lazyLoad)for(var s=r-1,l=o,u=a.$slider.find(".slick-slide"),d=0;d<a.options.slidesToScroll;d++)s<0&&(s=a.slideCount-1),n=n.add(u.eq(s)),n=n.add(u.eq(l)),s--,l++;e(n),a.slideCount<=a.options.slidesToShow?(i=a.$slider.find(".slick-slide"),e(i)):a.currentSlide>=a.slideCount-a.options.slidesToShow?(i=a.$slider.find(".slick-cloned").slice(0,a.options.slidesToShow),e(i)):0===a.currentSlide&&(i=a.$slider.find(".slick-cloned").slice(-1*a.options.slidesToShow),e(i))},e.prototype.loadSlider=function(){var t=this;t.setPosition(),t.$slideTrack.css({opacity:1}),t.$slider.removeClass("slick-loading"),t.initUI(),"progressive"===t.options.lazyLoad&&t.progressiveLazyLoad()},e.prototype.next=e.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},e.prototype.orientationChange=function(){var t=this;t.checkResponsive(),t.setPosition()},e.prototype.pause=e.prototype.slickPause=function(){var t=this;t.autoPlayClear(),t.paused=!0},e.prototype.play=e.prototype.slickPlay=function(){var t=this;t.autoPlay(),t.options.autoplay=!0,t.paused=!1,t.focussed=!1,t.interrupted=!1},e.prototype.postSlide=function(e){var n=this;if(!n.unslicked&&(n.$slider.trigger("afterChange",[n,e]),n.animating=!1,n.slideCount>n.options.slidesToShow&&n.setPosition(),n.swipeLeft=null,n.options.autoplay&&n.autoPlay(),!0===n.options.accessibility&&(n.initADA(),n.options.focusOnChange))){t(n.$slides.get(n.currentSlide)).attr("tabindex",0).focus()}},e.prototype.prev=e.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},e.prototype.preventDefault=function(t){t.preventDefault()},e.prototype.progressiveLazyLoad=function(e){e=e||1;var n,i,r,o,a,s=this,l=t("img[data-lazy]",s.$slider);l.length?(n=l.first(),i=n.attr("data-lazy"),r=n.attr("data-srcset"),o=n.attr("data-sizes")||s.$slider.attr("data-sizes"),a=document.createElement("img"),a.onload=function(){r&&(n.attr("srcset",r),o&&n.attr("sizes",o)),n.attr("src",i).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),!0===s.options.adaptiveHeight&&s.setPosition(),s.$slider.trigger("lazyLoaded",[s,n,i]),s.progressiveLazyLoad()},a.onerror=function(){e<3?setTimeout(function(){s.progressiveLazyLoad(e+1)},500):(n.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),s.$slider.trigger("lazyLoadError",[s,n,i]),s.progressiveLazyLoad())},a.src=i):s.$slider.trigger("allImagesLoaded",[s])},e.prototype.refresh=function(e){var n,i,r=this;i=r.slideCount-r.options.slidesToShow,!r.options.infinite&&r.currentSlide>i&&(r.currentSlide=i),r.slideCount<=r.options.slidesToShow&&(r.currentSlide=0),n=r.currentSlide,r.destroy(!0),t.extend(r,r.initials,{currentSlide:n}),r.init(),e||r.changeSlide({data:{message:"index",index:n}},!1)},e.prototype.registerBreakpoints=function(){var e,n,i,r=this,o=r.options.responsive||null;if("array"===t.type(o)&&o.length){r.respondTo=r.options.respondTo||"window";for(e in o)if(i=r.breakpoints.length-1,o.hasOwnProperty(e)){for(n=o[e].breakpoint;i>=0;)r.breakpoints[i]&&r.breakpoints[i]===n&&r.breakpoints.splice(i,1),i--;r.breakpoints.push(n),r.breakpointSettings[n]=o[e].settings}r.breakpoints.sort(function(t,e){return r.options.mobileFirst?t-e:e-t})}},e.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.cleanUpSlideEvents(),e.initSlideEvents(),e.checkResponsive(!1,!0),!0===e.options.focusOnSelect&&t(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),e.setPosition(),e.focusHandler(),e.paused=!e.options.autoplay,e.autoPlay(),e.$slider.trigger("reInit",[e])},e.prototype.resize=function(){var e=this;t(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=t(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},e.prototype.removeSlide=e.prototype.slickRemove=function(t,e,n){var i=this;if("boolean"==typeof t?(e=t,t=!0===e?0:i.slideCount-1):t=!0===e?--t:t,i.slideCount<1||t<0||t>i.slideCount-1)return!1;i.unload(),!0===n?i.$slideTrack.children().remove():i.$slideTrack.children(this.options.slide).eq(t).remove(),i.$slides=i.$slideTrack.children(this.options.slide),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.append(i.$slides),i.$slidesCache=i.$slides,i.reinit()},e.prototype.setCSS=function(t){var e,n,i=this,r={};!0===i.options.rtl&&(t=-t),e="left"==i.positionProp?Math.ceil(t)+"px":"0px",n="top"==i.positionProp?Math.ceil(t)+"px":"0px",r[i.positionProp]=t,!1===i.transformsEnabled?i.$slideTrack.css(r):(r={},!1===i.cssTransitions?(r[i.animType]="translate("+e+", "+n+")",i.$slideTrack.css(r)):(r[i.animType]="translate3d("+e+", "+n+", 0px)",i.$slideTrack.css(r)))},e.prototype.setDimensions=function(){var t=this;!1===t.options.vertical?!0===t.options.centerMode&&t.$list.css({padding:"0px "+t.options.centerPadding}):(t.$list.height(t.$slides.first().outerHeight(!0)*t.options.slidesToShow),!0===t.options.centerMode&&t.$list.css({padding:t.options.centerPadding+" 0px"})),t.listWidth=t.$list.width(),t.listHeight=t.$list.height(),!1===t.options.vertical&&!1===t.options.variableWidth?(t.slideWidth=Math.ceil(t.listWidth/t.options.slidesToShow),t.$slideTrack.width(Math.ceil(t.slideWidth*t.$slideTrack.children(".slick-slide").length))):!0===t.options.variableWidth?t.$slideTrack.width(5e3*t.slideCount):(t.slideWidth=Math.ceil(t.listWidth),t.$slideTrack.height(Math.ceil(t.$slides.first().outerHeight(!0)*t.$slideTrack.children(".slick-slide").length)));var e=t.$slides.first().outerWidth(!0)-t.$slides.first().width();!1===t.options.variableWidth&&t.$slideTrack.children(".slick-slide").width(t.slideWidth-e)},e.prototype.setFade=function(){var e,n=this;n.$slides.each(function(i,r){e=n.slideWidth*i*-1,!0===n.options.rtl?t(r).css({position:"relative",right:e,top:0,zIndex:n.options.zIndex-2,opacity:0}):t(r).css({position:"relative",left:e,top:0,zIndex:n.options.zIndex-2,opacity:0})}),n.$slides.eq(n.currentSlide).css({zIndex:n.options.zIndex-1,opacity:1})},e.prototype.setHeight=function(){var t=this;if(1===t.options.slidesToShow&&!0===t.options.adaptiveHeight&&!1===t.options.vertical){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.css("height",e)}},e.prototype.setOption=e.prototype.slickSetOption=function(){var e,n,i,r,o,a=this,s=!1;if("object"===t.type(arguments[0])?(i=arguments[0],s=arguments[1],o="multiple"):"string"===t.type(arguments[0])&&(i=arguments[0],r=arguments[1],s=arguments[2],"responsive"===arguments[0]&&"array"===t.type(arguments[1])?o="responsive":"undefined"!=typeof arguments[1]&&(o="single")),"single"===o)a.options[i]=r;else if("multiple"===o)t.each(i,function(t,e){a.options[t]=e});else if("responsive"===o)for(n in r)if("array"!==t.type(a.options.responsive))a.options.responsive=[r[n]];else{for(e=a.options.responsive.length-1;e>=0;)a.options.responsive[e].breakpoint===r[n].breakpoint&&a.options.responsive.splice(e,1),e--;a.options.responsive.push(r[n])}s&&(a.unload(),a.reinit())},e.prototype.setPosition=function(){var t=this;t.setDimensions(),t.setHeight(),!1===t.options.fade?t.setCSS(t.getLeft(t.currentSlide)):t.setFade(),t.$slider.trigger("setPosition",[t])},e.prototype.setProps=function(){var t=this,e=document.body.style;t.positionProp=!0===t.options.vertical?"top":"left","top"===t.positionProp?t.$slider.addClass("slick-vertical"):t.$slider.removeClass("slick-vertical"),e.WebkitTransition===undefined&&e.MozTransition===undefined&&e.msTransition===undefined||!0===t.options.useCSS&&(t.cssTransitions=!0),t.options.fade&&("number"==typeof t.options.zIndex?t.options.zIndex<3&&(t.options.zIndex=3):t.options.zIndex=t.defaults.zIndex),e.OTransform!==undefined&&(t.animType="OTransform",t.transformType="-o-transform",t.transitionType="OTransition",e.perspectiveProperty===undefined&&e.webkitPerspective===undefined&&(t.animType=!1)),e.MozTransform!==undefined&&(t.animType="MozTransform",t.transformType="-moz-transform",t.transitionType="MozTransition",e.perspectiveProperty===undefined&&e.MozPerspective===undefined&&(t.animType=!1)),e.webkitTransform!==undefined&&(t.animType="webkitTransform",t.transformType="-webkit-transform",t.transitionType="webkitTransition",e.perspectiveProperty===undefined&&e.webkitPerspective===undefined&&(t.animType=!1)),e.msTransform!==undefined&&(t.animType="msTransform",t.transformType="-ms-transform",t.transitionType="msTransition",e.msTransform===undefined&&(t.animType=!1)),e.transform!==undefined&&!1!==t.animType&&(t.animType="transform",t.transformType="transform",t.transitionType="transition"),t.transformsEnabled=t.options.useTransform&&null!==t.animType&&!1!==t.animType},e.prototype.setSlideClasses=function(t){var e,n,i,r,o=this;if(n=o.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),o.$slides.eq(t).addClass("slick-current"),!0===o.options.centerMode){var a=o.options.slidesToShow%2==0?1:0;e=Math.floor(o.options.slidesToShow/2),!0===o.options.infinite&&(t>=e&&t<=o.slideCount-1-e?o.$slides.slice(t-e+a,t+e+1).addClass("slick-active").attr("aria-hidden","false"):(i=o.options.slidesToShow+t,n.slice(i-e+1+a,i+e+2).addClass("slick-active").attr("aria-hidden","false")),0===t?n.eq(n.length-1-o.options.slidesToShow).addClass("slick-center"):t===o.slideCount-1&&n.eq(o.options.slidesToShow).addClass("slick-center")),o.$slides.eq(t).addClass("slick-center")}else t>=0&&t<=o.slideCount-o.options.slidesToShow?o.$slides.slice(t,t+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):n.length<=o.options.slidesToShow?n.addClass("slick-active").attr("aria-hidden","false"):(r=o.slideCount%o.options.slidesToShow,i=!0===o.options.infinite?o.options.slidesToShow+t:t,o.options.slidesToShow==o.options.slidesToScroll&&o.slideCount-t<o.options.slidesToShow?n.slice(i-(o.options.slidesToShow-r),i+r).addClass("slick-active").attr("aria-hidden","false"):n.slice(i,i+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));"ondemand"!==o.options.lazyLoad&&"anticipated"!==o.options.lazyLoad||o.lazyLoad()},e.prototype.setupInfinite=function(){var e,n,i,r=this;if(!0===r.options.fade&&(r.options.centerMode=!1),!0===r.options.infinite&&!1===r.options.fade&&(n=null,r.slideCount>r.options.slidesToShow)){for(i=!0===r.options.centerMode?r.options.slidesToShow+1:r.options.slidesToShow,e=r.slideCount;e>r.slideCount-i;e-=1)n=e-1,t(r.$slides[n]).clone(!0).attr("id","").attr("data-slick-index",n-r.slideCount).prependTo(r.$slideTrack).addClass("slick-cloned");for(e=0;e<i+r.slideCount;e+=1)n=e,t(r.$slides[n]).clone(!0).attr("id","").attr("data-slick-index",n+r.slideCount).appendTo(r.$slideTrack).addClass("slick-cloned");r.$slideTrack.find(".slick-cloned").find("[id]").each(function(){t(this).attr("id","")})}},e.prototype.interrupt=function(t){var e=this;t||e.autoPlay(),e.interrupted=t},e.prototype.selectHandler=function(e){var n=this,i=t(e.target).is(".slick-slide")?t(e.target):t(e.target).parents(".slick-slide"),r=parseInt(i.attr("data-slick-index"));if(r||(r=0),n.slideCount<=n.options.slidesToShow)return void n.slideHandler(r,!1,!0);n.slideHandler(r)},e.prototype.slideHandler=function(t,e,n){var i,r,o,a,s,l=null,u=this;if(e=e||!1,!(!0===u.animating&&!0===u.options.waitForAnimate||!0===u.options.fade&&u.currentSlide===t)){if(!1===e&&u.asNavFor(t),i=t,l=u.getLeft(i),a=u.getLeft(u.currentSlide),u.currentLeft=null===u.swipeLeft?a:u.swipeLeft,!1===u.options.infinite&&!1===u.options.centerMode&&(t<0||t>u.getDotCount()*u.options.slidesToScroll))return void(!1===u.options.fade&&(i=u.currentSlide,!0!==n&&u.slideCount>u.options.slidesToShow?u.animateSlide(a,function(){u.postSlide(i)}):u.postSlide(i)));if(!1===u.options.infinite&&!0===u.options.centerMode&&(t<0||t>u.slideCount-u.options.slidesToScroll))return void(!1===u.options.fade&&(i=u.currentSlide,!0!==n&&u.slideCount>u.options.slidesToShow?u.animateSlide(a,function(){u.postSlide(i)}):u.postSlide(i)));if(u.options.autoplay&&clearInterval(u.autoPlayTimer),r=i<0?u.slideCount%u.options.slidesToScroll!=0?u.slideCount-u.slideCount%u.options.slidesToScroll:u.slideCount+i:i>=u.slideCount?u.slideCount%u.options.slidesToScroll!=0?0:i-u.slideCount:i,u.animating=!0,u.$slider.trigger("beforeChange",[u,u.currentSlide,r]),o=u.currentSlide,u.currentSlide=r,u.setSlideClasses(u.currentSlide),u.options.asNavFor&&(s=u.getNavTarget(),s=s.slick("getSlick"),s.slideCount<=s.options.slidesToShow&&s.setSlideClasses(u.currentSlide)),u.updateDots(),u.updateArrows(),!0===u.options.fade)return!0!==n?(u.fadeSlideOut(o),u.fadeSlide(r,function(){u.postSlide(r)})):u.postSlide(r),void u.animateHeight();!0!==n&&u.slideCount>u.options.slidesToShow?u.animateSlide(l,function(){u.postSlide(r)}):u.postSlide(r)}},e.prototype.startLoad=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.hide(),t.$nextArrow.hide()),!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&t.$dots.hide(),t.$slider.addClass("slick-loading")},e.prototype.swipeDirection=function(){var t,e,n,i,r=this;return t=r.touchObject.startX-r.touchObject.curX,e=r.touchObject.startY-r.touchObject.curY,n=Math.atan2(e,t),i=Math.round(180*n/Math.PI),i<0&&(i=360-Math.abs(i)),i<=45&&i>=0?!1===r.options.rtl?"left":"right":i<=360&&i>=315?!1===r.options.rtl?"left":"right":i>=135&&i<=225?!1===r.options.rtl?"right":"left":!0===r.options.verticalSwiping?i>=35&&i<=135?"down":"up":"vertical"},e.prototype.swipeEnd=function(){var t,e,n=this;if(n.dragging=!1,n.swiping=!1,n.scrolling)return n.scrolling=!1,!1;if(n.interrupted=!1,n.shouldClick=!(n.touchObject.swipeLength>10),n.touchObject.curX===undefined)return!1;if(!0===n.touchObject.edgeHit&&n.$slider.trigger("edge",[n,n.swipeDirection()]),n.touchObject.swipeLength>=n.touchObject.minSwipe){switch(e=n.swipeDirection()){case"left":case"down":t=n.options.swipeToSlide?n.checkNavigable(n.currentSlide+n.getSlideCount()):n.currentSlide+n.getSlideCount(),n.currentDirection=0;break;case"right":case"up":t=n.options.swipeToSlide?n.checkNavigable(n.currentSlide-n.getSlideCount()):n.currentSlide-n.getSlideCount(),n.currentDirection=1}"vertical"!=e&&(n.slideHandler(t),n.touchObject={},n.$slider.trigger("swipe",[n,e]))}else n.touchObject.startX!==n.touchObject.curX&&(n.slideHandler(n.currentSlide),n.touchObject={})},e.prototype.swipeHandler=function(t){var e=this;if(!(!1===e.options.swipe||"ontouchend"in document&&!1===e.options.swipe||!1===e.options.draggable&&-1!==t.type.indexOf("mouse")))switch(e.touchObject.fingerCount=t.originalEvent&&t.originalEvent.touches!==undefined?t.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,!0===e.options.verticalSwiping&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),t.data.action){case"start":e.swipeStart(t);break;case"move":e.swipeMove(t);break;case"end":e.swipeEnd(t)}},e.prototype.swipeMove=function(t){var e,n,i,r,o,a,s=this;return o=t.originalEvent!==undefined?t.originalEvent.touches:null,!(!s.dragging||s.scrolling||o&&1!==o.length)&&(e=s.getLeft(s.currentSlide),s.touchObject.curX=o!==undefined?o[0].pageX:t.clientX,s.touchObject.curY=o!==undefined?o[0].pageY:t.clientY,s.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(s.touchObject.curX-s.touchObject.startX,2))),a=Math.round(Math.sqrt(Math.pow(s.touchObject.curY-s.touchObject.startY,2))),!s.options.verticalSwiping&&!s.swiping&&a>4?(s.scrolling=!0,!1):(!0===s.options.verticalSwiping&&(s.touchObject.swipeLength=a),n=s.swipeDirection(),t.originalEvent!==undefined&&s.touchObject.swipeLength>4&&(s.swiping=!0,t.preventDefault()),r=(!1===s.options.rtl?1:-1)*(s.touchObject.curX>s.touchObject.startX?1:-1),!0===s.options.verticalSwiping&&(r=s.touchObject.curY>s.touchObject.startY?1:-1),i=s.touchObject.swipeLength,s.touchObject.edgeHit=!1,!1===s.options.infinite&&(0===s.currentSlide&&"right"===n||s.currentSlide>=s.getDotCount()&&"left"===n)&&(i=s.touchObject.swipeLength*s.options.edgeFriction,s.touchObject.edgeHit=!0),!1===s.options.vertical?s.swipeLeft=e+i*r:s.swipeLeft=e+i*(s.$list.height()/s.listWidth)*r,!0===s.options.verticalSwiping&&(s.swipeLeft=e+i*r),!0!==s.options.fade&&!1!==s.options.touchMove&&(!0===s.animating?(s.swipeLeft=null,!1):void s.setCSS(s.swipeLeft))))},e.prototype.swipeStart=function(t){var e,n=this;if(n.interrupted=!0,1!==n.touchObject.fingerCount||n.slideCount<=n.options.slidesToShow)return n.touchObject={},!1;t.originalEvent!==undefined&&t.originalEvent.touches!==undefined&&(e=t.originalEvent.touches[0]),n.touchObject.startX=n.touchObject.curX=e!==undefined?e.pageX:t.clientX,n.touchObject.startY=n.touchObject.curY=e!==undefined?e.pageY:t.clientY,n.dragging=!0},e.prototype.unfilterSlides=e.prototype.slickUnfilter=function(){var t=this;null!==t.$slidesCache&&(t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.appendTo(t.$slideTrack),t.reinit())},e.prototype.unload=function(){var e=this;t(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},e.prototype.unslick=function(t){var e=this;e.$slider.trigger("unslick",[e,t]),e.destroy()},e.prototype.updateArrows=function(){var t=this;Math.floor(t.options.slidesToShow/2),!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&!t.options.infinite&&(t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===t.currentSlide?(t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-t.options.slidesToShow&&!1===t.options.centerMode?(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-1&&!0===t.options.centerMode&&(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},e.prototype.updateDots=function(){var t=this;null!==t.$dots&&(t.$dots.find("li").removeClass("slick-active").end(),t.$dots.find("li").eq(Math.floor(t.currentSlide/t.options.slidesToScroll)).addClass("slick-active"))},e.prototype.visibility=function(){var t=this;t.options.autoplay&&(document[t.hidden]?t.interrupted=!0:t.interrupted=!1)},t.fn.slick=function(){var t,n,i=this,r=arguments[0],o=Array.prototype.slice.call(arguments,1),a=i.length;for(t=0;t<a;t++)if("object"==typeof r||void 0===r?i[t].slick=new e(i[t],r):n=i[t].slick[r].apply(i[t].slick,o),void 0!==n)return n;return i}}),function(){window.GD||(window.GD={})}.call(this);